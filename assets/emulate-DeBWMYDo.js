import{P as Yu,g as Zu,S as Qu,a as $c,R as ce,r as F,j as u,c as Ku,u as Ju,V as _,M as mt,Q as q,E as re,b as Pa,d as ef,O as Oa,C as Wc,L as Xc,B as Ia,e as qc,F as Yc,G as be,f as tf,h as Se,i as ue,k as kr,l as jn,m as _i,T as ka,n as nf,o as ht,p as Zc,q as Qc,s as rf,t as sf,W as Kc,v as xo,w as af,x as yo,y as of,z as lf,_ as cr,A as cf,D as uf,H as ff}from"./index-A1X0Mhkh.js";function hf(t,e,n){if(!(e instanceof globalThis.MouseEvent))return n.set(0,0);const{width:r,height:i,top:s,left:a}=t.getBoundingClientRect(),o=e.clientX-a,l=e.clientY-s;return n.set(o/r*2-1,-(l/i)*2+1)}function df(t,e,n,r){return pf(t,typeof e=="function"?e:()=>e,n,hf.bind(null,t),t.setPointerCapture.bind(t),i=>{t.hasPointerCapture(i)&&t.releasePointerCapture(i)},{pointerTypePrefix:"screen-",...r})}function pf(t,e,n,r,i,s,a={}){const o=a?.forwardPointerCapture??!0,l=new Map,c=a.pointerTypePrefix??"forward-",f=(M,N)=>{let C=l.get(M.pointerId);return C!=null||(C=new Yu(Zu(),`${c}${M.pointerType}`,M.pointerState,new Qu((J,ie)=>(r(J,ie),e()),a),e,void 0,o?i.bind(null,M.pointerId):void 0,o?s.bind(null,M.pointerId):void 0,a),N!="move"&&N!="wheel"&&(C.setIntersection(C.computeIntersection("pointer",n,M)),C.commit(M,!1)),l.set(M.pointerId,C)),C},h=new Map,d=new Map,m=[],g=[],y=(M,N,C)=>{switch(M){case"move":C.move(n,N);return;case"wheel":C.wheel(n,N);return;case"cancel":C.cancel(N);return;case"down":if(!vo(N))return;C.down(N);return;case"up":if(!vo(N))return;C.up(N);return;case"exit":d.delete(C),h.delete(C),C.exit(N);return}},x=(M,N)=>{const C=f(N,M);M==="move"&&d.set(C,N),M==="wheel"&&h.set(C,N),a.batchEvents??!0?g.push({type:M,event:N}):y(M,N,C)},v=x.bind(null,"move"),A=x.bind(null,"cancel"),w=x.bind(null,"down"),E=x.bind(null,"up"),T=x.bind(null,"wheel"),S=x.bind(null,"exit");return t.addEventListener("pointermove",v),t.addEventListener("pointercancel",A),t.addEventListener("pointerdown",w),t.addEventListener("pointerup",E),t.addEventListener("wheel",T),t.addEventListener("pointerleave",S),{destroy(){t.removeEventListener("pointermove",v),t.removeEventListener("pointercancel",A),t.removeEventListener("pointerdown",w),t.removeEventListener("pointerup",E),t.removeEventListener("wheel",T),t.removeEventListener("pointerleave",S),d.clear(),h.clear()},update(){const M=g.length;for(let N=0;N<M;N++){const{type:C,event:J}=g[N],ie=f(J,C);if(C==="move"&&(m.push(ie),d.get(ie)!=J)){ie.emitMove(J);continue}if(C==="wheel"&&h.get(ie)!=J){ie.emitWheel(J);continue}y(C,J,ie)}if(g.length=0,a.intersectEveryFrame??!1)for(const[N,C]of d.entries())m.includes(N)||N.move(n,C);m.length=0}}}function vo(t){return t.button!=null}const wo=()=>{};let La={},Jc={},e0=null,t0={mark:wo,measure:wo};try{typeof window<"u"&&(La=window),typeof document<"u"&&(Jc=document),typeof MutationObserver<"u"&&(e0=MutationObserver),typeof performance<"u"&&(t0=performance)}catch{}const{userAgent:bo=""}=La.navigator||{},Nt=La,ne=Jc,Eo=e0,ei=t0;Nt.document;const gt=!!ne.documentElement&&!!ne.head&&typeof ne.addEventListener=="function"&&typeof ne.createElement=="function",n0=~bo.indexOf("MSIE")||~bo.indexOf("Trident/");var se="classic",r0="duotone",Ce="sharp",Ne="sharp-duotone",mf=[se,r0,Ce,Ne],gf={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},To={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},xf=["kit"],yf=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,vf=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,wf={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},bf={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},Ef={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},Tf={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},_f={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},Sf={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},i0={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Af=["solid","regular","light","thin","duotone","brands"],s0=[1,2,3,4,5,6,7,8,9,10],Mf=s0.concat([11,12,13,14,15,16,17,18,19,20]),Er={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Rf=[...Object.keys(Tf),...Af,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Er.GROUP,Er.SWAP_OPACITY,Er.PRIMARY,Er.SECONDARY].concat(s0.map(t=>"".concat(t,"x"))).concat(Mf.map(t=>"w-".concat(t))),Pf={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Of={kit:{"fa-kit":"fak"}},If={kit:{fak:"fa-kit"}},_o={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const dt="___FONT_AWESOME___",Hs=16,a0="fa",o0="svg-inline--fa",nn="data-fa-i2svg",Gs="data-fa-pseudo-element",kf="data-fa-pseudo-element-pending",Ca="data-prefix",Na="data-icon",So="fontawesome-i2svg",Lf="async",Cf=["HTML","HEAD","STYLE","SCRIPT"],l0=(()=>{try{return!0}catch{return!1}})(),c0=[se,Ce,Ne];function Gr(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[se]}})}const u0={...i0};u0[se]={...i0[se],...To.kit,...To["kit-duotone"]};const Yt=Gr(u0),$s={...Sf};$s[se]={...$s[se],..._o.kit,..._o["kit-duotone"]};const Lr=Gr($s),Ws={..._f};Ws[se]={...Ws[se],...If.kit};const Zt=Gr(Ws),Xs={...Ef};Xs[se]={...Xs[se],...Of.kit};const Nf=Gr(Xs),Ff=yf,f0="fa-layers-text",zf=vf,Df={...gf};Gr(Df);const Bf=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],as=Er,Un=new Set;Object.keys(Lr[se]).map(Un.add.bind(Un));Object.keys(Lr[Ce]).map(Un.add.bind(Un));Object.keys(Lr[Ne]).map(Un.add.bind(Un));const jf=[...xf,...Rf],Mr=Nt.FontAwesomeConfig||{};function Uf(t){var e=ne.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Vf(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ne&&typeof ne.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=Vf(Uf(n));i!=null&&(Mr[r]=i)});const h0={styleDefault:"solid",familyDefault:"classic",cssPrefix:a0,replacementClass:o0,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Mr.familyPrefix&&(Mr.cssPrefix=Mr.familyPrefix);const Vn={...h0,...Mr};Vn.autoReplaceSvg||(Vn.observeMutations=!1);const I={};Object.keys(h0).forEach(t=>{Object.defineProperty(I,t,{enumerable:!0,set:function(e){Vn[t]=e,Rr.forEach(n=>n(I))},get:function(){return Vn[t]}})});Object.defineProperty(I,"familyPrefix",{enumerable:!0,set:function(t){Vn.cssPrefix=t,Rr.forEach(e=>e(I))},get:function(){return Vn.cssPrefix}});Nt.FontAwesomeConfig=I;const Rr=[];function Hf(t){return Rr.push(t),()=>{Rr.splice(Rr.indexOf(t),1)}}const bt=Hs,it={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Gf(t){if(!t||!gt)return;const e=ne.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ne.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return ne.head.insertBefore(e,r),t}const $f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Cr(){let t=12,e="";for(;t-- >0;)e+=$f[Math.random()*62|0];return e}function er(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Fa(t){return t.classList?er(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function d0(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Wf(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(d0(t[n]),'" '),"").trim()}function Bi(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function za(t){return t.size!==it.size||t.x!==it.x||t.y!==it.y||t.rotate!==it.rotate||t.flipX||t.flipY}function Xf(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function qf(t){let{transform:e,width:n=Hs,height:r=Hs,startCentered:i=!1}=t,s="";return i&&n0?s+="translate(".concat(e.x/bt-n/2,"em, ").concat(e.y/bt-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/bt,"em), calc(-50% + ").concat(e.y/bt,"em)) "):s+="translate(".concat(e.x/bt,"em, ").concat(e.y/bt,"em) "),s+="scale(".concat(e.size/bt*(e.flipX?-1:1),", ").concat(e.size/bt*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var Yf=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function p0(){const t=a0,e=o0,n=I.cssPrefix,r=I.replacementClass;let i=Yf;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let Ao=!1;function os(){I.autoAddCss&&!Ao&&(Gf(p0()),Ao=!0)}var Zf={mixout(){return{dom:{css:p0,insertCss:os}}},hooks(){return{beforeDOMElementCreation(){os()},beforeI2svg(){os()}}}};const pt=Nt||{};pt[dt]||(pt[dt]={});pt[dt].styles||(pt[dt].styles={});pt[dt].hooks||(pt[dt].hooks={});pt[dt].shims||(pt[dt].shims=[]);var st=pt[dt];const m0=[],g0=function(){ne.removeEventListener("DOMContentLoaded",g0),Si=1,m0.map(t=>t())};let Si=!1;gt&&(Si=(ne.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ne.readyState),Si||ne.addEventListener("DOMContentLoaded",g0));function Qf(t){gt&&(Si?setTimeout(t,0):m0.push(t))}function $r(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?d0(t):"<".concat(e," ").concat(Wf(n),">").concat(r.map($r).join(""),"</").concat(e,">")}function Mo(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var ls=function(e,n,r,i){var s=Object.keys(e),a=s.length,o=n,l,c,f;for(r===void 0?(l=1,f=e[s[0]]):(l=0,f=r);l<a;l++)c=s[l],f=o(f,e[c],c,e);return f};function Kf(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function qs(t){const e=Kf(t);return e.length===1?e[0].toString(16):null}function Jf(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Ro(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Ys(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=Ro(e);typeof st.hooks.addPack=="function"&&!r?st.hooks.addPack(t,Ro(e)):st.styles[t]={...st.styles[t]||{},...i},t==="fas"&&Ys("fa",e)}const{styles:Xt,shims:eh}=st,th={[se]:Object.values(Zt[se]),[Ce]:Object.values(Zt[Ce]),[Ne]:Object.values(Zt[Ne])};let Da=null,x0={},y0={},v0={},w0={},b0={};const nh={[se]:Object.keys(Yt[se]),[Ce]:Object.keys(Yt[Ce]),[Ne]:Object.keys(Yt[Ne])};function rh(t){return~jf.indexOf(t)}function ih(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!rh(i)?i:null}const E0=()=>{const t=r=>ls(Xt,(i,s,a)=>(i[a]=ls(s,r,{}),i),{});x0=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=s}),r)),y0=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=s}),r)),b0=t((r,i,s)=>{const a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});const e="far"in Xt||I.autoFetchSvg,n=ls(eh,(r,i)=>{const s=i[0];let a=i[1];const o=i[2];return a==="far"&&!e&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});v0=n.names,w0=n.unicodes,Da=ji(I.styleDefault,{family:I.familyDefault})};Hf(t=>{Da=ji(t.styleDefault,{family:I.familyDefault})});E0();function Ba(t,e){return(x0[t]||{})[e]}function sh(t,e){return(y0[t]||{})[e]}function kt(t,e){return(b0[t]||{})[e]}function T0(t){return v0[t]||{prefix:null,iconName:null}}function ah(t){const e=w0[t],n=Ba("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ft(){return Da}const ja=()=>({prefix:null,iconName:null,rest:[]});function ji(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=se}=e,r=Yt[n][t],i=Lr[n][t]||Lr[n][r],s=t in st.styles?t:null;return i||s||null}const oh={[se]:Object.keys(Zt[se]),[Ce]:Object.keys(Zt[Ce]),[Ne]:Object.keys(Zt[Ne])};function Ui(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[se]:"".concat(I.cssPrefix,"-").concat(se),[Ce]:"".concat(I.cssPrefix,"-").concat(Ce),[Ne]:"".concat(I.cssPrefix,"-").concat(Ne)};let i=null,s=se;const a=mf.filter(l=>l!==r0);a.forEach(l=>{(t.includes(r[l])||t.some(c=>oh[l].includes(c)))&&(s=l)});const o=t.reduce((l,c)=>{const f=ih(I.cssPrefix,c);if(Xt[c]?(c=th[s].includes(c)?Nf[s][c]:c,i=c,l.prefix=c):nh[s].indexOf(c)>-1?(i=c,l.prefix=ji(c,{family:s})):f?l.iconName=f:c!==I.replacementClass&&!a.some(h=>c===r[h])&&l.rest.push(c),!n&&l.prefix&&l.iconName){const h=i==="fa"?T0(l.iconName):{},d=kt(l.prefix,l.iconName);h.prefix&&(i=null),l.iconName=h.iconName||d||l.iconName,l.prefix=h.prefix||l.prefix,l.prefix==="far"&&!Xt.far&&Xt.fas&&!I.autoFetchSvg&&(l.prefix="fas")}return l},ja());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&s===Ce&&(Xt.fass||I.autoFetchSvg)&&(o.prefix="fass",o.iconName=kt(o.prefix,o.iconName)||o.iconName),!o.prefix&&s===Ne&&(Xt.fasds||I.autoFetchSvg)&&(o.prefix="fasds",o.iconName=kt(o.prefix,o.iconName)||o.iconName),(o.prefix==="fa"||i==="fa")&&(o.prefix=Ft()||"fas"),o}class lh{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},Ys(s,i[s]);const a=Zt[se][s];a&&Ys(a,i[s]),E0()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:a,icon:o}=r[i],l=o[2];e[s]||(e[s]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[s][c]=o)}),e[s][a]=o}),e}}let Po=[],Cn={};const zn={},ch=Object.keys(zn);function uh(t,e){let{mixoutsTo:n}=e;return Po=t,Cn={},Object.keys(zn).forEach(r=>{ch.indexOf(r)===-1&&delete zn[r]}),Po.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(a=>{Cn[a]||(Cn[a]=[]),Cn[a].push(s[a])})}r.provides&&r.provides(zn)}),n}function Zs(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Cn[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function rn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Cn[t]||[]).forEach(s=>{s.apply(null,n)})}function zt(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return zn[t]?zn[t].apply(null,e):void 0}function Qs(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Ft();if(e)return e=kt(n,e)||e,Mo(_0.definitions,n,e)||Mo(st.styles,n,e)}const _0=new lh,fh=()=>{I.autoReplaceSvg=!1,I.observeMutations=!1,rn("noAuto")},hh={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return gt?(rn("beforeI2svg",t),zt("pseudoElements2svg",t),zt("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;I.autoReplaceSvg===!1&&(I.autoReplaceSvg=!0),I.observeMutations=!0,Qf(()=>{ph({autoReplaceSvgRoot:e}),rn("watch",t)})}},dh={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:kt(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=ji(t[0]);return{prefix:n,iconName:kt(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(I.cssPrefix,"-"))>-1||t.match(Ff))){const e=Ui(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ft(),iconName:kt(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Ft();return{prefix:e,iconName:kt(e,t)||t}}}},Fe={noAuto:fh,config:I,dom:hh,parse:dh,library:_0,findIconDefinition:Qs,toHtml:$r},ph=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ne}=t;(Object.keys(st.styles).length>0||I.autoFetchSvg)&&gt&&I.autoReplaceSvg&&Fe.dom.i2svg({node:e})};function Vi(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>$r(n))}}),Object.defineProperty(t,"node",{get:function(){if(!gt)return;const n=ne.createElement("div");return n.innerHTML=t.html,n.children}}),t}function mh(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:a}=t;if(za(a)&&n.found&&!r.found){const{width:o,height:l}=n,c={x:o/l/2,y:.5};i.style=Bi({...s,"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function gh(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const a=s===!0?"".concat(e,"-").concat(I.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:a},children:r}]}]}function Ua(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:c,extra:f,watchable:h=!1}=t,{width:d,height:m}=n.found?n:e,g=r==="fak",y=[I.replacementClass,i?"".concat(I.cssPrefix,"-").concat(i):""].filter(T=>f.classes.indexOf(T)===-1).filter(T=>T!==""||!!T).concat(f.classes).join(" ");let x={children:[],attributes:{...f.attributes,"data-prefix":r,"data-icon":i,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(m)}};const v=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(d/m*16*.0625,"em")}:{};h&&(x.attributes[nn]=""),o&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(c||Cr())},children:[o]}),delete x.attributes.title);const A={...x,prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:a,styles:{...v,...f.styles}},{children:w,attributes:E}=n.found&&e.found?zt("generateAbstractMask",A)||{children:[],attributes:{}}:zt("generateAbstractIcon",A)||{children:[],attributes:{}};return A.children=w,A.attributes=E,a?gh(A):mh(A)}function Oo(t){const{content:e,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=t,l={...a.attributes,...s?{title:s}:{},class:a.classes.join(" ")};o&&(l[nn]="");const c={...a.styles};za(i)&&(c.transform=qf({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const f=Bi(c);f.length>0&&(l.style=f);const h=[];return h.push({tag:"span",attributes:l,children:[e]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function xh(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=Bi(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:cs}=st;function Ks(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(I.cssPrefix,"-").concat(as.GROUP)},children:[{tag:"path",attributes:{class:"".concat(I.cssPrefix,"-").concat(as.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(I.cssPrefix,"-").concat(as.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const yh={found:!1,width:512,height:512};function vh(t,e){!l0&&!I.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Js(t,e){let n=e;return e==="fa"&&I.styleDefault!==null&&(e=Ft()),new Promise((r,i)=>{if(n==="fa"){const s=T0(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&cs[e]&&cs[e][t]){const s=cs[e][t];return r(Ks(s))}vh(t,e),r({...yh,icon:I.showMissingIcons&&t?zt("missingIconAbstract")||{}:{}})})}const Io=()=>{},ea=I.measurePerformance&&ei&&ei.mark&&ei.measure?ei:{mark:Io,measure:Io},Tr='FA "6.6.0"',wh=t=>(ea.mark("".concat(Tr," ").concat(t," begins")),()=>S0(t)),S0=t=>{ea.mark("".concat(Tr," ").concat(t," ends")),ea.measure("".concat(Tr," ").concat(t),"".concat(Tr," ").concat(t," begins"),"".concat(Tr," ").concat(t," ends"))};var Va={begin:wh,end:S0};const hi=()=>{};function ko(t){return typeof(t.getAttribute?t.getAttribute(nn):null)=="string"}function bh(t){const e=t.getAttribute?t.getAttribute(Ca):null,n=t.getAttribute?t.getAttribute(Na):null;return e&&n}function Eh(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(I.replacementClass)}function Th(){return I.autoReplaceSvg===!0?di.replace:di[I.autoReplaceSvg]||di.replace}function _h(t){return ne.createElementNS("http://www.w3.org/2000/svg",t)}function Sh(t){return ne.createElement(t)}function A0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?_h:Sh}=e;if(typeof t=="string")return ne.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(A0(s,{ceFn:n}))}),r}function Ah(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const di={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(A0(n),e)}),e.getAttribute(nn)===null&&I.keepOriginalSource){let n=ne.createComment(Ah(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Fa(e).indexOf(I.replacementClass))return di.replace(t);const r=new RegExp("".concat(I.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((a,o)=>(o===I.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>$r(s)).join(`
`);e.setAttribute(nn,""),e.innerHTML=i}};function Lo(t){t()}function M0(t,e){const n=typeof e=="function"?e:hi;if(t.length===0)n();else{let r=Lo;I.mutateApproach===Lf&&(r=Nt.requestAnimationFrame||Lo),r(()=>{const i=Th(),s=Va.begin("mutate");t.map(i),s(),n()})}}let Ha=!1;function R0(){Ha=!0}function ta(){Ha=!1}let Ai=null;function Co(t){if(!Eo||!I.observeMutations)return;const{treeCallback:e=hi,nodeCallback:n=hi,pseudoElementsCallback:r=hi,observeMutationsRoot:i=ne}=t;Ai=new Eo(s=>{if(Ha)return;const a=Ft();er(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!ko(o.addedNodes[0])&&(I.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&I.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&ko(o.target)&&~Bf.indexOf(o.attributeName))if(o.attributeName==="class"&&bh(o.target)){const{prefix:l,iconName:c}=Ui(Fa(o.target));o.target.setAttribute(Ca,l||a),c&&o.target.setAttribute(Na,c)}else Eh(o.target)&&n(o.target)})}),gt&&Ai.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Mh(){Ai&&Ai.disconnect()}function Rh(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function Ph(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Ui(Fa(t));return i.prefix||(i.prefix=Ft()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=sh(i.prefix,t.innerText)||Ba(i.prefix,qs(t.innerText))),!i.iconName&&I.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Oh(t){const e=er(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return I.autoA11y&&(n?e["aria-labelledby"]="".concat(I.replacementClass,"-title-").concat(r||Cr()):(e["aria-hidden"]="true",e.focusable="false")),e}function Ih(){return{iconName:null,title:null,titleId:null,prefix:null,transform:it,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function No(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=Ph(t),s=Oh(t),a=Zs("parseNodeAttributes",{},t);let o=e.styleParser?Rh(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:it,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s},...a}}const{styles:kh}=st;function P0(t){const e=I.autoReplaceSvg==="nest"?No(t,{styleParser:!1}):No(t);return~e.extra.classes.indexOf(f0)?zt("generateLayersText",t,e):zt("generateSvgReplacementMutation",t,e)}let at=new Set;c0.map(t=>{at.add("fa-".concat(t))});Object.keys(Yt[se]).map(at.add.bind(at));Object.keys(Yt[Ce]).map(at.add.bind(at));Object.keys(Yt[Ne]).map(at.add.bind(at));at=[...at];function Fo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!gt)return Promise.resolve();const n=ne.documentElement.classList,r=f=>n.add("".concat(So,"-").concat(f)),i=f=>n.remove("".concat(So,"-").concat(f)),s=I.autoFetchSvg?at:c0.map(f=>"fa-".concat(f)).concat(Object.keys(kh));s.includes("fa")||s.push("fa");const a=[".".concat(f0,":not([").concat(nn,"])")].concat(s.map(f=>".".concat(f,":not([").concat(nn,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=er(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const l=Va.begin("onTree"),c=o.reduce((f,h)=>{try{const d=P0(h);d&&f.push(d)}catch(d){l0||d.name==="MissingIcon"&&console.error(d)}return f},[]);return new Promise((f,h)=>{Promise.all(c).then(d=>{M0(d,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),f()})}).catch(d=>{l(),h(d)})})}function Lh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;P0(t).then(n=>{n&&M0([n],e)})}function Ch(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Qs(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Qs(i||{})),t(r,{...n,mask:i})}}const Nh=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=it,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:c={},styles:f={}}=e;if(!t)return;const{prefix:h,iconName:d,icon:m}=t;return Vi({type:"icon",...t},()=>(rn("beforeDOMElementCreation",{iconDefinition:t,params:e}),I.autoA11y&&(a?c["aria-labelledby"]="".concat(I.replacementClass,"-title-").concat(o||Cr()):(c["aria-hidden"]="true",c.focusable="false")),Ua({icons:{main:Ks(m),mask:i?Ks(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:d,transform:{...it,...n},symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:c,styles:f,classes:l}})))};var Fh={mixout(){return{icon:Ch(Nh)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Fo,t.nodeCallback=Lh,t}}},provides(t){t.i2svg=function(e){const{node:n=ne,callback:r=()=>{}}=e;return Fo(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:l,mask:c,maskId:f,extra:h}=n;return new Promise((d,m)=>{Promise.all([Js(r,a),c.iconName?Js(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[y,x]=g;d([e,Ua({icons:{main:y,mask:x},prefix:a,iconName:r,transform:o,symbol:l,maskId:f,title:i,titleId:s,extra:h,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:a}=e;const o=Bi(a);o.length>0&&(r.style=o);let l;return za(s)&&(l=zt("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},zh={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Vi({type:"layer"},()=>{rn("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(I.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Dh={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Vi({type:"counter",content:t},()=>(rn("beforeDOMElementCreation",{content:t,params:e}),xh({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(I.cssPrefix,"-layers-counter"),...r]}})))}}}},Bh={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=it,title:r=null,classes:i=[],attributes:s={},styles:a={}}=e;return Vi({type:"text",content:t},()=>(rn("beforeDOMElementCreation",{content:t,params:e}),Oo({content:t,transform:{...it,...n},title:r,extra:{attributes:s,styles:a,classes:["".concat(I.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let a=null,o=null;if(n0){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/l,o=c.height/l}return I.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,Oo({content:e.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}};const jh=new RegExp('"',"ug"),zo=[1105920,1112319],Do={FontAwesome:{normal:"fas",400:"fas"},...bf,...wf,...Pf},na=Object.keys(Do).reduce((t,e)=>(t[e.toLowerCase()]=Do[e],t),{}),Uh=Object.keys(na).reduce((t,e)=>{const n=na[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Vh(t){const e=t.replace(jh,""),n=Jf(e,0),r=n>=zo[0]&&n<=zo[1],i=e.length===2?e[0]===e[1]:!1;return{value:qs(i?e[0]:e),isSecondary:r||i}}function Hh(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(na[n]||{})[i]||Uh[n]}function Bo(t,e){const n="".concat(kf).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const a=er(t.children).filter(d=>d.getAttribute(Gs)===e)[0],o=Nt.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),c=l.match(zf),f=o.getPropertyValue("font-weight"),h=o.getPropertyValue("content");if(a&&!c)return t.removeChild(a),r();if(c&&h!=="none"&&h!==""){const d=o.getPropertyValue("content");let m=Hh(l,f);const{value:g,isSecondary:y}=Vh(d),x=c[0].startsWith("FontAwesome");let v=Ba(m,g),A=v;if(x){const w=ah(g);w.iconName&&w.prefix&&(v=w.iconName,m=w.prefix)}if(v&&!y&&(!a||a.getAttribute(Ca)!==m||a.getAttribute(Na)!==A)){t.setAttribute(n,A),a&&t.removeChild(a);const w=Ih(),{extra:E}=w;E.attributes[Gs]=e,Js(v,m).then(T=>{const S=Ua({...w,icons:{main:T,mask:ja()},prefix:m,iconName:A,extra:E,watchable:!0}),M=ne.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(M,t.firstChild):t.appendChild(M),M.outerHTML=S.map(N=>$r(N)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Gh(t){return Promise.all([Bo(t,"::before"),Bo(t,"::after")])}function $h(t){return t.parentNode!==document.head&&!~Cf.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Gs)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function jo(t){if(gt)return new Promise((e,n)=>{const r=er(t.querySelectorAll("*")).filter($h).map(Gh),i=Va.begin("searchPseudoElements");R0(),Promise.all(r).then(()=>{i(),ta(),e()}).catch(()=>{i(),ta(),n()})})}var Wh={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=jo,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ne}=e;I.searchPseudoElements&&jo(n)}}};let Uo=!1;var Xh={mixout(){return{dom:{unwatch(){R0(),Uo=!0}}}},hooks(){return{bootstrap(){Co(Zs("mutationObserverCallbacks",{}))},noAuto(){Mh()},watch(t){const{observeMutationsRoot:e}=t;Uo?ta():Co(Zs("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const Vo=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let a=i.slice(1).join("-");if(s&&a==="h")return n.flipX=!0,n;if(s&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(s){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var qh={mixout(){return{parse:{transform:t=>Vo(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=Vo(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(o," ").concat(l," ").concat(c)},h={transform:"translate(".concat(s/2*-1," -256)")},d={outer:a,inner:f,path:h};return{tag:"g",attributes:{...d.outer},children:[{tag:"g",attributes:{...d.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...d.path}}]}]}}}};const us={x:0,y:0,width:"100%",height:"100%"};function Ho(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Yh(t){return t.tag==="g"?t.children:[t]}var Zh={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Ui(n.split(" ").map(i=>i.trim())):ja();return r.prefix||(r.prefix=Ft()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:a,transform:o}=e;const{width:l,icon:c}=i,{width:f,icon:h}=s,d=Xf({transform:o,containerWidth:f,iconWidth:l}),m={tag:"rect",attributes:{...us,fill:"white"}},g=c.children?{children:c.children.map(Ho)}:{},y={tag:"g",attributes:{...d.inner},children:[Ho({tag:c.tag,attributes:{...c.attributes,...d.path},...g})]},x={tag:"g",attributes:{...d.outer},children:[y]},v="mask-".concat(a||Cr()),A="clip-".concat(a||Cr()),w={tag:"mask",attributes:{...us,id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[m,x]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:A},children:Yh(h)},w]};return n.push(E,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(A,")"),mask:"url(#".concat(v,")"),...us}}),{children:n,attributes:r}}}},Qh={provides(t){let e=!1;Nt.matchMedia&&(e=Nt.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(a),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Kh={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},Jh=[Zf,Fh,zh,Dh,Bh,Wh,Xh,qh,Zh,Qh,Kh];uh(Jh,{mixoutsTo:Fe});Fe.noAuto;Fe.config;Fe.library;Fe.dom;const ra=Fe.parse;Fe.findIconDefinition;Fe.toHtml;const ed=Fe.icon;Fe.layer;Fe.text;Fe.counter;var fs={exports:{}},hs,Go;function td(){if(Go)return hs;Go=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hs=t,hs}var ds,$o;function nd(){if($o)return ds;$o=1;var t=td();function e(){}function n(){}return n.resetWarningCache=e,ds=function(){function r(a,o,l,c,f,h){if(h!==t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},ds}var Wo;function rd(){return Wo||(Wo=1,fs.exports=nd()()),fs.exports}var id=rd();const U=$c(id);function Xo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xo(Object(n),!0).forEach(function(r){Nn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mi(t){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(t)}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sd(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ad(t,e){if(t==null)return{};var n=sd(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ia(t){return od(t)||ld(t)||cd(t)||ud()}function od(t){if(Array.isArray(t))return sa(t)}function ld(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cd(t,e){if(t){if(typeof t=="string")return sa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sa(t,e)}}function sa(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ud(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fd(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,a=t.shake,o=t.flash,l=t.spin,c=t.spinPulse,f=t.spinReverse,h=t.pulse,d=t.fixedWidth,m=t.inverse,g=t.border,y=t.listItem,x=t.flip,v=t.size,A=t.rotation,w=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":f,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":d,"fa-inverse":m,"fa-border":g,"fa-li":y,"fa-flip":x===!0,"fa-flip-horizontal":x==="horizontal"||x==="both","fa-flip-vertical":x==="vertical"||x==="both"},Nn(e,"fa-".concat(v),typeof v<"u"&&v!==null),Nn(e,"fa-rotate-".concat(A),typeof A<"u"&&A!==null&&A!==0),Nn(e,"fa-pull-".concat(w),typeof w<"u"&&w!==null),Nn(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(T){return E[T]?T:null}).filter(function(T){return T})}function hd(t){return t=t-0,t===t}function O0(t){return hd(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var dd=["style"];function pd(t){return t.charAt(0).toUpperCase()+t.slice(1)}function md(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=O0(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[pd(i)]=s:e[i]=s,e},{})}function I0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return I0(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,c){var f=e.attributes[c];switch(c){case"class":l.attrs.className=f,delete e.attributes.class;break;case"style":l.attrs.style=md(f);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=f:l.attrs[O0(c)]=f}return l},{attrs:{}}),s=n.style,a=s===void 0?{}:s,o=ad(n,dd);return i.attrs.style=tt(tt({},i.attrs.style),a),t.apply(void 0,[e.tag,tt(tt({},i.attrs),o)].concat(ia(r)))}var k0=!1;try{k0=!0}catch{}function gd(){if(!k0&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function qo(t){if(t&&Mi(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(ra.icon)return ra.icon(t);if(t===null)return null;if(t&&Mi(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function ps(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Nn({},t,e):{}}var Yo={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Wr=ce.forwardRef(function(t,e){var n=tt(tt({},Yo),t),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,l=n.titleId,c=n.maskId,f=qo(r),h=ps("classes",[].concat(ia(fd(n)),ia((a||"").split(" ")))),d=ps("transform",typeof n.transform=="string"?ra.transform(n.transform):n.transform),m=ps("mask",qo(i)),g=ed(f,tt(tt(tt(tt({},h),d),m),{},{symbol:s,title:o,titleId:l,maskId:c}));if(!g)return gd("Could not find icon",f),null;var y=g.abstract,x={ref:e};return Object.keys(n).forEach(function(v){Yo.hasOwnProperty(v)||(x[v]=n[v])}),xd(y[0],x)});Wr.displayName="FontAwesomeIcon";Wr.propTypes={beat:U.bool,border:U.bool,beatFade:U.bool,bounce:U.bool,className:U.string,fade:U.bool,flash:U.bool,mask:U.oneOfType([U.object,U.array,U.string]),maskId:U.string,fixedWidth:U.bool,inverse:U.bool,flip:U.oneOf([!0,!1,"horizontal","vertical","both"]),icon:U.oneOfType([U.object,U.array,U.string]),listItem:U.bool,pull:U.oneOf(["right","left"]),pulse:U.bool,rotation:U.oneOf([0,90,180,270]),shake:U.bool,size:U.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:U.bool,spinPulse:U.bool,spinReverse:U.bool,symbol:U.oneOfType([U.bool,U.string]),title:U.string,titleId:U.string,transform:U.oneOfType([U.string,U.object]),swapOpacity:U.bool};var xd=I0.bind(null,ce.createElement),Ae=function(){return Ae=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ae.apply(this,arguments)};function Ri(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ms,Zo;function yd(){return Zo||(Zo=1,ms=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<a.length;c++){var f=a[c];if(!l(f))return!1;var h=e[f],d=n[f];if(s=r?r.call(i,h,d,f):void 0,s===!1||s===void 0&&h!==d)return!1}return!0}),ms}var vd=yd();const wd=$c(vd);var ee="-ms-",Pr="-moz-",X="-webkit-",L0="comm",Hi="rule",Ga="decl",bd="@import",C0="@keyframes",Ed="@layer",N0=Math.abs,$a=String.fromCharCode,aa=Object.assign;function Td(t,e){return ge(t,0)^45?(((e<<2^ge(t,0))<<2^ge(t,1))<<2^ge(t,2))<<2^ge(t,3):0}function F0(t){return t.trim()}function ct(t,e){return(t=e.exec(t))?t[0]:t}function z(t,e,n){return t.replace(e,n)}function pi(t,e,n){return t.indexOf(e,n)}function ge(t,e){return t.charCodeAt(e)|0}function Hn(t,e,n){return t.slice(e,n)}function nt(t){return t.length}function z0(t){return t.length}function _r(t,e){return e.push(t),t}function _d(t,e){return t.map(e).join("")}function Qo(t,e){return t.filter(function(n){return!ct(n,e)})}var Gi=1,Gn=1,D0=0,Ve=0,fe=0,tr="";function $i(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Gi,column:Gn,length:a,return:"",siblings:o}}function At(t,e){return aa($i("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ln(t){for(;t.root;)t=At(t.root,{children:[t]});_r(t,t.siblings)}function Sd(){return fe}function Ad(){return fe=Ve>0?ge(tr,--Ve):0,Gn--,fe===10&&(Gn=1,Gi--),fe}function Ye(){return fe=Ve<D0?ge(tr,Ve++):0,Gn++,fe===10&&(Gn=1,Gi++),fe}function Qt(){return ge(tr,Ve)}function mi(){return Ve}function Wi(t,e){return Hn(tr,t,e)}function oa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Md(t){return Gi=Gn=1,D0=nt(tr=t),Ve=0,[]}function Rd(t){return tr="",t}function gs(t){return F0(Wi(Ve-1,la(t===91?t+2:t===40?t+1:t)))}function Pd(t){for(;(fe=Qt())&&fe<33;)Ye();return oa(t)>2||oa(fe)>3?"":" "}function Od(t,e){for(;--e&&Ye()&&!(fe<48||fe>102||fe>57&&fe<65||fe>70&&fe<97););return Wi(t,mi()+(e<6&&Qt()==32&&Ye()==32))}function la(t){for(;Ye();)switch(fe){case t:return Ve;case 34:case 39:t!==34&&t!==39&&la(fe);break;case 40:t===41&&la(t);break;case 92:Ye();break}return Ve}function Id(t,e){for(;Ye()&&t+fe!==57;)if(t+fe===84&&Qt()===47)break;return"/*"+Wi(e,Ve-1)+"*"+$a(t===47?t:Ye())}function kd(t){for(;!oa(Qt());)Ye();return Wi(t,Ve)}function Ld(t){return Rd(gi("",null,null,null,[""],t=Md(t),0,[0],t))}function gi(t,e,n,r,i,s,a,o,l){for(var c=0,f=0,h=a,d=0,m=0,g=0,y=1,x=1,v=1,A=0,w="",E=i,T=s,S=r,M=w;x;)switch(g=A,A=Ye()){case 40:if(g!=108&&ge(M,h-1)==58){pi(M+=z(gs(A),"&","&\f"),"&\f",N0(c?o[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:M+=gs(A);break;case 9:case 10:case 13:case 32:M+=Pd(g);break;case 92:M+=Od(mi()-1,7);continue;case 47:switch(Qt()){case 42:case 47:_r(Cd(Id(Ye(),mi()),e,n,l),l);break;default:M+="/"}break;case 123*y:o[c++]=nt(M)*v;case 125*y:case 59:case 0:switch(A){case 0:case 125:x=0;case 59+f:v==-1&&(M=z(M,/\f/g,"")),m>0&&nt(M)-h&&_r(m>32?Jo(M+";",r,n,h-1,l):Jo(z(M," ","")+";",r,n,h-2,l),l);break;case 59:M+=";";default:if(_r(S=Ko(M,e,n,c,f,i,o,w,E=[],T=[],h,s),s),A===123)if(f===0)gi(M,e,S,S,E,s,h,o,T);else switch(d===99&&ge(M,3)===110?100:d){case 100:case 108:case 109:case 115:gi(t,S,S,r&&_r(Ko(t,S,S,0,0,i,o,w,i,E=[],h,T),T),i,T,h,o,r?E:T);break;default:gi(M,S,S,S,[""],T,0,o,T)}}c=f=m=0,y=v=1,w=M="",h=a;break;case 58:h=1+nt(M),m=g;default:if(y<1){if(A==123)--y;else if(A==125&&y++==0&&Ad()==125)continue}switch(M+=$a(A),A*y){case 38:v=f>0?1:(M+="\f",-1);break;case 44:o[c++]=(nt(M)-1)*v,v=1;break;case 64:Qt()===45&&(M+=gs(Ye())),d=Qt(),f=h=nt(w=M+=kd(mi())),A++;break;case 45:g===45&&nt(M)==2&&(y=0)}}return s}function Ko(t,e,n,r,i,s,a,o,l,c,f,h){for(var d=i-1,m=i===0?s:[""],g=z0(m),y=0,x=0,v=0;y<r;++y)for(var A=0,w=Hn(t,d+1,d=N0(x=a[y])),E=t;A<g;++A)(E=F0(x>0?m[A]+" "+w:z(w,/&\f/g,m[A])))&&(l[v++]=E);return $i(t,e,n,i===0?Hi:o,l,c,f,h)}function Cd(t,e,n,r){return $i(t,e,n,L0,$a(Sd()),Hn(t,2,-2),0,r)}function Jo(t,e,n,r,i){return $i(t,e,n,Ga,Hn(t,0,r),Hn(t,r+1,-1),r,i)}function B0(t,e,n){switch(Td(t,e)){case 5103:return X+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return X+t+t;case 4789:return Pr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return X+t+Pr+t+ee+t+t;case 5936:switch(ge(t,e+11)){case 114:return X+t+ee+z(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return X+t+ee+z(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return X+t+ee+z(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return X+t+ee+t+t;case 6165:return X+t+ee+"flex-"+t+t;case 5187:return X+t+z(t,/(\w+).+(:[^]+)/,X+"box-$1$2"+ee+"flex-$1$2")+t;case 5443:return X+t+ee+"flex-item-"+z(t,/flex-|-self/g,"")+(ct(t,/flex-|baseline/)?"":ee+"grid-row-"+z(t,/flex-|-self/g,""))+t;case 4675:return X+t+ee+"flex-line-pack"+z(t,/align-content|flex-|-self/g,"")+t;case 5548:return X+t+ee+z(t,"shrink","negative")+t;case 5292:return X+t+ee+z(t,"basis","preferred-size")+t;case 6060:return X+"box-"+z(t,"-grow","")+X+t+ee+z(t,"grow","positive")+t;case 4554:return X+z(t,/([^-])(transform)/g,"$1"+X+"$2")+t;case 6187:return z(z(z(t,/(zoom-|grab)/,X+"$1"),/(image-set)/,X+"$1"),t,"")+t;case 5495:case 3959:return z(t,/(image-set\([^]*)/,X+"$1$`$1");case 4968:return z(z(t,/(.+:)(flex-)?(.*)/,X+"box-pack:$3"+ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+X+t+t;case 4200:if(!ct(t,/flex-|baseline/))return ee+"grid-column-align"+Hn(t,e)+t;break;case 2592:case 3360:return ee+z(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ct(r.props,/grid-\w+-end/)})?~pi(t+(n=n[e].value),"span",0)?t:ee+z(t,"-start","")+t+ee+"grid-row-span:"+(~pi(n,"span",0)?ct(n,/\d+/):+ct(n,/\d+/)-+ct(t,/\d+/))+";":ee+z(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ct(r.props,/grid-\w+-start/)})?t:ee+z(z(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return z(t,/(.+)-inline(.+)/,X+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nt(t)-1-e>6)switch(ge(t,e+1)){case 109:if(ge(t,e+4)!==45)break;case 102:return z(t,/(.+:)(.+)-([^]+)/,"$1"+X+"$2-$3$1"+Pr+(ge(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pi(t,"stretch",0)?B0(z(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return z(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,o,l,c){return ee+i+":"+s+c+(a?ee+i+"-span:"+(o?l:+l-+s)+c:"")+t});case 4949:if(ge(t,e+6)===121)return z(t,":",":"+X)+t;break;case 6444:switch(ge(t,ge(t,14)===45?18:11)){case 120:return z(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+X+(ge(t,14)===45?"inline-":"")+"box$3$1"+X+"$2$3$1"+ee+"$2box$3")+t;case 100:return z(t,":",":"+ee)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return z(t,"scroll-","scroll-snap-")+t}return t}function Pi(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Nd(t,e,n,r){switch(t.type){case Ed:if(t.children.length)break;case bd:case Ga:return t.return=t.return||t.value;case L0:return"";case C0:return t.return=t.value+"{"+Pi(t.children,r)+"}";case Hi:if(!nt(t.value=t.props.join(",")))return""}return nt(n=Pi(t.children,r))?t.return=t.value+"{"+n+"}":""}function Fd(t){var e=z0(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function zd(t){return function(e){e.root||(e=e.return)&&t(e)}}function Dd(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Ga:t.return=B0(t.value,t.length,n);return;case C0:return Pi([At(t,{value:z(t.value,"@","@"+X)})],r);case Hi:if(t.length)return _d(n=t.props,function(i){switch(ct(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ln(At(t,{props:[z(i,/:(read-\w+)/,":"+Pr+"$1")]})),ln(At(t,{props:[i]})),aa(t,{props:Qo(n,r)});break;case"::placeholder":ln(At(t,{props:[z(i,/:(plac\w+)/,":"+X+"input-$1")]})),ln(At(t,{props:[z(i,/:(plac\w+)/,":"+Pr+"$1")]})),ln(At(t,{props:[z(i,/:(plac\w+)/,ee+"input-$1")]})),ln(At(t,{props:[i]})),aa(t,{props:Qo(n,r)});break}return""})}}var Bd={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ke={},$n=typeof process<"u"&&ke!==void 0&&(ke.REACT_APP_SC_ATTR||ke.SC_ATTR)||"data-styled",j0="active",U0="data-styled-version",Xi="6.1.19",Wa=`/*!sc*/
`,Oi=typeof window<"u"&&typeof document<"u",jd=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ke!==void 0&&ke.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ke.REACT_APP_SC_DISABLE_SPEEDY!==""?ke.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ke.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ke!==void 0&&ke.SC_DISABLE_SPEEDY!==void 0&&ke.SC_DISABLE_SPEEDY!==""&&ke.SC_DISABLE_SPEEDY!=="false"&&ke.SC_DISABLE_SPEEDY),qi=Object.freeze([]),Wn=Object.freeze({});function Ud(t,e,n){return n===void 0&&(n=Wn),t.theme!==n.theme&&t.theme||e||n.theme}var V0=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Vd=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Hd=/(^-|-$)/g;function el(t){return t.replace(Vd,"-").replace(Hd,"")}var Gd=/(a)(d)/gi,ti=52,tl=function(t){return String.fromCharCode(t+(t>25?39:97))};function ca(t){var e,n="";for(e=Math.abs(t);e>ti;e=e/ti|0)n=tl(e%ti)+n;return(tl(e%ti)+n).replace(Gd,"$1-$2")}var xs,H0=5381,Fn=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},G0=function(t){return Fn(H0,t)};function $d(t){return ca(G0(t)>>>0)}function Wd(t){return t.displayName||t.name||"Component"}function ys(t){return typeof t=="string"&&!0}var $0=typeof Symbol=="function"&&Symbol.for,W0=$0?Symbol.for("react.memo"):60115,Xd=$0?Symbol.for("react.forward_ref"):60112,qd={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Yd={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},X0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zd=((xs={})[Xd]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xs[W0]=X0,xs);function nl(t){return("type"in(e=t)&&e.type.$$typeof)===W0?X0:"$$typeof"in t?Zd[t.$$typeof]:qd;var e}var Qd=Object.defineProperty,Kd=Object.getOwnPropertyNames,rl=Object.getOwnPropertySymbols,Jd=Object.getOwnPropertyDescriptor,e1=Object.getPrototypeOf,il=Object.prototype;function q0(t,e,n){if(typeof e!="string"){if(il){var r=e1(e);r&&r!==il&&q0(t,r,n)}var i=Kd(e);rl&&(i=i.concat(rl(e)));for(var s=nl(t),a=nl(e),o=0;o<i.length;++o){var l=i[o];if(!(l in Yd||n&&n[l]||a&&l in a||s&&l in s)){var c=Jd(e,l);try{Qd(t,l,c)}catch{}}}}return t}function Xn(t){return typeof t=="function"}function Xa(t){return typeof t=="object"&&"styledComponentId"in t}function qt(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function sl(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Nr(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function ua(t,e,n){if(n===void 0&&(n=!1),!n&&!Nr(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=ua(t[r],e[r]);else if(Nr(e))for(var r in e)t[r]=ua(t[r],e[r]);return t}function qa(t,e){Object.defineProperty(t,"toString",{value:e})}function Xr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var t1=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Xr(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(o,n[a])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(Wa);return n},t})(),xi=new Map,Ii=new Map,yi=1,ni=function(t){if(xi.has(t))return xi.get(t);for(;Ii.has(yi);)yi++;var e=yi++;return xi.set(t,e),Ii.set(e,t),e},n1=function(t,e){yi=e+1,xi.set(t,e),Ii.set(e,t)},r1="style[".concat($n,"][").concat(U0,'="').concat(Xi,'"]'),i1=new RegExp("^".concat($n,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),s1=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},a1=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Wa),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var l=o.match(i1);if(l){var c=0|parseInt(l[1],10),f=l[2];c!==0&&(n1(f,c),s1(t,f,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},al=function(t){for(var e=document.querySelectorAll(r1),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute($n)!==j0&&(a1(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function o1(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Y0=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(o){var l=Array.from(o.querySelectorAll("style[".concat($n,"]")));return l[l.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute($n,j0),r.setAttribute(U0,Xi);var a=o1();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},l1=(function(){function t(e){this.element=Y0(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw Xr(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),c1=(function(){function t(e){this.element=Y0(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),u1=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),ol=Oi,f1={isServer:!Oi,useCSSOMInjection:!jd},Z0=(function(){function t(e,n,r){e===void 0&&(e=Wn),n===void 0&&(n={});var i=this;this.options=Ae(Ae({},f1),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Oi&&ol&&(ol=!1,al(this)),qa(this,function(){return(function(s){for(var a=s.getTag(),o=a.length,l="",c=function(h){var d=(function(v){return Ii.get(v)})(h);if(d===void 0)return"continue";var m=s.names.get(d),g=a.getGroup(h);if(m===void 0||!m.size||g.length===0)return"continue";var y="".concat($n,".g").concat(h,'[id="').concat(d,'"]'),x="";m!==void 0&&m.forEach(function(v){v.length>0&&(x+="".concat(v,","))}),l+="".concat(g).concat(y,'{content:"').concat(x,'"}').concat(Wa)},f=0;f<o;f++)c(f);return l})(i)})}return t.registerId=function(e){return ni(e)},t.prototype.rehydrate=function(){!this.server&&Oi&&al(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ae(Ae({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new u1(i):r?new l1(i):new c1(i)})(this.options),new t1(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(ni(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(ni(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ni(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),h1=/&/g,d1=/^\s*\/\/.*$/gm;function Q0(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Q0(n.children,e)),n})}function K0(t){var e,n,r,i=t===void 0?Wn:t,s=i.options,a=s===void 0?Wn:s,o=i.plugins,l=o===void 0?qi:o,c=function(d,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):d},f=l.slice();f.push(function(d){d.type===Hi&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(h1,n).replace(r,c))}),a.prefix&&f.push(Dd),f.push(Nd);var h=function(d,m,g,y){m===void 0&&(m=""),g===void 0&&(g=""),y===void 0&&(y="&"),e=y,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var x=d.replace(d1,""),v=Ld(g||m?"".concat(g," ").concat(m," { ").concat(x," }"):x);a.namespace&&(v=Q0(v,a.namespace));var A=[];return Pi(v,Fd(f.concat(zd(function(w){return A.push(w)})))),A};return h.hash=l.length?l.reduce(function(d,m){return m.name||Xr(15),Fn(d,m.name)},H0).toString():"",h}var p1=new Z0,fa=K0(),Ya=ce.createContext({shouldForwardProp:void 0,styleSheet:p1,stylis:fa});Ya.Consumer;var m1=ce.createContext(void 0);function ha(){return F.useContext(Ya)}function J0(t){var e=F.useState(t.stylisPlugins),n=e[0],r=e[1],i=ha().styleSheet,s=F.useMemo(function(){var l=i;return t.sheet?l=t.sheet:t.target&&(l=l.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(l=l.reconstructWithOptions({useCSSOMInjection:!1})),l},[t.disableCSSOMInjection,t.sheet,t.target,i]),a=F.useMemo(function(){return K0({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:n})},[t.enableVendorPrefixes,t.namespace,n]);F.useEffect(function(){wd(n,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]);var o=F.useMemo(function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:s,stylis:a}},[t.shouldForwardProp,s,a]);return ce.createElement(Ya.Provider,{value:o},ce.createElement(m1.Provider,{value:a},t.children))}var g1=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=fa);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,qa(this,function(){throw Xr(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=fa),this.name+e.hash},t})(),x1=function(t){return t>="A"&&t<="Z"};function ll(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;x1(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var eu=function(t){return t==null||t===!1||t===""},tu=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!eu(s)&&(Array.isArray(s)&&s.isCss||Xn(s)?r.push("".concat(ll(i),":"),s,";"):Nr(s)?r.push.apply(r,Ri(Ri(["".concat(i," {")],tu(s),!1),["}"],!1)):r.push("".concat(ll(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Bd||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Kt(t,e,n,r){if(eu(t))return[];if(Xa(t))return[".".concat(t.styledComponentId)];if(Xn(t)){if(!Xn(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Kt(i,e,n,r)}var s;return t instanceof g1?n?(t.inject(n,r),[t.getName(r)]):[t]:Nr(t)?tu(t):Array.isArray(t)?Array.prototype.concat.apply(qi,t.map(function(a){return Kt(a,e,n,r)})):[t.toString()]}function y1(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Xn(n)&&!Xa(n))return!1}return!0}var v1=G0(Xi),w1=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&y1(e),this.componentId=n,this.baseHash=Fn(v1,n),this.baseStyle=r,Z0.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=qt(i,this.staticRulesId);else{var s=sl(Kt(this.rules,e,n,r)),a=ca(Fn(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var o=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,o)}i=qt(i,a),this.staticRulesId=a}else{for(var l=Fn(this.baseHash,r.hash),c="",f=0;f<this.rules.length;f++){var h=this.rules[f];if(typeof h=="string")c+=h;else if(h){var d=sl(Kt(h,e,n,r));l=Fn(l,d+f),c+=d}}if(c){var m=ca(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=qt(i,m)}}return i},t})(),nu=ce.createContext(void 0);nu.Consumer;var vs={};function b1(t,e,n){var r=Xa(t),i=t,s=!ys(t),a=e.attrs,o=a===void 0?qi:a,l=e.componentId,c=l===void 0?(function(E,T){var S=typeof E!="string"?"sc":el(E);vs[S]=(vs[S]||0)+1;var M="".concat(S,"-").concat($d(Xi+S+vs[S]));return T?"".concat(T,"-").concat(M):M})(e.displayName,e.parentComponentId):l,f=e.displayName,h=f===void 0?(function(E){return ys(E)?"styled.".concat(E):"Styled(".concat(Wd(E),")")})(t):f,d=e.displayName&&e.componentId?"".concat(el(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;g=function(E,T){return y(E,T)&&x(E,T)}}else g=y}var v=new w1(n,d,r?i.componentStyle:void 0);function A(E,T){return(function(S,M,N){var C=S.attrs,J=S.componentStyle,ie=S.defaultProps,K=S.foldedComponentIds,H=S.styledComponentId,W=S.target,Je=ce.useContext(nu),ir=ha(),Dt=S.shouldForwardProp||ir.shouldForwardProp,sr=Ud(M,Je,ie)||Wn,ot=(function(Qr,or,Kr){for(var lr,Bt=Ae(Ae({},or),{className:void 0,theme:Kr}),ss=0;ss<Qr.length;ss+=1){var Jr=Xn(lr=Qr[ss])?lr(Bt):lr;for(var wt in Jr)Bt[wt]=wt==="className"?qt(Bt[wt],Jr[wt]):wt==="style"?Ae(Ae({},Bt[wt]),Jr[wt]):Jr[wt]}return or.className&&(Bt.className=qt(Bt.className,or.className)),Bt})(C,M,sr),Zr=ot.as||W,ar={};for(var vt in ot)ot[vt]===void 0||vt[0]==="$"||vt==="as"||vt==="theme"&&ot.theme===sr||(vt==="forwardedAs"?ar.as=ot.forwardedAs:Dt&&!Dt(vt,Zr)||(ar[vt]=ot[vt]));var go=(function(Qr,or){var Kr=ha(),lr=Qr.generateAndInjectStyles(or,Kr.styleSheet,Kr.stylis);return lr})(J,ot),is=qt(K,H);return go&&(is+=" "+go),ot.className&&(is+=" "+ot.className),ar[ys(Zr)&&!V0.has(Zr)?"class":"className"]=is,N&&(ar.ref=N),F.createElement(Zr,ar)})(w,E,T)}A.displayName=h;var w=ce.forwardRef(A);return w.attrs=m,w.componentStyle=v,w.displayName=h,w.shouldForwardProp=g,w.foldedComponentIds=r?qt(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=d,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?(function(T){for(var S=[],M=1;M<arguments.length;M++)S[M-1]=arguments[M];for(var N=0,C=S;N<C.length;N++)ua(T,C[N],!0);return T})({},i.defaultProps,E):E}}),qa(w,function(){return".".concat(w.styledComponentId)}),s&&q0(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function cl(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var ul=function(t){return Object.assign(t,{isCss:!0})};function E1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xn(t)||Nr(t))return ul(Kt(cl(qi,Ri([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Kt(r):ul(Kt(cl(r,e)))}function da(t,e,n){if(n===void 0&&(n=Wn),!e)throw Xr(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,E1.apply(void 0,Ri([i],s,!1)))};return r.attrs=function(i){return da(t,e,Ae(Ae({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return da(t,e,Ae(Ae({},n),i))},r}var ru=function(t){return da(b1,t)},Y=ru;V0.forEach(function(t){Y[t]=ru(t)});const P={textWhite:"rgba(223, 223, 223, 1)",textGrey:"rgba(156, 156, 156, 1)",dangerRed:"rgba(243, 151, 143, 1)",dangerRedPressed:"rgba(240, 97, 84,1)",panelBackground:"rgba(38, 38, 38, 0.7)",panelBorder:"rgba(61, 61, 63, 0.7)",buttonBackground:"rgba(61, 61, 63, 0.6)",buttonPressed:"rgba(61, 61, 63, 1)",gradientGrey:"linear-gradient(to bottom, #343434, #393939)",gradientGreyTranslucent:"linear-gradient(to bottom, rgba(52, 52, 52, 0.75), rgba(57, 57, 57, 0.75))",gradientLightGreyTranslucent:"linear-gradient(to bottom, rgba(75, 75, 75, 0.75), rgba(80, 80, 80, 0.75))"},k={height:"30px",minWidth:"30px",fontSize:"14px",radiusMiddle:"3px",radiusSolo:"10px",radiusFirst:"10px 3px 3px 10px",radiusLast:"3px 10px 10px 3px",widthLong:"70px",widthShort:"30px",gap:"3px"},Te=Y.button`
	background: ${P.gradientGreyTranslucent};
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	color: ${P.textWhite};
	border: 1px solid transparent;
	border-radius: ${k.radiusMiddle};
	font-size: ${k.fontSize};
	height: ${k.height};
	min-width: ${k.minWidth};
	transition: all 0.2s ease-in-out;
	text-transform: none;
	box-shadow: none;
	font-family: Arial, sans-serif;

	&:first-child {
		border-radius: ${({$reverse:t})=>t?k.radiusLast:k.radiusFirst};
	}

	&:last-child {
		border-radius: ${({$reverse:t})=>t?k.radiusFirst:k.radiusLast};
	}

	&:first-child:last-child {
		border-radius: ${k.radiusSolo};
	}
`,pa=Y.div`
	padding: 2px;
	display: flex;
	background-color: ${P.panelBackground};
	border: 1px solid ${P.panelBorder};
	backdrop-filter: blur(40px);
	-webkit-backdrop-filter: blur(40px);
	justify-content: center;
	pointer-events: all;
	border-radius: 14px;
	align-items: center;
	height: 24px;
`,Be=Y.button`
	background-color: transparent;
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	color: ${P.textWhite};
	border-radius: 4px;
	font-size: 16px;
	height: 24px;
	min-width: 24px;
	transition: all 0.2s ease-in-out;
	text-transform: none;
	box-shadow: none;
	padding: 1px 5px;
	font-family: Arial, sans-serif;

	&:hover {
		background-color: ${P.buttonPressed};
	}

	&:active {
		background-color: ${P.buttonPressed};
	}

	&:focus {
		outline: none;
	}

	&:first-child {
		border-radius: 12px 4px 4px 12px;
	}

	&:last-child {
		border-radius: 4px 12px 12px 4px;
	}

	&:first-child:last-child {
		border-radius: 12px;
	}
`,ut=Y.div`
	background-color: ${({$pressed:t})=>t?P.buttonPressed:P.buttonBackground};
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	color: ${P.textWhite};
	border-radius: 8px;
	font-size: 14px;
	font-family: Arial, sans-serif;
	height: 30px;
	width: 30px;
	transition: all 0.2s ease-in-out;
`,qn=Y.div`
	display: flex;
	align-items: center;
	height: 30px;
	margin-bottom: 3px;
	justify-content: flex-start;
	flex-direction: ${({$reverse:t})=>t?"row-reverse":"row"};

	&:last-child {
		margin-bottom: 0;
	}
`,Ct=Y.div`
	display: flex;
	flex-direction: ${({$reverse:t})=>t?"row-reverse":"row"};
	height: 100%;
	justify-content: space-between;
	align-items: center;
	margin: ${({$reverse:t})=>t?"0 5px 0 0":"0 0 0 5px"};
	gap: 3px;
`;Y.button`
	background-color: rgba(255, 255, 255, 0.3);
	border: none;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 0;
	pointer-events: none;
	width: 50px;
	height: 50px;
	border-radius: 50%;
	position: relative;
	margin: 0 5px;
	backdrop-filter: blur(10px);
	-webkit-backdrop-filter: blur(10px);
`;Y.div`
	position: absolute;
	background-color: ${P.textWhite};
	border-radius: 50%;
	width: 36px;
	height: 36px;
	cursor: pointer;
	pointer-events: auto;
`;const iu=Y.input.attrs({type:"range"})`
	-webkit-appearance: none;
	appearance: none;
	background: ${P.gradientGreyTranslucent};
	border: none;
	height: 100%;
	width: ${k.widthLong};
	cursor: pointer;
	margin: 0;
	transition: all 0.2s ease-in-out;
	border-radius: ${({$reverse:t})=>t?k.radiusFirst:k.radiusLast};

	&::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 8px;
		height: 30px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}

	&::-moz-range-thumb {
		width: 10px;
		height: 30px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}

	&::-ms-thumb {
		width: 8px;
		height: 24px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}
`;Y.div`
	display: flex;
	flex-direction: column;
	align-items: ${({$reverse:t})=>t?"flex-start":"flex-end"};
	justify-content: center;
	margin: ${({$reverse:t})=>t?"2px -26px 0 0":"2px 0 0 -26px"};
`;Y.div`
	display: flex;
	flex-direction: ${({$reverse:t})=>t?"row-reverse":"row"};
	align-items: center;
	justify-content: center;
`;const G=Y(Wr)`
	height: ${({$size:t=14})=>`${t}px`};
	min-height: ${({$size:t=14})=>`${t}px`};
	max-height: ${({$size:t=14})=>`${t}px`};
	width: ${({$size:t=14})=>`${t}px`};
	min-width: ${({$size:t=14})=>`${t}px`};
	max-width: ${({$size:t=14})=>`${t}px`};
	transform: ${({$reverse:t})=>t?"scaleX(-1)":"unset"};
`,nr=Y(Wr)`
	height: 18px;
	min-height: 18px;
	max-height: 18px;
	width: 18px;
	min-width: 18px;
	max-width: 18px;
	margin: 6px;
	transform: ${({$reverse:t})=>t?"scaleX(-1)":"unset"};
`,Fr=Y.div`
	position: fixed;
	padding: 5px;
	font-family: Arial, sans-serif;
	color: ${P.textWhite};
	pointer-events: all;
	background-color: ${P.panelBackground};
	border: 1px solid ${P.panelBorder};
	backdrop-filter: blur(40px);
	-webkit-backdrop-filter: blur(40px);
	border-radius: 12px;
	box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
	overflow: hidden;
	display: flex;
	flex-direction: column;
`,sn=Y.hr`
	width: ${({$horizontal:t=!0})=>t?"unset":"1px"};
	height: ${({$horizontal:t=!0})=>t?"1px":"unset"};
	background-color: ${P.panelBorder};
	margin: 5px 3px;
	border: none;
`,Jt=Y.button`
	background-color: transparent;
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	color: ${({$isRed:t})=>t?P.dangerRed:P.textWhite};
	font-size: 12px;
	padding: 3px;
	text-transform: none;
	box-shadow: none;

	&:hover {
		color: ${({$isRed:t})=>t?P.dangerRedPressed:"#ffffff"};
	}

	&:active {
		color: ${({$isRed:t})=>t?P.dangerRedPressed:"#ffffff"};
	}

	&:focus {
		outline: none;
	}
`,su=Y.div`
	display: flex;
	flex-direction: row;
	gap: ${k.gap};
	height: 25px;
`,au=Y.input.attrs({type:"text"})`
	width: 50px;
	outline: none;
	background: ${P.gradientGrey};
	border: 1px solid transparent;
	border-radius: 5px;
	height: 25px;
	color: ${P.textWhite};
	padding: 0 10px 0 5px;
	box-sizing: border-box;
	font-size: 10px;

	&:read-only {
		background: ${P.gradientGreyTranslucent};
	}

	&:invalid {
		background-color: ${P.dangerRed};
	}
`,ou=Y.span`
	position: absolute;
	right: 5px;
	top: 50%;
	transform: translateY(-50%);
	pointer-events: none;
	color: ${P.textGrey};
	font-size: 10px;
`,T1={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Za={prefix:"fas",iconName:"fingerprint",icon:[512,512,[],"f577","M48 256C48 141.1 141.1 48 256 48c63.1 0 119.6 28.1 157.8 72.5c8.6 10.1 23.8 11.2 33.8 2.6s11.2-23.8 2.6-33.8C403.3 34.6 333.7 0 256 0C114.6 0 0 114.6 0 256l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40zm458.5-52.9c-2.7-13-15.5-21.3-28.4-18.5s-21.3 15.5-18.5 28.4c2.9 13.9 4.5 28.3 4.5 43.1l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c0-18.1-1.9-35.8-5.5-52.9zM256 80c-19 0-37.4 3-54.5 8.6c-15.2 5-18.7 23.7-8.3 35.9c7.1 8.3 18.8 10.8 29.4 7.9c10.6-2.9 21.8-4.4 33.4-4.4c70.7 0 128 57.3 128 128l0 24.9c0 25.2-1.5 50.3-4.4 75.3c-1.7 14.6 9.4 27.8 24.2 27.8c11.8 0 21.9-8.6 23.3-20.3c3.3-27.4 5-55 5-82.7l0-24.9c0-97.2-78.8-176-176-176zM150.7 148.7c-9.1-10.6-25.3-11.4-33.9-.4C93.7 178 80 215.4 80 256l0 24.9c0 24.2-2.6 48.4-7.8 71.9C68.8 368.4 80.1 384 96.1 384c10.5 0 19.9-7 22.2-17.3c6.4-28.1 9.7-56.8 9.7-85.8l0-24.9c0-27.2 8.5-52.4 22.9-73.1c7.2-10.4 8-24.6-.2-34.2zM256 160c-53 0-96 43-96 96l0 24.9c0 35.9-4.6 71.5-13.8 106.1c-3.8 14.3 6.7 29 21.5 29c9.5 0 17.9-6.2 20.4-15.4c10.5-39 15.9-79.2 15.9-119.7l0-24.9c0-28.7 23.3-52 52-52s52 23.3 52 52l0 24.9c0 36.3-3.5 72.4-10.4 107.9c-2.7 13.9 7.7 27.2 21.8 27.2c10.2 0 19-7 21-17c7.7-38.8 11.6-78.3 11.6-118.1l0-24.9c0-53-43-96-96-96zm24 96c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 24.9c0 59.9-11 119.3-32.5 175.2l-5.9 15.3c-4.8 12.4 1.4 26.3 13.8 31s26.3-1.4 31-13.8l5.9-15.3C267.9 411.9 280 346.7 280 280.9l0-24.9z"]},_1={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},S1={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},lu={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M192 64C86 64 0 150 0 256S86 448 192 448l256 0c106 0 192-86 192-192s-86-192-192-192L192 64zM496 168a40 40 0 1 1 0 80 40 40 0 1 1 0-80zM392 304a40 40 0 1 1 80 0 40 40 0 1 1 -80 0zM168 200c0-13.3 10.7-24 24-24s24 10.7 24 24l0 32 32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-32-32 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l32 0 0-32z"]},cu={prefix:"fas",iconName:"hand",icon:[512,512,[129306,9995,"hand-paper"],"f256","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 272c0 1.5 0 3.1 .1 4.6L67.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L124.8 448c43.1 41.1 100.4 64 160 64l19.2 0c97.2 0 176-78.8 176-176l0-208c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-176c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 176c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208z"]},uu={prefix:"fas",iconName:"plug",icon:[384,512,[128268],"f1e6","M96 0C78.3 0 64 14.3 64 32l0 96 64 0 0-96c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32l0 96 64 0 0-96c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l0 32c0 77.4 55 142 128 156.8l0 67.2c0 17.7 14.3 32 32 32s32-14.3 32-32l0-67.2C297 398 352 333.4 352 256l0-32c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160z"]},A1={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},M1={prefix:"fas",iconName:"arrow-right-to-bracket",icon:[512,512,["sign-in"],"f090","M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"]},R1={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},P1={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z"]},O1={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9l0 176c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},I1={prefix:"fas",iconName:"person-shelter",icon:[512,512,[],"e54f","M271.9 4.2c-9.8-5.6-21.9-5.6-31.8 0l-224 128C6.2 137.9 0 148.5 0 160L0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-301.4L256 68.9 448 178.6 448 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-320c0-11.5-6.2-22.1-16.1-27.8l-224-128zM256 208a40 40 0 1 0 0-80 40 40 0 1 0 0 80zm-8 280l0-88 16 0 0 88c0 13.3 10.7 24 24 24s24-10.7 24-24l0-174.5 26.9 49.9c6.3 11.7 20.8 16 32.5 9.8s16-20.8 9.8-32.5l-37.9-70.3c-15.3-28.5-45.1-46.3-77.5-46.3l-19.5 0c-32.4 0-62.1 17.8-77.5 46.3l-37.9 70.3c-6.3 11.7-1.9 26.2 9.8 32.5s26.2 1.9 32.5-9.8L200 313.5 200 488c0 13.3 10.7 24 24 24s24-10.7 24-24z"]},Qa={prefix:"fas",iconName:"hand-scissors",icon:[512,512,[],"f257","M40 208c-22.1 0-40 17.9-40 40s17.9 40 40 40l180.2 0c-7.6 8.5-12.2 19.7-12.2 32c0 25.3 19.5 46 44.3 47.9c-7.7 8.5-12.3 19.8-12.3 32.1c0 26.5 21.5 48 48 48l32 0 64 0c70.7 0 128-57.3 128-128l0-113.1c0-40.2-16-78.8-44.4-107.3C444.8 76.8 413.9 64 381.7 64L336 64c-21.3 0-39.3 13.9-45.6 33.1l74.5 23.7c8.4 2.7 13.1 11.7 10.4 20.1s-11.7 13.1-20.1 10.4L288 129.9c0 0 0 .1 0 .1L84 65.8C62.9 59.2 40.5 70.9 33.8 92s5.1 43.5 26.2 50.2L269.5 208 40 208z"]},k1={prefix:"fas",iconName:"street-view",icon:[512,512,[],"f21d","M320 64A64 64 0 1 0 192 64a64 64 0 1 0 128 0zm-96 96c-35.3 0-64 28.7-64 64l0 48c0 17.7 14.3 32 32 32l1.8 0 11.1 99.5c1.8 16.2 15.5 28.5 31.8 28.5l38.7 0c16.3 0 30-12.3 31.8-28.5L318.2 304l1.8 0c17.7 0 32-14.3 32-32l0-48c0-35.3-28.7-64-64-64l-64 0zM132.3 394.2c13-2.4 21.7-14.9 19.3-27.9s-14.9-21.7-27.9-19.3c-32.4 5.9-60.9 14.2-82 24.8c-10.5 5.3-20.3 11.7-27.8 19.6C6.4 399.5 0 410.5 0 424c0 21.4 15.5 36.1 29.1 45c14.7 9.6 34.3 17.3 56.4 23.4C130.2 504.7 190.4 512 256 512s125.8-7.3 170.4-19.6c22.1-6.1 41.8-13.8 56.4-23.4c13.7-8.9 29.1-23.6 29.1-45c0-13.5-6.4-24.5-14-32.6c-7.5-7.9-17.3-14.3-27.8-19.6c-21-10.6-49.5-18.9-82-24.8c-13-2.4-25.5 6.3-27.9 19.3s6.3 25.5 19.3 27.9c30.2 5.5 53.7 12.8 69 20.5c3.2 1.6 5.8 3.1 7.9 4.5c3.6 2.4 3.6 7.2 0 9.6c-8.8 5.7-23.1 11.8-43 17.3C374.3 457 318.5 464 256 464s-118.3-7-157.7-17.9c-19.9-5.5-34.2-11.6-43-17.3c-3.6-2.4-3.6-7.2 0-9.6c2.1-1.4 4.8-2.9 7.9-4.5c15.3-7.7 38.8-14.9 69-20.5z"]},fu={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},L1={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},C1={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64L205.3 64c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7L512 448c35.3 0 64-28.7 64-64l0-256zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},N1={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M256 0c53 0 96 43 96 96l0 3.6c0 15.7-12.7 28.4-28.4 28.4l-135.1 0c-15.7 0-28.4-12.7-28.4-28.4l0-3.6c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4l112 0c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5l64.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6L272 240c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 239.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64.3 0c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"]},fl={prefix:"fas",iconName:"angle-up",icon:[448,512,[8963],"f106","M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},hl={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Ka={prefix:"fas",iconName:"hand-lizard",icon:[512,512,[],"f258","M0 112C0 85.5 21.5 64 48 64l112 0 80 0 46.5 0c36.8 0 71.2 18 92.1 48.2l113.5 164c13 18.7 19.9 41 19.9 63.8l0 12 0 16 0 48c0 17.7-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32l0-13.8L273.9 352 240 352l-80 0-48 0c-26.5 0-48-21.5-48-48s21.5-48 48-48l48 0 80 0c26.5 0 48-21.5 48-48s-21.5-48-48-48l-80 0L48 160c-26.5 0-48-21.5-48-48z"]},dl={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},F1={prefix:"fas",iconName:"vr-cardboard",icon:[640,512,[],"f729","M576 64L64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l120.4 0c24.2 0 46.4-13.7 57.2-35.4l32-64c8.8-17.5 26.7-28.6 46.3-28.6s37.5 11.1 46.3 28.6l32 64c10.8 21.7 33 35.4 57.2 35.4L576 448c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64zM96 240a64 64 0 1 1 128 0A64 64 0 1 1 96 240zm384-64a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},z1={prefix:"fas",iconName:"arrow-turn-down",icon:[384,512,["level-down"],"f149","M32 64C14.3 64 0 49.7 0 32S14.3 0 32 0l96 0c53 0 96 43 96 96l0 306.7 73.4-73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-128 128c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 402.7 160 96c0-17.7-14.3-32-32-32L32 64z"]},Yi={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},D1={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]},D=k.height,B1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M7 13.125a7 7 0 1 0 14 0v1.75a7 7 0 0 1-14 0v-1.75Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.55,d:"M14 19.863a6.738 6.738 0 1 0 0-13.476 6.738 6.738 0 0 0 0 13.476Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M16.529 16.1h-.893l-1.653-2.713-1.68 2.713h-.832l2.074-3.255-1.942-2.992h.875l1.531 2.45 1.54-2.45h.831l-1.933 2.975 2.082 3.272Z",style:{fill:"#fff",fillOpacity:1}})]}),j1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M7 13.125a7 7 0 1 0 14 0v1.75a7 7 0 0 1-14 0v-1.75Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.55,d:"M14 19.863a6.738 6.738 0 1 0 0-13.476 6.738 6.738 0 0 0 0 13.476Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"m14.086 12.924 1.627-3.071h.849l-2.083 3.823V16.1h-.787v-2.389L11.61 9.853h.857l1.619 3.07Z",style:{fill:"#fff",fillOpacity:1}})]}),U1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M7 13.125a7 7 0 1 0 14 0v1.75a7 7 0 0 1-14 0v-1.75Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.55,d:"M14 19.863a6.738 6.738 0 1 0 0-13.476 6.738 6.738 0 0 0 0 13.476Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"m15.975 16.1-.753-1.934h-2.476l-.744 1.934h-.796l2.441-6.274h.709l2.432 6.274h-.813Zm-1.69-4.524a29.052 29.052 0 0 1-.21-.63 5.175 5.175 0 0 0-.087-.306c-.029.117-.06.236-.096.359-.03.116-.061.224-.096.323-.03.1-.056.184-.079.254l-.709 1.89h1.978l-.7-1.89Z",style:{fill:"#fff",fillOpacity:1}})]}),V1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M7 13.125a7 7 0 1 0 14 0v1.75a7 7 0 0 1-14 0v-1.75Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.55,d:"M14 19.863a6.738 6.738 0 1 0 0-13.476 6.738 6.738 0 0 0 0 13.476Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.876 9.853c.519 0 .954.05 1.304.148.355.1.62.263.796.49.18.228.271.531.271.91 0 .245-.047.464-.14.656a1.198 1.198 0 0 1-.402.473 1.62 1.62 0 0 1-.648.254v.043c.262.041.499.117.709.228.216.11.385.268.507.473.123.204.184.47.184.796 0 .379-.088.703-.262.971a1.663 1.663 0 0 1-.753.604c-.32.134-.706.201-1.155.201h-2.196V9.853h1.785Zm.157 2.66c.537 0 .905-.085 1.103-.254.198-.175.297-.432.297-.77 0-.344-.122-.59-.367-.735-.24-.152-.624-.228-1.155-.228h-1.033v1.986h1.155Zm-1.155.656v2.266h1.26c.555 0 .94-.108 1.155-.324.216-.216.324-.498.324-.849 0-.221-.05-.414-.149-.577-.093-.163-.254-.289-.481-.376-.222-.093-.525-.14-.91-.14h-1.199Z",style:{fill:"#fff",fillOpacity:1}})]}),H1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:.5,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M12.642 17.325v-6.247h.787v5.547h2.73v.7h-3.517ZM14.479 6.389a.525.525 0 0 1-.782 0l-2.235-2.495a.525.525 0 0 1 .39-.875h4.47c.454 0 .694.537.391.875L14.478 6.39Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"m13.045 6.711-1.093-1.22a8.75 8.75 0 1 0 4.24.036L15.11 6.733A7.352 7.352 0 0 1 14 21.35a7.35 7.35 0 0 1-.955-14.639Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),G1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:.7,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.938 11.077c.52 0 .945.068 1.278.202.338.128.59.323.752.586.164.262.245.592.245.989 0 .332-.06.61-.183.83-.123.223-.28.4-.473.535a2.61 2.61 0 0 1-.595.306l1.715 2.8h-.919l-1.513-2.581h-1.243v2.58h-.787v-6.247h1.723Zm-.043.683h-.893v2.319h.936c.339 0 .616-.044.832-.132a.956.956 0 0 0 .472-.402c.105-.175.158-.394.158-.656 0-.274-.056-.493-.167-.657a.905.905 0 0 0-.49-.358c-.221-.076-.504-.114-.848-.114ZM14.479 6.389a.525.525 0 0 1-.782 0l-2.235-2.495a.525.525 0 0 1 .39-.875h4.47c.454 0 .694.537.391.875L14.478 6.39Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"m13.045 6.711-1.093-1.22a8.75 8.75 0 1 0 4.24.036L15.11 6.733A7.352 7.352 0 0 1 14 21.35a7.35 7.35 0 0 1-.955-14.639Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),$1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M12.642 17.325v-6.248h.787v5.548h2.73v.7h-3.517ZM13.697.611a.525.525 0 0 1 .782 0l2.234 2.495a.525.525 0 0 1-.39.875h-4.47a.525.525 0 0 1-.391-.875L13.697.61Z",style:{fill:"#fff",fillOpacity:1}})]}),W1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M12.642 17.325v-6.248h.787v5.548h2.73v.7h-3.517ZM14.479 27.389a.525.525 0 0 1-.782 0l-2.235-2.495a.525.525 0 0 1 .39-.875h4.47c.454 0 .694.537.391.875l-2.235 2.495Z",style:{fill:"#fff",fillOpacity:1}})]}),X1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M12.642 17.325v-6.248h.787v5.548h2.73v.7h-3.517ZM.611 14.303a.525.525 0 0 1 0-.782l2.495-2.234a.525.525 0 0 1 .875.39v4.47a.525.525 0 0 1-.875.391L.61 14.303Z",style:{fill:"#fff",fillOpacity:1}})]}),q1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M12.642 17.325v-6.248h.787v5.548h2.73v.7h-3.517ZM27.389 13.521a.525.525 0 0 1 0 .782l-2.495 2.235a.525.525 0 0 1-.875-.39v-4.47c0-.454.537-.694.875-.391l2.495 2.234Z",style:{fill:"#fff",fillOpacity:1}})]}),Y1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.938 11.077c.52 0 .945.068 1.278.202.338.128.59.323.752.586.164.262.245.592.245.989 0 .332-.06.61-.183.83-.123.223-.28.4-.473.535a2.61 2.61 0 0 1-.595.306l1.715 2.8h-.919l-1.513-2.581h-1.243v2.58h-.787v-6.247h1.723Zm-.043.683h-.893v2.319h.936c.339 0 .616-.044.832-.132a.956.956 0 0 0 .472-.402c.105-.175.158-.394.158-.656 0-.274-.056-.493-.167-.657a.905.905 0 0 0-.49-.358c-.221-.076-.504-.114-.848-.114ZM13.697.611a.525.525 0 0 1 .782 0l2.234 2.495a.525.525 0 0 1-.39.875h-4.47a.525.525 0 0 1-.391-.875L13.697.61Z",style:{fill:"#fff",fillOpacity:1}})]}),Z1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.938 11.077c.52 0 .945.068 1.278.202.338.128.59.323.752.586.164.262.245.592.245.989 0 .332-.06.61-.183.83-.123.223-.28.4-.473.535a2.61 2.61 0 0 1-.595.306l1.715 2.8h-.919l-1.513-2.581h-1.243v2.58h-.787v-6.247h1.723Zm-.043.683h-.893v2.319h.936c.339 0 .616-.044.832-.132a.956.956 0 0 0 .472-.402c.105-.175.158-.394.158-.656 0-.274-.056-.493-.167-.657a.905.905 0 0 0-.49-.358c-.221-.076-.504-.114-.848-.114ZM14.479 27.389a.525.525 0 0 1-.782 0l-2.235-2.495a.525.525 0 0 1 .39-.875h4.47c.454 0 .694.537.391.875l-2.235 2.495Z",style:{fill:"#fff",fillOpacity:1}})]}),Q1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.938 11.077c.52 0 .945.068 1.278.202.338.128.59.323.752.586.164.262.245.592.245.989 0 .332-.06.61-.183.83-.123.223-.28.4-.473.535a2.61 2.61 0 0 1-.595.306l1.715 2.8h-.919l-1.513-2.581h-1.243v2.58h-.787v-6.247h1.723Zm-.043.683h-.893v2.319h.936c.339 0 .616-.044.832-.132a.956.956 0 0 0 .472-.402c.105-.175.158-.394.158-.656 0-.274-.056-.493-.167-.657a.905.905 0 0 0-.49-.358c-.221-.076-.504-.114-.848-.114ZM.611 14.303a.525.525 0 0 1 0-.782l2.495-2.234a.525.525 0 0 1 .875.39v4.47a.525.525 0 0 1-.875.391L.61 14.303Z",style:{fill:"#fff",fillOpacity:1}})]}),K1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:1.5,d:"M14 22.05a8.05 8.05 0 1 0 0-16.1 8.05 8.05 0 0 0 0 16.1Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.75,d:"M14 19.95a5.95 5.95 0 1 0 0-11.9 5.95 5.95 0 0 0 0 11.9Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M13.938 11.077c.52 0 .945.068 1.278.202.338.128.59.323.752.586.164.262.245.592.245.989 0 .332-.06.61-.183.83-.123.223-.28.4-.473.535a2.61 2.61 0 0 1-.595.306l1.715 2.8h-.919l-1.513-2.581h-1.243v2.58h-.787v-6.247h1.723Zm-.043.683h-.893v2.319h.936c.339 0 .616-.044.832-.132a.956.956 0 0 0 .472-.402c.105-.175.158-.394.158-.656 0-.274-.056-.493-.167-.657a.905.905 0 0 0-.49-.358c-.221-.076-.504-.114-.848-.114ZM27.389 13.521a.525.525 0 0 1 0 .782l-2.495 2.235a.525.525 0 0 1-.875-.39v-4.47c0-.454.537-.694.875-.391l2.495 2.234Z",style:{fill:"#fff",fillOpacity:1}})]}),J1=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M7.525 7.875c-2.283 1.22-3.82 3.507-3.82 6.125s1.537 4.904 3.82 6.125C4.405 19.425 2.1 16.948 2.1 14s2.306-5.425 5.425-6.125Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.7,d:"M24.702 10.954a2.187 2.187 0 0 0-2.095-2.817H11.025a5.863 5.863 0 0 0 0 11.726h9.377c.966 0 1.818-.634 2.095-1.56l2.205-7.35Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M10.594 17.15v-6.248h.788v5.548h2.73v.7h-3.518Zm7.13-3.299h2.162v3.063c-.338.11-.68.192-1.024.245a7.837 7.837 0 0 1-1.172.078c-.648 0-1.193-.128-1.637-.385a2.567 2.567 0 0 1-1.015-1.11c-.227-.485-.34-1.057-.34-1.716 0-.653.127-1.219.384-1.697a2.699 2.699 0 0 1 1.103-1.112c.484-.268 1.067-.402 1.75-.402.35 0 .68.032.988.096.315.064.607.155.875.271l-.297.683a4.55 4.55 0 0 0-.753-.254 3.453 3.453 0 0 0-.857-.105c-.496 0-.922.102-1.278.306a2.004 2.004 0 0 0-.813.875c-.187.374-.28.82-.28 1.34 0 .495.078.935.236 1.32.163.38.417.677.761.893.344.21.796.315 1.356.315.187 0 .35-.006.49-.018.146-.017.277-.037.394-.06.123-.024.236-.047.341-.07V14.55h-1.373v-.7Z",style:{fill:"#fff",fillOpacity:1}})]}),e2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M20.441 7.875c2.283 1.22 3.82 3.507 3.82 6.125s-1.537 4.904-3.82 6.125c3.12-.7 5.425-3.177 5.425-6.125s-2.305-5.425-5.425-6.125Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{stroke:"#fff",strokeWidth:.7,d:"M3.264 10.954a2.187 2.187 0 0 1 2.095-2.817h11.582a5.862 5.862 0 0 1 0 11.726H7.564a2.188 2.188 0 0 1-2.095-1.56l-2.205-7.35Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M9.497 10.902c.519 0 .945.068 1.277.202.339.128.59.323.753.586.163.262.245.592.245.989 0 .332-.062.61-.184.83-.122.223-.28.4-.472.535-.187.128-.386.23-.595.306l1.714 2.8h-.918l-1.514-2.581H8.56v2.58h-.787v-6.247h1.724Zm-.044.683H8.56v2.319h.937c.338 0 .615-.044.831-.132a.956.956 0 0 0 .473-.402c.104-.175.157-.394.157-.656 0-.274-.055-.493-.166-.657a.905.905 0 0 0-.49-.358c-.222-.076-.505-.114-.849-.114Zm6.476 2.266h2.16v3.063c-.337.11-.679.192-1.023.245a7.837 7.837 0 0 1-1.172.078c-.648 0-1.193-.128-1.637-.385a2.568 2.568 0 0 1-1.015-1.11c-.227-.485-.34-1.057-.34-1.716 0-.653.127-1.219.384-1.697a2.699 2.699 0 0 1 1.103-1.112c.484-.268 1.067-.402 1.75-.402.35 0 .68.032.988.096.315.064.607.155.875.271l-.297.683a4.551 4.551 0 0 0-.753-.254 3.453 3.453 0 0 0-.857-.105c-.496 0-.922.102-1.278.306a2.004 2.004 0 0 0-.813.875c-.187.374-.28.82-.28 1.34 0 .495.078.935.236 1.32.163.38.417.677.761.893.344.21.796.315 1.356.315.187 0 .35-.006.49-.018a5.17 5.17 0 0 0 .394-.06c.123-.024.236-.047.341-.07V14.55H15.93v-.7Z",style:{fill:"#fff",fillOpacity:1}})]}),t2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:.7,d:"M14 20.212a7.612 7.612 0 1 0 0-15.224 7.612 7.612 0 0 0 0 15.224Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M10.209 15.662V9.415h.787v5.548h2.73v.7H10.21Zm6.395 0h-.787v-5.556h-1.952v-.691h4.682v.691h-1.943v5.556Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M21.235 17.5a8.31 8.31 0 0 1-7.205 4.165A8.31 8.31 0 0 1 6.825 17.5c.823 3.4 3.737 5.915 7.205 5.915 3.469 0 6.382-2.514 7.205-5.915Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),n2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",strokeWidth:.7,d:"M14 20.212a7.612 7.612 0 1 0 0-15.224 7.612 7.612 0 0 0 0 15.224Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",d:"M11.42 9.415c.52 0 .945.067 1.277.201.339.129.59.324.753.587.163.262.245.592.245.988 0 .333-.061.61-.184.832-.122.221-.28.4-.472.533-.187.129-.385.23-.595.307l1.715 2.8h-.92l-1.513-2.582h-1.242v2.582h-.788V9.415h1.724Zm-.044.683h-.892v2.318h.936c.338 0 .615-.043.831-.131a.956.956 0 0 0 .473-.402c.105-.175.157-.394.157-.657 0-.274-.055-.493-.166-.656a.905.905 0 0 0-.49-.359c-.222-.075-.505-.114-.849-.114Zm5.74 5.564h-.787v-5.556h-1.951v-.691h4.681v.691h-1.942v5.556Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M21.235 17.5a8.31 8.31 0 0 1-7.205 4.165A8.31 8.31 0 0 1 6.825 17.5c.823 3.4 3.737 5.915 7.205 5.915 3.469 0 6.382-2.514 7.205-5.915Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),r2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",d:"m20.01 15.768-4.242 4.242a5.5 5.5 0 1 1-7.778-7.778l4.242-4.242a5.5 5.5 0 1 1 7.778 7.778Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M11.172 16.828a1 1 0 0 0 1.414 0L15.414 14l.707.707-2.828 2.828a2 2 0 1 1-2.829-2.828l.708.707a1 1 0 0 0 0 1.414ZM12.586 14l2.828-2.829a1 1 0 1 1 1.414 1.415l.708.707a2 2 0 0 0-2.829-2.829l-2.828 2.829.707.707Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M15.414 16.828 18.243 14a3 3 0 0 0-2.289-5.117l-.869-.869a4 4 0 0 1 3.864 6.693l-2.828 2.828-.707-.707Zm-.707 2.122a4 4 0 1 1-5.657-5.657l4.243-4.243.707.707L9.757 14A3 3 0 1 0 14 18.242l.707.708Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),i2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D,height:D,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("path",{stroke:"#fff",d:"m15.768 7.99 4.242 4.242a5.5 5.5 0 1 1-7.778 7.778L7.99 15.768a5.5 5.5 0 1 1 7.778-7.778Z",style:{stroke:"#fff",strokeOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M16.828 16.828a1 1 0 0 0 0-1.414L14 12.586l.707-.707 2.828 2.828a2 2 0 1 1-2.828 2.828l.707-.707a1 1 0 0 0 1.414 0ZM14 15.414l-2.828-2.828a1 1 0 0 1 1.414-1.414l.707-.708a2 2 0 0 0-2.829 2.829l2.829 2.828.707-.707Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}}),u.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M16.828 12.586 14 9.757a3 3 0 0 0-5.117 2.289l-.869.869a4 4 0 0 1 6.693-3.864l2.828 2.828-.707.707Zm2.122.707a4 4 0 1 1-5.657 5.657L9.05 14.707 9.757 14 14 18.243A3 3 0 1 0 18.243 14l.707-.707Z",clipRule:"evenodd",style:{fill:"#fff",fillOpacity:1}})]}),s2=()=>u.jsx(nr,{icon:Qa,$reverse:!0}),a2=()=>u.jsx(nr,{icon:Qa,$reverse:!1}),o2=()=>u.jsx(nr,{icon:Ka,$reverse:!0}),l2=()=>u.jsx(nr,{icon:Ka,$reverse:!1}),c2={"x-button-left":B1,"y-button-left":j1,"a-button-right":U1,"b-button-right":V1,"thumbstick-left":H1,"thumbstick-up-left":$1,"thumbstick-down-left":W1,"thumbstick-right-left":q1,"thumbstick-left-left":X1,"pose-left":s2,"pinch-left":o2,"thumbstick-right":G1,"thumbstick-up-right":Y1,"thumbstick-down-right":Z1,"thumbstick-right-right":K1,"thumbstick-left-right":Q1,"trigger-left":t2,"trigger-right":n2,"squeeze-left":J1,"squeeze-right":e2,"thumbrest-left":r2,"thumbrest-right":i2,"pose-right":a2,"pinch-right":l2},zr=({buttonName:t,handedness:e})=>{const n=`${t}-${e}`,r=c2[n];return r?u.jsx(r,{}):u.jsx("div",{style:{width:k.height,height:k.height}})},u2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:16,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("g",{clipPath:"url(#a)",children:u.jsx("path",{stroke:"#fff",d:"M.5 6.5H6m-5.5 0V5C.5 2.237 2.237.5 5 .5h1m-5.5 6V11c0 2.762 1.737 4.5 4.5 4.5h2c2.762 0 4.5-1.738 4.5-4.5V6.5M6 6.5v-6m0 6h5.5M6 .5h1c2.762 0 4.5 1.737 4.5 4.5v1.5",style:{stroke:"#fff",strokeOpacity:1}})}),u.jsx("path",{fill:"#fff",d:"M.5 6.5H6v-6H5C2.237.5.5 2.237.5 5v1.5Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("defs",{children:u.jsx("clipPath",{id:"a",children:u.jsx("path",{fill:"#fff",d:"M0 0h12v16H0z",style:{fill:"#fff",fillOpacity:1}})})})]}),f2=({scale:t=1.2})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:16,fill:"none",transform:`scale(${t}, ${t})`,children:[u.jsx("g",{clipPath:"url(#a)",children:u.jsx("path",{stroke:"#fff",d:"M.5 6.5H6m-5.5 0V5C.5 2.237 2.237.5 5 .5h1m-5.5 6V11c0 2.762 1.737 4.5 4.5 4.5h2c2.762 0 4.5-1.738 4.5-4.5V6.5M6 6.5v-6m0 6h5.5M6 .5h1c2.762 0 4.5 1.737 4.5 4.5v1.5",style:{stroke:"#fff",strokeOpacity:1}})}),u.jsx("path",{fill:"#fff",d:"M11.5 6.5H6v-6h1c2.762 0 4.5 1.737 4.5 4.5v1.5Z",style:{fill:"#fff",fillOpacity:1}}),u.jsx("defs",{children:u.jsx("clipPath",{id:"a",children:u.jsx("path",{fill:"#fff",d:"M0 0h12v16H0z",style:{fill:"#fff",fillOpacity:1}})})})]}),h2=({size:t=14,color:e=P.textWhite})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 14 14",fill:"none",children:u.jsx("path",{stroke:e,strokeWidth:1.5,d:"M7 13.037V5.512m-.324.289 6.3-2.275m-11.952 0 6.3 2.275m.23 6.937 4.233-1.528a1.627 1.627 0 0 0 1.076-1.53V4.396c0-.685-.43-1.297-1.076-1.53L7.553 1.339a1.63 1.63 0 0 0-1.106 0L2.213 2.867a1.627 1.627 0 0 0-1.075 1.53V9.68c0 .686.43 1.298 1.075 1.53l4.234 1.529a1.63 1.63 0 0 0 1.106 0Z",style:{stroke:e,strokeOpacity:1}})}),d2=({size:t=14,color:e=P.textWhite})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 14 14",fill:"none",children:u.jsx("path",{stroke:e,strokeWidth:1.2,d:"M7 13.037V5.512M3.937 11.9V4.375m6.126 7.525V4.375M6.675 5.8l6.3-2.275m-9.275.962 6.3-2.275M1.024 3.526l6.3 2.275M6.85 9.388l6.3-2.275m-12.302 0 6.3 2.276m-3.15-7.176 6.3 2.276m-2.746 8.248 4.234-1.527a1.627 1.627 0 0 0 1.075-1.53V4.396c0-.685-.43-1.297-1.075-1.53L7.553 1.339a1.63 1.63 0 0 0-1.106 0L2.213 2.867a1.627 1.627 0 0 0-1.076 1.53V9.68c0 .686.43 1.298 1.076 1.53l4.234 1.529a1.63 1.63 0 0 0 1.106 0Z",style:{stroke:e,strokeOpacity:1}})}),p2=({size:t=14,color:e=P.textWhite})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 14 14",fill:"none",children:u.jsx("path",{stroke:e,strokeWidth:1.2,d:"M1.225 8.225h11.55M2.1 5.075h9.8m-7 7L5.6 2.1m3.5 9.975L8.4 2.1m-5.708 9.712h8.617a1.75 1.75 0 0 0 1.696-2.183l-1.567-6.125a1.75 1.75 0 0 0-1.695-1.317H4.258c-.8 0-1.498.542-1.696 1.317L.996 9.629a1.75 1.75 0 0 0 1.696 2.183Z",style:{stroke:e,strokeOpacity:1}})}),ma=({size:t=14,color:e=P.textWhite})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 14 14",fill:"none",children:[u.jsx("path",{fill:e,d:"M10.5 8.367a1.4 1.4 0 1 0 0-2.8 1.4 1.4 0 0 0 0 2.8Z",style:{fill:e,fillOpacity:1}}),u.jsx("path",{fill:e,fillRule:"evenodd",d:"M0 5.8A2.8 2.8 0 0 1 2.8 3h8.4A2.8 2.8 0 0 1 14 5.8v2.8a2.8 2.8 0 0 1-2.8 2.8H9.526c-.619 0-1.184-.35-1.46-.903l-.108-.214a.933.933 0 0 0-.835-.516h-.246c-.354 0-.677.2-.835.516l-.107.214a1.633 1.633 0 0 1-1.461.903H2.8A2.8 2.8 0 0 1 0 8.6V5.8Zm4.9 1.167a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Zm8.367-.768a.268.268 0 0 0 .076-.292 2.942 2.942 0 0 0-.187-.407l-.055-.096a3.012 3.012 0 0 0-.262-.37.27.27 0 0 0-.29-.08l-.66.21a2.279 2.279 0 0 0-.522-.302l-.148-.676a.268.268 0 0 0-.215-.211 3.062 3.062 0 0 0-1.008.001.268.268 0 0 0-.215.21l-.148.677a2.28 2.28 0 0 0-.522.301l-.66-.21a.268.268 0 0 0-.29.081c-.096.116-.184.24-.262.37l-.056.096c-.072.13-.135.265-.187.406a.268.268 0 0 0 .076.292l.513.467a2.293 2.293 0 0 0 0 .603l-.513.467a.268.268 0 0 0-.076.291c.052.141.115.276.187.407l.056.096c.078.13.166.253.262.37a.27.27 0 0 0 .29.08l.66-.211c.158.122.333.224.52.3l.149.677a.268.268 0 0 0 .215.211 3.06 3.06 0 0 0 1.007 0 .268.268 0 0 0 .216-.21l.148-.677a2.28 2.28 0 0 0 .521-.301l.66.21c.105.033.22.004.29-.08.097-.117.184-.24.263-.37l.055-.097c.073-.13.135-.265.188-.406a.268.268 0 0 0-.076-.292l-.513-.466a2.299 2.299 0 0 0 0-.602l.513-.467Z",clipRule:"evenodd",style:{fill:e,fillOpacity:1}})]}),We={KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Digit0:"0",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Tab:u.jsx(G,{icon:M1}),Backspace:u.jsx(G,{icon:C1}),Enter:u.jsx(G,{style:{transform:"rotate(90deg)"},icon:z1}),ShiftLeft:u.jsx(G,{icon:fl}),ShiftRight:u.jsx(G,{icon:fl}),Space:" ",ArrowUp:u.jsx(G,{icon:R1}),ArrowDown:u.jsx(G,{icon:L1}),ArrowLeft:u.jsx(G,{icon:S1}),ArrowRight:u.jsx(G,{icon:_1}),Semicolon:";",Equal:"=",Comma:",",Minus:"-",Period:".",Slash:"/",Backquote:"`",BracketLeft:"[",Backslash:"\\",BracketRight:"]",Quote:"'",MouseLeft:u.jsx(u2,{}),MouseRight:u.jsx(f2,{})},hu={},{useDebugValue:m2}=ce,{useSyncExternalStoreWithSelector:g2}=Ju;let pl=!1;const x2=t=>t;function y2(t,e=x2,n){(hu?"production":void 0)!=="production"&&n&&!pl&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pl=!0);const r=g2(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return m2(r),r}const ml=t=>{(hu?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Ku(t):t,n=(r,i)=>y2(e,r,i);return Object.assign(n,e),n},Ja=t=>t?ml(t):ml,v2={left:{"thumbstick-up":"KeyW","thumbstick-down":"KeyS","thumbstick-left":"KeyA","thumbstick-right":"KeyD",thumbstick:"KeyR","x-button":"KeyX","y-button":"KeyZ",trigger:"KeyQ",squeeze:"KeyE",pinch:"MouseLeft",pose:"KeyF"},right:{"thumbstick-up":"ArrowUp","thumbstick-down":"ArrowDown","thumbstick-left":"ArrowLeft","thumbstick-right":"ArrowRight",thumbstick:"Slash","a-button":"Enter","b-button":"ShiftRight",trigger:"MouseLeft",squeeze:"MouseRight",pinch:"MouseRight",pose:"Backslash"}},eo=Ja(t=>({keyMap:v2,bindKey:(e,n,r="Unmapped")=>t(i=>({keyMap:{...i.keyMap,[e]:{...i.keyMap[e],[n]:r}}}))})),w2=Y.div`
	display: flex;
	height: ${k.height};
	align-items: center;
	justify-content: space-between;
	margin-bottom: ${k.gap};

	&:last-child {
		margin-bottom: 0;
	}
`,du=({handedness:t,actions:e})=>{const{keyMap:n,bindKey:r}=eo(),[i,s]=F.useState(null),a=o=>{s({action:o})};return F.useEffect(()=>{const o=f=>{i&&We[f.code]&&(r(t,i.action,f.code),s(null))},l=f=>{if(i){const h=f.button===0?"MouseLeft":f.button===2?"MouseRight":null;h&&We[h]&&(r(t,i.action,h),s(null))}},c=f=>{f.preventDefault()};return window.addEventListener("keydown",o),window.addEventListener("mousedown",l),window.addEventListener("contextmenu",c),()=>{window.removeEventListener("keydown",o),window.removeEventListener("mousedown",l),window.removeEventListener("contextmenu",c)}},[i]),Object.keys(n[t]).filter(o=>e.includes(o)).map(o=>u.jsxs(w2,{children:[u.jsx(zr,{buttonName:o==="up"?"thumbstick":o,handedness:t}),u.jsxs(Ct,{$reverse:!1,children:[u.jsx(Te,{$reverse:!1,style:{width:"100px",background:i&&i.action===o?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent},onClick:()=>a(o),onContextMenu:l=>l.preventDefault(),children:n[t][o]}),u.jsx(Te,{style:{width:k.widthShort},$reverse:!1,onClick:()=>r(t,o),onContextMenu:l=>l.preventDefault(),children:u.jsx(Wr,{icon:A1})})]})]},o))},b2=({xrController:t,buttonId:e,pointerLocked:n,mappedKey:r})=>{const[i,s]=F.useState(!1),[a,o]=F.useState(!1),[l,c]=F.useState(!1),[f,h]=F.useState(0),d=t.inputSource.handedness;return F.useEffect(()=>{const m=v=>{v.code===r&&(t.updateButtonValue(e,1),c(!0))},g=v=>{v.code===r&&(t.updateButtonValue(e,0),c(!1))},y=v=>{(r==="MouseLeft"&&v.button===0||r==="MouseRight"&&v.button===2)&&(t.updateButtonValue(e,1),c(!0))},x=v=>{(r==="MouseLeft"&&v.button===0||r==="MouseRight"&&v.button===2)&&(t.updateButtonValue(e,0),c(!1))};return n?r==="MouseLeft"||r==="MouseRight"?(window.addEventListener("mousedown",y),window.addEventListener("mouseup",x)):(window.addEventListener("keydown",m),window.addEventListener("keyup",g)):r==="MouseLeft"||r==="MouseRight"?(window.removeEventListener("mousedown",y),window.removeEventListener("mouseup",x)):(window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)),()=>{r==="MouseLeft"||r==="MouseRight"?(window.removeEventListener("mousedown",y),window.removeEventListener("mouseup",x)):(window.removeEventListener("keydown",m),window.removeEventListener("keyup",g))}},[r,n,e,t]),u.jsxs(qn,{$reverse:d==="right",children:[u.jsx(zr,{buttonName:e,handedness:d}),u.jsx(Ct,{$reverse:d==="right",children:n?u.jsx(ut,{$pressed:l,children:We[r]}):u.jsxs(u.Fragment,{children:[u.jsx(Te,{$reverse:d==="right",style:{background:a?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthLong},onClick:()=>{o(!0),t.updateButtonValue(e,1),setTimeout(()=>{o(!1),t.updateButtonValue(e,0)},250)},children:"Press"}),u.jsx(Te,{title:"Click to toggle touch state",$reverse:d==="right",style:{background:i?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthShort},onClick:()=>{s(!i),t.updateButtonTouch(e,!i)},children:u.jsx(G,{icon:Za})}),u.jsx(iu,{$reverse:d==="right",value:f,onChange:m=>{const g=Number(m.target.value);h(g),t.updateButtonValue(e,g/100)},min:"0",max:"100"})]})})]})},E2=({xrController:t,buttonId:e,pointerLocked:n,mappedKey:r})=>{const[i,s]=F.useState(!1),[a,o]=F.useState(!1),[l,c]=F.useState(!1),[f,h]=F.useState(!1),d=t.inputSource.handedness;return F.useEffect(()=>{const m=y=>{y.code===r&&(t.updateButtonValue(e,1),h(!0))},g=y=>{y.code===r&&(t.updateButtonValue(e,0),h(!1))};return n?(window.addEventListener("keydown",m),window.addEventListener("keyup",g)):(window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)}},[r,n,e,t]),u.jsxs(qn,{$reverse:d==="right",children:[u.jsx(zr,{buttonName:e,handedness:d}),u.jsx(Ct,{$reverse:d==="right",children:n?u.jsx(ut,{$pressed:f,children:We[r]}):u.jsxs(u.Fragment,{children:[u.jsx(Te,{$reverse:d==="right",style:{background:l?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthLong},onClick:()=>{c(!0),t.updateButtonValue(e,1),setTimeout(()=>{c(!1),t.updateButtonValue(e,0)},250)},children:"Press"}),u.jsx(Te,{title:"Click to toggle touch state",$reverse:d==="right",style:{background:i?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthShort},onClick:()=>{s(!i),t.updateButtonTouch(e,!i)},children:u.jsx(G,{icon:Za})}),u.jsx(Te,{$reverse:d==="right",style:{background:a?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthLong},onClick:()=>{o(!a),t.updateButtonValue(e,a?0:1)},children:"Hold"})]})})]})},T2=Y.div`
	display: flex;
	align-items: center;
	margin-bottom: ${k.gap};
`,gl=`calc(2 * ${k.height} + ${k.gap})`,_2=Y.button`
	background: ${P.gradientGreyTranslucent};
	border: none;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 0;
	pointer-events: none;
	width: ${gl};
	height: ${gl};
	border-radius: 50%;
	position: relative;
	margin: 0 5px;
`,S2=Y.div`
	position: absolute;
	font-size: 50px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: ${P.textWhite};
	cursor: pointer;
	pointer-events: auto;
`,xl=Y(Te)`
	width: ${k.widthLong};
	font-size: ${k.fontSize};

	${({$reverse:t})=>t?`
    &:first-child {
      border-radius: ${k.radiusLast};
    }

    &:last-child {
      border-radius: ${k.radiusFirst};
    }
  `:`
    &:first-child {
      border-radius: ${k.radiusFirst};
    }

    &:last-child {
      border-radius: ${k.radiusLast};
    }
  `}
`,A2=({xrController:t,pointerLocked:e,buttonId:n,mappedKeyUp:r,mappedKeyDown:i,mappedKeyLeft:s,mappedKeyRight:a,mappedKeyPressed:o})=>{const l=F.useRef(null),[c,f]=F.useState(!1),[h,d]=F.useState(!1),[m,g]=F.useState(!1),[y,x]=F.useState(!1),[v,A]=F.useState({x:0,y:0}),[w,E]=F.useState({up:!1,down:!1,left:!1,right:!1,pressed:!1}),T=t.inputSource.handedness,S=()=>{if(l.current){const C=l.current.getBoundingClientRect();A({x:C.left+C.width/2,y:C.top+C.height/2}),f(!0)}},M=C=>{if(c&&l.current){const J=C.clientX-v.x,ie=C.clientY-v.y,K=Math.sqrt(J*J+ie*ie),H=12;let W,Je;if(K<H)W=J,Je=ie;else{const sr=Math.atan2(ie,J);W=Math.cos(sr)*H,Je=Math.sin(sr)*H}l.current.style.transform=`translate(${W}px, ${Je}px)`;const ir=W/H,Dt=Je/H;t.updateAxes(n,ir,Dt)}},N=()=>{f(!1),l.current&&(l.current.style.transform="translate(0, 0)",t.updateAxes(n,0,0))};return F.useEffect(()=>{const C=K=>{const H={...w};K.code===r&&(H.up=!0),K.code===i&&(H.down=!0),K.code===s&&(H.left=!0),K.code===a&&(H.right=!0),K.code===o&&(H.pressed=!0,t.updateButtonValue(n,1)),E(H),ie(H)},J=K=>{const H={...w};K.code===r&&(H.up=!1),K.code===i&&(H.down=!1),K.code===s&&(H.left=!1),K.code===a&&(H.right=!1),K.code===o&&(H.pressed=!1,t.updateButtonValue(n,0)),E(H),ie(H)},ie=K=>{const H=(K.right?1:0)-(K.left?1:0),W=(K.down?1:0)-(K.up?1:0),Je=Math.sqrt(H*H+W*W);if(Je===0){t.updateAxes(n,0,0);return}const ir=H/Je,Dt=W/Je;t.updateAxes(n,ir,Dt)};return e?(window.addEventListener("keydown",C),window.addEventListener("keyup",J)):(window.removeEventListener("keydown",C),window.removeEventListener("keyup",J)),()=>{window.removeEventListener("keydown",C),window.removeEventListener("keyup",J)}},[r,i,s,a,e,w]),F.useEffect(()=>(document.addEventListener("mousemove",M),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",N)}),[c,v]),e?u.jsxs(u.Fragment,{children:[u.jsxs(qn,{$reverse:T==="right",children:[u.jsx(zr,{buttonName:"thumbstick",handedness:t.inputSource.handedness}),u.jsxs(Ct,{$reverse:T==="right",children:[u.jsx(ut,{$pressed:w.up,children:We[r]}),u.jsx(ut,{$pressed:w.pressed,children:We[o]})]})]}),u.jsx(qn,{$reverse:T==="right",style:T==="right"?{marginRight:"2px"}:{marginLeft:"2px"},children:u.jsxs(Ct,{$reverse:!1,style:{margin:0},children:[u.jsx(ut,{$pressed:w.left,children:We[s]}),u.jsx(ut,{$pressed:w.down,children:We[i]}),u.jsx(ut,{$pressed:w.right,children:We[a]})]})})]}):u.jsx(T2,{style:{flexDirection:t.inputSource.handedness==="left"?"row":"row-reverse",alignItems:"flex-start"},children:u.jsxs(u.Fragment,{children:[u.jsx(zr,{buttonName:"thumbstick",handedness:t.inputSource.handedness}),u.jsx(_2,{style:{margin:"0 5px"},children:u.jsx(S2,{ref:l,onMouseDown:S,children:u.jsx(G,{icon:Yi,$size:50})})}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:T==="right"?"start":"end"},children:[u.jsx(Te,{$reverse:T==="right",style:{background:y?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:`calc(${k.widthLong} + ${k.widthShort} + ${k.gap})`,marginBottom:k.gap,borderRadius:k.radiusSolo},onClick:()=>{x(!0),t.updateButtonValue(n,1),setTimeout(()=>{x(!1),t.updateButtonValue(n,0)},250)},children:"Press"}),u.jsxs(Ct,{$reverse:T==="right",children:[u.jsx(xl,{title:"Click to toggle touch state",$reverse:t.inputSource.handedness!=="left",style:{background:h?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthShort},onClick:()=>{d(!h),t.updateButtonTouch(n,!h)},children:u.jsx(G,{icon:Za})}),u.jsx(xl,{$reverse:t.inputSource.handedness!=="left",style:{background:m?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthLong},onClick:()=>{g(!m),t.updateButtonValue(n,m?0:1)},children:"Hold"})]})]})]})})};function cn(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}const M2=Y.div`
	width: 100%;
	display: flex;
	flex-direction: row;
	justify-content: space-between;
	align-items: center;
	margin: 0;
	font-size: 12px;
`,Dr=({vector:t,label:e="",icon:n,multiplier:r=1,precision:i=2,onValidInput:s=()=>{},marginBottom:a="0"})=>{const[o,l]=F.useState({x:(t.x/r).toFixed(i),y:(t.y/r).toFixed(i),z:(t.z/r).toFixed(i)}),c=F.useRef({x:cn(t.x/r,i),y:cn(t.y/r,i),z:cn(t.z/r,i)}),f=F.useRef(null),h=()=>{const m={x:cn(t.x/r,i),y:cn(t.y/r,i),z:cn(t.z/r,i)},{x:g,y,z:x}=c.current;(m.x!==g||m.y!==y||m.z!==x)&&(c.current=m,l({x:m.x.toFixed(i),y:m.y.toFixed(i),z:m.z.toFixed(i)})),f.current=requestAnimationFrame(h)};F.useEffect(()=>(f.current=requestAnimationFrame(h),()=>{f.current&&cancelAnimationFrame(f.current)}),[t,r,i]);const d=m=>g=>{const y=g.target.value,x=parseFloat(y);l(v=>({...v,[m]:y})),isNaN(x)||(c.current[m]=x,t[m]=x*r,s())};return u.jsxs(M2,{style:{marginBottom:a},children:[n?u.jsx(G,{icon:n,style:{marginRight:"5px"}}):u.jsx("span",{style:{marginRight:"5px"},children:e}),u.jsx(su,{children:["x","y","z"].map(m=>u.jsxs("div",{style:{position:"relative",display:"inline-block",height:"25px"},children:[u.jsx(au,{value:o[m],onChange:d(m),className:parseFloat(o[m])!==c.current[m]?"invalid":void 0}),u.jsx(ou,{children:m.toUpperCase()})]},`${e}-${m}`))})]})};function R2(t){const e=new Set;for(const r of t.axes)r&&r.id&&e.add(r.id);const n=t.buttons.filter(r=>r!==null).map(r=>({id:r.id,type:r.type,hasAxes:e.has(r.id)}));return n.sort((r,i)=>r.hasAxes&&!i.hasAxes?-1:!r.hasAxes&&i.hasAxes?1:0),n}const P2=({controller:t,handle:e,handedness:n,pointerLocked:r})=>{const{keyMap:i}=eo(),[s,a]=ce.useState(t.connected),[o,l]=ce.useState(!1),c=R2(t.gamepadConfig),f=c.flatMap(h=>h.hasAxes?[`${h.id}-left`,`${h.id}-right`,`${h.id}-up`,`${h.id}-down`,h.id]:h.id);return ce.useEffect(()=>{r&&l(!1)},[r]),u.jsxs(Fr,{style:n==="left"?{left:"8px",bottom:"8px"}:{right:"8px",bottom:"8px"},children:[!r&&u.jsx(u.Fragment,{children:u.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{fontSize:"13px",display:"flex",flexDirection:"row",alignItems:"center"},children:[u.jsx(G,{icon:lu,style:{marginRight:"5px"}}),"Controller ",u.jsxs("span",{style:{fontWeight:"bold"},children:["[",n==="left"?"L":"R","]"]})]}),u.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"1px"},children:s?u.jsxs(u.Fragment,{children:[u.jsx(Jt,{title:`Click to ${o?"close":"change"} key bindings`,onClick:()=>{l(!o)},children:u.jsx(G,{icon:fu})}),u.jsx(Jt,{title:`Click to disconnect ${n} controller`,$isRed:!0,onClick:()=>{t.connected=!1,a(!1)},children:u.jsx(G,{icon:Yi})})]}):u.jsx(Jt,{title:`Click to reconnect ${n} controller`,onClick:()=>{t.connected=!0,a(!0)},style:{marginLeft:"5px"},children:u.jsx(G,{icon:uu})})})]})}),s&&!r&&u.jsxs(u.Fragment,{children:[!o&&u.jsxs(u.Fragment,{children:[u.jsx(sn,{}),u.jsx(Dr,{vector:e.position,label:"Position",marginBottom:k.gap}),u.jsx(Dr,{vector:e.rotation,label:"Rotation"})]}),u.jsx(sn,{})]}),s&&(o?u.jsx(du,{handedness:n,actions:f}):c.map(h=>{const d=i[n];return h.hasAxes?u.jsx(A2,{xrController:t,pointerLocked:r,buttonId:h.id,mappedKeyUp:i[n][`${h.id}-up`],mappedKeyDown:d[`${h.id}-down`],mappedKeyLeft:d[`${h.id}-left`],mappedKeyRight:d[`${h.id}-right`],mappedKeyPressed:d[h.id]},h.id):h.type==="analog"?u.jsx(b2,{xrController:t,buttonId:h.id,mappedKey:d[h.id],pointerLocked:r},h.id):u.jsx(E2,{xrController:t,buttonId:h.id,mappedKey:d[h.id],pointerLocked:r},h.id)}))]},n)},O2=`calc(${k.widthLong} + ${k.widthShort} + ${k.gap})`,I2=({hand:t,pointerLocked:e,mappedKey:n})=>{const[r,i]=F.useState(!1),[s,a]=F.useState(!1),[o,l]=F.useState(0),c=t.inputSource.handedness;return F.useEffect(()=>{const f=g=>{g.code===n&&(t.updatePinchValue(1),a(!0))},h=g=>{g.code===n&&(t.updatePinchValue(0),a(!1))},d=g=>{(n==="MouseLeft"&&g.button===0||n==="MouseRight"&&g.button===2)&&(t.updatePinchValue(1),a(!0))},m=g=>{(n==="MouseLeft"&&g.button===0||n==="MouseRight"&&g.button===2)&&(t.updatePinchValue(0),a(!1))};return e?n==="MouseLeft"||n==="MouseRight"?(window.addEventListener("mousedown",d),window.addEventListener("mouseup",m)):(window.addEventListener("keydown",f),window.addEventListener("keyup",h)):n==="MouseLeft"||n==="MouseRight"?(window.removeEventListener("mousedown",d),window.removeEventListener("mouseup",m)):(window.removeEventListener("keydown",f),window.removeEventListener("keyup",h)),()=>{n==="MouseLeft"||n==="MouseRight"?(window.removeEventListener("mousedown",d),window.removeEventListener("mouseup",m)):(window.removeEventListener("keydown",f),window.removeEventListener("keyup",h))}},[n,e,t]),u.jsxs(qn,{$reverse:c==="right",children:[u.jsx(nr,{icon:Ka,$reverse:c==="left"}),u.jsx(Ct,{$reverse:c==="right",children:e?u.jsx(ut,{$pressed:s,children:We[n]}):u.jsxs(u.Fragment,{children:[u.jsx(Te,{$reverse:c==="right",style:{background:r?P.gradientLightGreyTranslucent:P.gradientGreyTranslucent,width:k.widthLong},onClick:()=>{i(!0),t.updatePinchValue(1),setTimeout(()=>{i(!1),t.updatePinchValue(0)},250)},children:"Pinch"}),u.jsx(iu,{$reverse:c==="right",value:o,onChange:f=>{const h=Number(f.target.value);l(h),t.updatePinchValue(h/100)},style:{width:O2},min:"0",max:"100"})]})})]})},ur=["default","point"],k2=`calc(2 * ${k.widthLong} - ${k.widthShort})`,L2=({hand:t,pointerLocked:e,mappedKey:n})=>{const[r,i]=F.useState(t.poseId),[s,a]=F.useState(!1),o=t.inputSource.handedness,l=f=>{const d=(ur.indexOf(t.poseId)+ur.length+f)%ur.length;i(ur[d]),t.poseId=ur[d]},c=o==="right";return F.useEffect(()=>{const f=d=>{d.code===n&&(l(1),a(!0))},h=d=>{d.code===n&&a(!1)};return e?(window.addEventListener("keydown",f),window.addEventListener("keyup",h)):(window.removeEventListener("keydown",f),window.removeEventListener("keyup",h)),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",h)}},[n,e,t]),u.jsxs(qn,{$reverse:c,children:[u.jsx(nr,{icon:Qa,$reverse:o==="left"}),u.jsx(Ct,{$reverse:c,children:e?u.jsx(ut,{$pressed:s,children:We[n]}):u.jsxs(u.Fragment,{children:[u.jsx(Te,{$reverse:c,style:{width:k.widthShort},onClick:()=>{l(c?1:-1)},children:u.jsx(G,{icon:c?dl:hl})}),u.jsxs(Te,{$reverse:c,style:{width:k2},disabled:!0,children:["Pose: ",r]}),u.jsx(Te,{$reverse:c,style:{width:k.widthShort},onClick:()=>{l(c?-1:1)},children:u.jsx(G,{icon:c?hl:dl})})]})})]})},C2=({hand:t,handle:e,handedness:n,pointerLocked:r})=>{const{keyMap:i}=eo(),[s,a]=ce.useState(t.connected),[o,l]=ce.useState(!1);return ce.useEffect(()=>{r&&l(!1)},[r]),u.jsxs(Fr,{style:n==="left"?{left:"8px",bottom:"8px"}:{right:"8px",bottom:"8px"},children:[!r&&u.jsx(u.Fragment,{children:u.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{style:{fontSize:"13px",display:"flex",flexDirection:"row",alignItems:"center"},children:[u.jsx(G,{icon:cu,$reverse:n==="left",style:{marginRight:"5px"}}),"Hand ",u.jsxs("span",{style:{fontWeight:"bold"},children:["[",n==="left"?"L":"R","]"]})]}),u.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"1px"},children:s?u.jsxs(u.Fragment,{children:[u.jsx(Jt,{title:`Click to ${o?"close":"change"} key bindings`,onClick:()=>{l(!o)},children:u.jsx(G,{icon:fu})}),u.jsx(Jt,{title:`Click to disconnect ${n} controller`,$isRed:!0,onClick:()=>{t.connected=!1,a(!1)},children:u.jsx(G,{icon:Yi})})]}):u.jsx(Jt,{title:`Click to reconnect ${n} controller`,onClick:()=>{t.connected=!0,a(!0)},style:{marginLeft:"5px"},children:u.jsx(G,{icon:uu})})})]})}),s&&!r&&u.jsxs(u.Fragment,{children:[!o&&u.jsxs(u.Fragment,{children:[u.jsx(sn,{}),u.jsx(Dr,{vector:e.position,label:"Position",marginBottom:k.gap}),u.jsx(Dr,{vector:e.rotation,label:"Rotation"})]}),u.jsx(sn,{})]}),s&&(o?u.jsx(du,{handedness:n,actions:["pose","pinch"]}):u.jsxs(u.Fragment,{children:[u.jsx(L2,{hand:t,pointerLocked:r,mappedKey:i[n].pose}),u.jsx(I2,{hand:t,pointerLocked:r,mappedKey:i[n].pinch})]}))]},n)},to=Ja(t=>({inputMode:"controller",setInputMode:e=>t(()=>({inputMode:e}))})),N2=({xrDevice:t,inputLayer:e,pointerLocked:n})=>{const{inputMode:r}=to();return u.jsx(u.Fragment,{children:r==="controller"?Object.entries(t.controllers).map(([i,s])=>u.jsx(P2,{controller:s,handle:e.transformHandles.get(i),handedness:i,pointerLocked:n},`controller-${i}`)):Object.entries(t.hands).map(([i,s])=>u.jsx(C2,{hand:s,handle:e.transformHandles.get(i),handedness:i,pointerLocked:n},`hand-${i}`))})},ws=Y.td`
	text-align: right;
	color: ${P.textWhite};
	padding: 0 8px 0 0;
	font-weight: bold;
`,bs=Y.td`
	text-align: left;
	color: ${P.textGrey};
	padding: 0;
`,F2=["meeting_room","living_room","music_room","office_large","office_small"],z2=Ja(t=>({infoPanelOpen:!1,envDropDownOpen:!1,setInfoPanelOpen:e=>t(()=>({infoPanelOpen:e})),setEnvDropDownOpen:e=>t(()=>({envDropDownOpen:e}))}));function D2(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const B2=({xrDevice:t,inputLayer:e})=>{var n,r,i;const[s,a]=ce.useState(!!(!((n=t.sem)===null||n===void 0)&&n.planesVisible)),[o,l]=ce.useState(!!(!((r=t.sem)===null||r===void 0)&&r.boundingBoxesVisible)),[c,f]=ce.useState(!!(!((i=t.sem)===null||i===void 0)&&i.meshesVisible)),{inputMode:h,setInputMode:d}=to(),{infoPanelOpen:m,setInfoPanelOpen:g,envDropDownOpen:y,setEnvDropDownOpen:x}=z2();return u.jsxs("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",alignItems:"center",gap:"6px",padding:"8px"},children:[u.jsx(pa,{children:u.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1px"},children:[u.jsx(Be,{title:"Click to reset device transforms",onClick:()=>{e.resetDeviceTransforms()},children:u.jsx(G,{icon:P1,$size:16})}),u.jsx(Be,{title:"Click to activate play mode",onClick:()=>{e.lockPointer(),x(!1),g(!1)},children:u.jsx(G,{icon:O1,$size:16})}),u.jsx(Be,{title:"Click to toggle input mode",onClick:()=>{h==="controller"?(d("hand"),t.primaryInputMode="hand"):(d("controller"),t.primaryInputMode="controller")},children:u.jsx(G,{icon:h==="controller"?lu:cu,$size:16})}),t.sem&&u.jsxs(u.Fragment,{children:[u.jsx(sn,{$horizontal:!1}),u.jsx(Be,{title:"Click to select/change emulated environment",onClick:()=>x(!y),children:u.jsx(G,{icon:I1,$size:16})}),u.jsx(Be,{title:"Click to toggle visibility of planes",onClick:()=>{t.sem.planesVisible=!s,a(!s)},children:u.jsx(p2,{size:16,color:s?P.textWhite:P.textGrey})}),u.jsx(Be,{title:"Click to toggle visibility of bounding boxes",onClick:()=>{t.sem.boundingBoxesVisible=!o,l(!o)},children:u.jsx(h2,{size:16,color:o?P.textWhite:P.textGrey})}),u.jsx(Be,{title:"Click to toggle visibility of meshes",onClick:()=>{t.sem.meshesVisible=!c,f(!c)},children:u.jsx(d2,{size:16,color:c?P.textWhite:P.textGrey})})]}),u.jsx(sn,{$horizontal:!1}),u.jsx(Be,{title:"Click to exit XR session",onClick:()=>{const v=t.activeSession;v?.end()},children:u.jsx(G,{icon:T1,$size:16})})]})}),u.jsx(pa,{children:u.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1px"},children:[u.jsx(Be,{title:"About IWER",onClick:()=>{g(!m)},children:u.jsx(ma,{size:16})}),u.jsx(Be,{title:"Report issues",onClick:()=>{window.open("https://github.com/meta-quest/immersive-web-emulation-runtime/issues","_blank")},children:u.jsx(G,{icon:N1,$size:16})})]})}),m&&u.jsxs(Fr,{style:{top:"50vh",left:"50vw",transform:"translate(-50%, -50%)",maxWidth:"240px",gap:"4px"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"end"},children:u.jsx(Jt,{$isRed:!0,onClick:()=>{g(!1)},children:u.jsx(G,{icon:Yi})})}),u.jsx("div",{style:{display:"flex",justifyContent:"center"},children:u.jsx(ma,{size:100})}),u.jsxs("p",{style:{textAlign:"center",padding:"0 5px",margin:"0"},children:[u.jsx("b",{children:"Immersive Web Emulation Runtime"})," (IWER) is a free, open-source WebXR developer tool created by Meta Platforms, Inc."]}),u.jsx("table",{style:{width:"100%",borderCollapse:"collapse",display:"flex",justifyContent:"center",fontSize:"12px",padding:"8px"},children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx(ws,{children:"IWER"}),u.jsxs(bs,{children:["v",t.version]})]}),u.jsxs("tr",{children:[u.jsx(ws,{children:"DevUI"}),u.jsxs(bs,{children:["v",t.devui.version]})]}),t.sem&&u.jsxs("tr",{children:[u.jsx(ws,{children:"SEM"}),u.jsxs(bs,{children:["v",t.sem.version]})]})]})}),u.jsx(Te,{style:{borderRadius:k.radiusSolo},onClick:()=>{window.open("https://github.com/meta-quest/immersive-web-emulation-runtime/blob/main/LICENSE","_blank")},children:"MIT License"}),u.jsx(Te,{style:{borderRadius:k.radiusSolo},onClick:()=>{window.open("https://github.com/meta-quest/immersive-web-emulation-runtime","_blank")},children:"View Source on GitHub"})]}),y&&u.jsx(Fr,{style:{position:"absolute",top:"40px"},children:F2.map(v=>u.jsx("div",{children:u.jsx(Be,{style:{fontSize:"12px",width:"100%",justifyContent:"start",borderRadius:"8px"},onClick:()=>{t.sem.loadDefaultEnvironment(v)},children:D2(v)})},v))})]})},j2=Y.div`
	width: 100%;
	display: flex;
	flex-direction: row;
	justify-content: space-between;
	align-items: center;
	margin-top: ${k.gap};
	font-size: 12px;
`,U2=Y.input.attrs({type:"range"})`
	-webkit-appearance: none;
	appearance: none;
	background: ${P.gradientGrey};
	border: 1px solid transparent;
	height: 25px;
	color: ${P.textWhite};
	width: ${k.widthLong};
	cursor: pointer;
	margin: 0;
	border-radius: 5px;
	padding: 0 10px 0 5px;
	box-sizing: border-box;
	font-size: 10px;

	&::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 8px;
		height: 25px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}

	&::-moz-range-thumb {
		width: 8px;
		height: 25px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}

	&::-ms-thumb {
		width: 8px;
		height: 25px;
		background-color: ${P.textWhite};
		border-radius: ${k.radiusMiddle};
	}
`,V2=({xrDevice:t,inputLayer:e,pointerLocked:n})=>{const[r,i]=ce.useState(t.fovy);return u.jsxs(Fr,{style:{left:"8px",top:"8px"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"20px"},children:[u.jsxs("div",{style:{fontSize:"13px",display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"start"},children:[u.jsx(G,{icon:F1,style:{marginRight:"5px"}}),u.jsx("div",{style:{alignItems:"end"},children:t.name})]}),u.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"1px"}})]}),u.jsx(sn,{}),u.jsx(Dr,{vector:e.combinedCameraPosition,icon:k1}),!n&&u.jsxs(j2,{children:[u.jsx(G,{icon:D1,style:{marginRight:"5px"}}),u.jsxs(su,{children:[u.jsxs("div",{style:{position:"relative",display:"inline-block",height:"25px"},children:[u.jsx(au,{type:"text",value:(r/Math.PI*180).toFixed(0)+"°",readOnly:!0,style:{width:"73px"}}),u.jsx(ou,{children:"FOV-Y"})]}),u.jsx("div",{style:{position:"relative",display:"inline-block"},children:u.jsx(U2,{value:r,onChange:s=>{const a=Number(s.target.value);i(a),t.fovy=a},min:Math.PI/6,max:Math.PI/1.5,step:Math.PI/48,style:{width:"80px"}})})]})]})]})},Es=new mt,H2=new mt,G2={x:"XYZ",y:"YXZ",z:"ZXY"};function no(t,e,n,r,i,s){Es.copy(n),i!=null&&Es.premultiply(H2.copy(i).invert());const a=new _,o=new q,l=new _;Es.decompose(a,o,l),wl(a,r.initialTargetPosition,s.translate??!0);let c;const f=s.rotate??!0;if(f===!1)o.copy(r.initialTargetQuaternion),c=r.initialTargetRotation.clone();else if(Array.isArray(f)||f===!0||typeof f!="string"&&!Array.isArray(f)&&f.x===!0&&f.y===!0&&f.z===!0)c=new re().setFromQuaternion(o,r.initialTargetRotation.order);else if(typeof f=="string"){const h=G2[f];c=new re().setFromQuaternion(o,h);for(const d of h){const m=d.toLowerCase();m!==f&&(c[m]=0)}c.order=r.initialTargetRotation.order,o.setFromEuler(c)}else c=q2(o,r.initialTargetRotation,f);return(typeof s.scale!="object"||!s.scale.uniform)&&wl(l,r.initialTargetScale,s.scale??!0),{pointerAmount:e,position:a,quaternion:o,rotation:c,scale:l,time:t}}const un=new Pa,fn=new _,hn=new _,$2=new _,W2=new q;function yl(t,e,n){return un.normal.copy(t),un.constant=0,X2(fn,un.normal),hn.copy(fn),hn.applyQuaternion(W2.copy(e).invert().premultiply(n)),un.projectPoint(fn,fn).normalize(),un.projectPoint(hn,hn).normalize(),($2.crossVectors(fn,un.normal).dot(hn)<0?1:-1)*fn.angleTo(hn)}function X2(t,e){if(e.x===0){t.set(1,0,0);return}if(e.y===0){t.set(0,1,0);return}if(e.z===0){t.set(0,0,1);return}t.set(-e.y,e.x,0)}function q2(t,e,n){let r="",i="";for(const o of e.order)n[o.toLowerCase()]===!1?i+=o:r+=o;const s=r+i,a=new re().setFromQuaternion(t,s);for(const o of s){const l=o.toLowerCase();a[l]=vi(l,a[l],e[l],n)}return t.setFromEuler(a),a}const Ts=new _,vl=new Pa,Y2=new _,Z2=new _;function wl(t,e,n){if(Array.isArray(n)){switch(n.length){case 0:t.copy(e);return;case 1:t.sub(e),pu(t,n[0]instanceof _?n[0]:Ts.fromArray(n[0])),t.add(e);return;case 2:Ts.crossVectors(n[0]instanceof _?n[0]:Y2.fromArray(n[0]),n[1]instanceof _?n[1]:Z2.fromArray(n[1])),vl.setFromNormalAndCoplanarPoint(Ts,e),vl.projectPoint(t,t);return}return}t.x=vi("x",t.x,e.x,n),t.y=vi("y",t.y,e.y,n),t.z=vi("z",t.z,e.z,n)}function vi(t,e,n,r){if(typeof r=="boolean")return r?e:n;if(typeof r=="string")return r===t?e:n;const i=r[t];return i===!1?n:Array.isArray(i)?ef(e,...i):e}function Dn(t=!0,e,n,r,i,s){if(t){switch(e.length){case 0:case 3:return;case 1:K2(n,...e,r,i,s);return;case 2:Q2(...e,n,r,i,s);return}throw new Error(`space cannot be ${e.length}D but received (${e.map(a=>a.toArray().join("/")).join("; ")})`)}}const wi={x:new _(1,0,0),y:new _(0,1,0),z:new _(0,0,1)};function Bn(t,e,n,r,i){if(r!==!1){if(r===!0){t[0]=wi.x,t[1]=wi.y,t[2]=wi.z;return}if(typeof r=="string"){fr(t,e,n,r,i);return}if(Array.isArray(r)){for(const s of r)fr(t,e,n,s,i);return}r.x!==!1&&fr(t,e,n,"x",i),r.y!==!1&&fr(t,e,n,"y",i),r.z!==!1&&fr(t,e,n,"z",i)}}const jt=new q,ri=new re,He=new _,dn=new _,Ut=new _;function fr(t,e,n,r,i){if(Array.isArray(r)?He.set(...r):r instanceof _?He.copy(r):He.copy(wi[r]),i==="translate"){He.applyQuaternion(e),ii(t,He);return}if(i==="scale"){Array.isArray(r)?jt.identity():jt.setFromEuler(n),jt.premultiply(e),He.applyQuaternion(jt),ii(t,He);return}if(Array.isArray(r))ri.set(0,0,0);else{ri.copy(n);for(let s=2;s>=0;s--){const a=n.order[s].toLowerCase();if(ri[a]=0,a===r)break}}jt.setFromEuler(ri).premultiply(e),He.normalize(),dn.set(0,1,0),He.dot(dn)>.99&&dn.set(0,0,1),Ut.crossVectors(He,dn).normalize(),dn.copy(Ut),Ut.applyQuaternion(jt),ii(t,Ut),Ut.crossVectors(He,dn).normalize(),Ut.applyQuaternion(jt),ii(t,Ut)}const bl=new _;function ii(t,e){if(t.length!==3){if(t.length===0){t.push(e.clone());return}if(t.length===1){Math.abs(t[0].dot(e))<.999&&t.push(e.clone());return}bl.crossVectors(t[0],t[1]),!(Math.abs(bl.dot(e))<.001)&&t.push(e.clone())}}const hr=new Pa,_s=new _,Sr=new _;function Q2(t,e,n,r,i,s){_s.crossVectors(t,e).normalize(),hr.setFromNormalAndCoplanarPoint(_s,n);const a=s==null?0:Math.abs(_s.dot(s));if(s==null||a<.01){hr.projectPoint(i,i);return}const l=-hr.distanceToPoint(r)/s.dot(hr.normal);if(l<0){hr.projectPoint(i,i);return}Sr.copy(i),i.copy(r).addScaledVector(s,l)}function K2(t,e,n,r,i){const s=i==null?0:1-Math.abs(e.dot(i));if(i==null||s<.001){El(r,t,e);return}Sr.subVectors(n,t);const a=e.dot(i),o=e.dot(Sr),l=i.dot(Sr),c=1-a*a,f=(o-a*l)/c;if((a*o-l)/c<0){El(r,t,e);return}Sr.copy(r),r.copy(t).addScaledVector(e,f)}function El(t,e,n){t.sub(e),pu(t,n),t.add(e)}function pu(t,e){const n=t.dot(e);t.copy(e).multiplyScalar(n)}const Ss=new mt,si=new mt,ai=new _,J2=new _,Vt=new q,ep=new _(1,1,1),As=[];function tp(t,e,n,r,i){return r==null?Vt.identity():r.decompose(ai,Vt,J2),As.length=0,Bn(As,Vt,n.initialTargetRotation,i.translate??!0,"translate"),si.makeRotationFromQuaternion(Vt.copy(e.initialPointerWorldQuaternion).invert()).multiply(Ss.makeTranslation(ai.copy(e.initialPointerWorldPoint).negate())),n.initialTargetParentWorldMatrix!=null&&si.multiply(n.initialTargetParentWorldMatrix),Dn(i.projectRays,As,e.initialPointerWorldPoint,e.pointerWorldOrigin,ai.copy(e.pointerWorldPoint),e.pointerWorldDirection),Vt.copy(e.pointerWorldQuaternion),(i.rotate??!0)===!1&&Vt.copy(e.initialPointerWorldQuaternion),Ss.compose(ai,Vt,ep).multiply(si).multiply(si.compose(n.initialTargetPosition,n.initialTargetQuaternion,n.initialTargetScale)),no(t,1,Ss,n,r,i)}const pn=new _,dr=new _,pe=new _,Et=new _,np=new _,Tl=new _,mn=new _,_l=new mt,pr=new mt,oi=new mt,et=new q,mr=new q,gn=[];function rp(t,e,n,r,i,s){i==null?et.identity():i.decompose(pe,et,Et),gn.length=0,Bn(gn,et,r.initialTargetRotation,s.translate??!0,"translate"),Bn(gn,et,r.initialTargetRotation,s.rotate??!0,"rotate"),Bn(gn,et,r.initialTargetRotation,s.scale??!0,"scale"),Dn(s.projectRays,gn,e.initialPointerWorldPoint,e.pointerWorldOrigin,pe.copy(e.pointerWorldPoint),e.pointerWorldDirection),Dn(s.projectRays,gn,n.initialPointerWorldPoint,n.pointerWorldOrigin,Et.copy(n.pointerWorldPoint),n.pointerWorldDirection),pn.copy(n.initialPointerWorldPoint).sub(e.initialPointerWorldPoint),dr.copy(Et).sub(pe),pe.copy(pn),r.prevTwoPointerDeltaRotation!=null&&pe.applyQuaternion(r.prevTwoPointerDeltaRotation),pe.normalize(),Et.copy(dr).normalize(),et.setFromUnitVectors(pe,Et),r.prevTwoPointerDeltaRotation==null?r.prevTwoPointerDeltaRotation=new q:et.multiply(r.prevTwoPointerDeltaRotation),r.prevTwoPointerDeltaRotation.copy(et);const a=(yl(Et,e.prevPointerWorldQuaternion,e.pointerWorldQuaternion)+yl(Et,n.prevPointerWorldQuaternion,n.pointerWorldQuaternion))*.5+(r.prevAngle??0);if(r.prevAngle=a,et.premultiply(mr.setFromAxisAngle(Et,a)),oi.compose(r.initialTargetPosition,r.initialTargetQuaternion,r.initialTargetScale),r.initialTargetParentWorldMatrix!=null&&oi.premultiply(r.initialTargetParentWorldMatrix),typeof s.scale=="object"&&(s.scale.uniform??!1))mn.setScalar(dr.length()/pn.length());else{oi.decompose(np,mr,Tl),pe.copy(pn).applyQuaternion(mr.invert()).divide(Tl),pe.x=Math.abs(pe.x),pe.y=Math.abs(pe.y),pe.z=Math.abs(pe.z);const o=Math.max(...pe.toArray());pe.divideScalar(o),mn.set(1,1,1),mn.addScaledVector(pe,dr.length()/pn.length()-1)}return _l.makeTranslation(pe.copy(dr).multiplyScalar(.5).add(e.pointerWorldPoint)).multiply(pr.makeRotationFromQuaternion(et)).multiply(pr.makeRotationFromQuaternion(mr.invert())).multiply(pr.makeScale(mn.x,mn.y,mn.z)).multiply(pr.makeRotationFromQuaternion(mr.invert())).multiply(pr.makeTranslation(pe.copy(pn).multiplyScalar(.5).add(e.initialPointerWorldPoint).negate())).multiply(oi),no(t,2,_l,r,i,s)}const ae=new _,ze=new _,Ms=new _,Tt=new _,Ht=new _,De=new q,Pe=new q,_t=new mt,lt=new _,xn=[];function ip(t,e,n,r,i,s){if(i==null?De.identity():i.decompose(ae,De,ze),xn.length=0,s.translate==="as-scale"&&Bn(xn,De,n.initialTargetRotation,s.scale??!0,"scale"),s.translate!="as-scale"&&Bn(xn,De,n.initialTargetRotation,s.rotate??!0,"rotate"),_t.makeTranslation(n.initialTargetPosition),n.initialTargetParentWorldMatrix!=null&&_t.premultiply(n.initialTargetParentWorldMatrix),Tt.setFromMatrixPosition(_t),Dn(s.projectRays,xn,e.initialPointerWorldPoint,e.pointerWorldOrigin,Tt,void 0),Tt.negate().add(e.initialPointerWorldPoint),Ht.setFromMatrixPosition(r),Dn(s.projectRays,xn,e.initialPointerWorldPoint,e.pointerWorldOrigin,Ht,void 0),Dn(s.projectRays,xn,e.initialPointerWorldPoint,e.pointerWorldOrigin,ze.copy(e.pointerWorldPoint),e.pointerWorldDirection),Ht.negate().add(ze),s.translate==="as-scale"?De.copy(n.initialTargetQuaternion):(ae.copy(Tt),n.prevTranslateAsDeltaRotation!=null&&ae.applyQuaternion(n.prevTranslateAsDeltaRotation),ae.normalize(),ze.copy(Ht).normalize(),De.setFromUnitVectors(ae,ze),n.prevTranslateAsDeltaRotation==null?n.prevTranslateAsDeltaRotation=new q:De.multiply(n.prevTranslateAsDeltaRotation),n.prevTranslateAsDeltaRotation.copy(De),n.initialTargetParentWorldMatrix!=null&&(Pe.setFromRotationMatrix(n.initialTargetParentWorldMatrix),De.multiply(Pe.normalize()),De.premultiply(Pe.invert())),De.multiply(n.initialTargetQuaternion)),s.translate==="as-rotate")lt.set(1,1,1);else if(typeof s.scale=="object"&&(s.scale.uniform??!1))lt.setScalar(Ht.length()/Tt.length());else if(s.translate==="as-rotate-and-scale"){_t.compose(n.initialTargetPosition,n.initialTargetQuaternion,n.initialTargetScale),n.initialTargetParentWorldMatrix!=null&&_t.premultiply(n.initialTargetParentWorldMatrix),_t.decompose(ze,Pe,Ms),ae.copy(Tt).applyQuaternion(Pe.invert()).divide(Ms),ae.x=Math.abs(ae.x),ae.y=Math.abs(ae.y),ae.z=Math.abs(ae.z);const a=Math.max(...ae.toArray());ae.divideScalar(a),lt.set(1,1,1),lt.addScaledVector(ae,Ht.length()/Tt.length()-1)}else n.initialTargetParentWorldMatrix!=null?(n.initialTargetParentWorldMatrix.decompose(ae,Pe,ze),Pe.multiply(n.initialTargetQuaternion)):Pe.copy(n.initialTargetQuaternion),ae.copy(Tt).applyQuaternion(Pe.invert()),i!=null?(i.decompose(ze,Pe,Ms),Pe.multiply(n.initialTargetQuaternion)):Pe.copy(n.initialTargetQuaternion),ze.copy(Ht).applyQuaternion(Pe.invert()),lt.x=Math.abs(ae.x)<.001?1:Math.abs(ze.x/ae.x),lt.y=Math.abs(ae.y)<.001?1:Math.abs(ze.y/ae.y),lt.z=Math.abs(ae.z)<.001?1:Math.abs(ze.z/ae.z);return lt.multiply(n.initialTargetScale),_t.compose(n.initialTargetPosition,De,lt),no(t,1,_t,n,void 0,s)}class Sl{t1;t2;_position;_quaternion;_rotation;_scale;constructor(e,n){this.t1=e,this.t2=n}get time(){return this.t1.time-this.t2.time}get position(){return this._position??=this.t1.position.clone().sub(this.t2.position)}get quaternion(){return this._quaternion??=this.t2.quaternion.clone().invert().premultiply(this.t1.quaternion)}get rotation(){return this._rotation??=new re().setFromQuaternion(this.quaternion)}get scale(){return this._scale??=this.t1.scale.clone().sub(this.t2.scale)}}class sp{cancel;previous;memo;event;initial;current;first;last;_delta;_offset;constructor(e){this.cancel=e}start(e,n){this.event=e,this.previous=void 0,this.current=n,this.initial=n,this.first=!0,this.last=!1,this.memo=void 0,this._delta=void 0,this._offset=void 0}update(e,n){this.event=e,this.previous=this.current,this.current=n,this.first=!1,this.last=!1,this._delta=void 0,this._offset=void 0}end(e){this.event=e,this.first=!1,this.last=!0,this._delta=void 0,this._offset=void 0}get delta(){if(this.previous!=null)return this._delta??=new Sl(this.current,this.previous)}get offset(){return this._offset??=new Sl(this.current,this.initial)}}function Al(t,e){if(t.details.type==="sphere")return!1;if(t.details.type==="lines"){const{line:n}=t.details;return e.copy(n.end).sub(n.start).normalize(),!0}return t.details.type==="screen-ray"?(e.copy(t.details.direction),!0):(e.set(0,0,-1).applyQuaternion(t.pointerQuaternion),!0)}const Ml=new _;class ap{target;getOptions;outputState;latestMoveEvent;inputState=new Map;capturedObjects=new Map;initialTargetPosition=new _;initialTargetQuaternion=new q;initialTargetRotation=new re;initialTargetScale=new _;initialTargetParentWorldMatrix;prevTwoPointerDeltaRotation;prevTranslateAsDeltaRotation;prevAngle;handlers={onPointerDown:this.onPointerDown.bind(this),onPointerMove:this.onPointerMove.bind(this),onPointerUp:this.onPointerUp.bind(this)};constructor(e,n=()=>({})){this.target=e,this.getOptions=n,this.outputState=new sp(this.cancel.bind(this))}firstOnPointer(e){const n=this.getTarget();if(n==null)return;const r=Al(e,Ml)?Ml.clone():void 0;e.intersection.details.type,this.inputState.set(e.pointerId,{pointerWorldDirection:r,pointerWorldPoint:e.point,pointerWorldOrigin:e.pointerPosition,pointerWorldQuaternion:e.pointerQuaternion,initialPointerWorldPoint:e.point.clone(),initialPointerWorldDirection:r?.clone(),initialPointerWorldQuaternion:e.pointerQuaternion.clone(),prevPointerWorldQuaternion:e.pointerQuaternion}),this.save(),this.inputState.size===1&&this.outputState.start(e,{pointerAmount:1,time:e.timeStamp,position:this.initialTargetPosition.clone(),quaternion:this.initialTargetQuaternion.clone(),rotation:this.initialTargetRotation.clone(),scale:this.initialTargetScale.clone()}),this.outputState.memo=this.apply(n)}onPointerDown(e){this.stopPropagation(e),this.capturePointer(e.pointerId,e.object)&&this.firstOnPointer(e)}onPointerMove(e){if(!this.capturedObjects.has(e.pointerId))return;this.stopPropagation(e);const n=this.inputState.get(e.pointerId);if(n==null){this.firstOnPointer(e);return}this.latestMoveEvent=e,n.pointerWorldPoint=e.point,n.prevPointerWorldQuaternion=n.pointerWorldQuaternion,n.pointerWorldQuaternion=e.pointerQuaternion,n.pointerWorldOrigin=e.pointerPosition,n.pointerWorldDirection!=null&&Al(e,n.pointerWorldDirection)}cancel(){if(this.capturedObjects.size===0)return;for(const[n,r]of this.capturedObjects)r.releasePointerCapture(n);this.capturedObjects.clear(),this.inputState.clear(),this.outputState.end(void 0);const e=this.getTarget();e!=null&&this.apply(e)}onPointerUp(e){this.capturedObjects.has(e.pointerId)&&(this.stopPropagation(e),this.releasePointer(e.pointerId,e.object,e))}update(e){const n=this.getTarget();if(n==null||this.inputState.size===0||this.latestMoveEvent==null&&(this.getOptions().alwaysUpdate??!1)===!1)return;const r=this.getOptions();let i;if(r.translate==="as-rotate"||r.translate==="as-rotate-and-scale"||r.translate==="as-scale"){r.translate,this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0;const[s]=this.inputState.values(),a=n.matrixWorld,o=n.parent?.matrixWorld;i=ip(e,s,this,a,o,r)}else if(this.inputState.size===1){this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0,this.prevTranslateAsDeltaRotation=void 0;const[s]=this.inputState.values();i=tp(e,s,this,n.parent?.matrixWorld,r)}else{this.prevTranslateAsDeltaRotation=void 0;const[s,a]=this.inputState.values();i=rp(e,s,a,this,n.parent?.matrixWorld,r)}this.outputState.update(this.latestMoveEvent,i),this.outputState.memo=this.apply(n),this.latestMoveEvent=void 0}getTarget(){return this.target instanceof Oa?this.target:this.target?.current}capturePointer(e,n){if(this.capturedObjects.has(e))return!1;const{multitouch:r,translate:i}=this.getOptions();return((r??!0)===!1||typeof i=="string")&&this.capturedObjects.size===1?!1:(this.capturedObjects.set(e,n),n.setPointerCapture(e),!0)}releasePointer(e,n,r){const i=this.getTarget();if(!(i==null||!this.capturedObjects.delete(e))){if(this.inputState.delete(e),n.releasePointerCapture(e),this.inputState.size>0){this.save();return}this.outputState.end(r),this.apply(i)}}stopPropagation(e){e==null||!(this.getOptions()?.stopPropagation??!0)||e.stopPropagation()}apply(e){return(this.getOptions().apply??mu)(this.outputState,e)}getState(){return this.inputState.size===0?void 0:this.outputState}save(){const e=this.getTarget();if(e!=null){e.updateWorldMatrix(!0,!1),this.prevAngle=void 0,this.prevTwoPointerDeltaRotation=void 0,this.prevTranslateAsDeltaRotation=void 0,this.initialTargetParentWorldMatrix=e.parent?.matrixWorld.clone(),e.matrixAutoUpdate?(this.initialTargetPosition.copy(e.position),this.initialTargetQuaternion.copy(e.quaternion),this.initialTargetRotation.copy(e.rotation),this.initialTargetScale.copy(e.scale)):(e.matrix.decompose(this.initialTargetPosition,this.initialTargetQuaternion,this.initialTargetScale),this.initialTargetRotation.setFromQuaternion(this.initialTargetQuaternion,e.rotation.order));for(const n of this.inputState.values())n.pointerWorldDirection!=null&&n.initialPointerWorldDirection?.copy(n.pointerWorldDirection),n.initialPointerWorldPoint.copy(n.pointerWorldPoint),n.initialPointerWorldQuaternion.copy(n.pointerWorldQuaternion)}}bind(e){const{onPointerDown:n,onPointerMove:r,onPointerUp:i}=this.handlers;return e.addEventListener("pointerdown",n),e.addEventListener("pointermove",r),e.addEventListener("pointerup",i),()=>{e.removeEventListener("pointerdown",n),e.removeEventListener("pointermove",r),e.removeEventListener("pointerup",i),this.cancel()}}capture(e,n){return this.capturePointer(e,n)?()=>this.releasePointer(e,n,void 0):op}}function op(){}function mu(t,e){e.position.copy(t.current.position),e.rotation.order=t.current.rotation.order,e.quaternion.copy(t.current.quaternion),e.scale.copy(t.current.scale)}class lp{target;getOptions;handles=[];hoveredTagMap=new Map;hoverSubscriptions=[];applySubscriptions=[];space;constructor(e,n){this.target=e,this.getOptions=n}getSpace(){return this.space??"world"}getTarget(){return this.target instanceof Oa?this.target:this.target.current}getHandleOptions(e,n){const r=this.getOptions?.(),i=n?.();return{...r,...i,apply:(s,a)=>(this.onApply(e,s,a),(i?.apply??r?.apply??mu)?.(s,a))}}registerHandle(e,n,r){const i={object:n,store:e,tag:r};this.handles.push(i);const s=e.bind(n),a=this.onPointerEnter.bind(this,r),o=this.onPointerLeave.bind(this);return n.addEventListener("pointerenter",a),n.addEventListener("pointerleave",o),()=>{const l=this.handles.indexOf(i);l!=-1&&this.handles.splice(l,1),s(),e.cancel()}}subscribeHover(e){return this.hoverSubscriptions.push(e),e(Array.from(this.hoveredTagMap.values())),()=>{const n=this.hoverSubscriptions.indexOf(e);n!==-1&&this.hoverSubscriptions.splice(n,1)}}subscribeApply(e){return this.applySubscriptions.push(e),()=>{const n=this.applySubscriptions.indexOf(e);n!==-1&&this.applySubscriptions.splice(n,1)}}update(e){for(const{store:n}of this.handles)n.update(e)}onPointerEnter(e,n){this.hoveredTagMap.set(n.pointerId,e),this.updateHover()}onPointerLeave(e){this.hoveredTagMap.delete(e.pointerId),this.updateHover()}updateHover(){const e=Array.from(this.hoveredTagMap.values());for(const n of this.hoverSubscriptions)n(e)}onApply(e,n,r){for(const i of this.applySubscriptions)i(e,n,r)}}const _e={depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0};function Qe(t,e,n,{color:r,hoverColor:i,hoverOpacity:s,opacity:a,disabled:o=!1}){if(i==null&&s==null||o){e.color.set(r),e.opacity=a??1,o&&(e.opacity*=.5,e.color.lerp(new Wc(1,1,1),.5));return}return i??=r,t.subscribeHover(l=>{const c=l.some(f=>f.includes(n));e.color.set(c?i:r),e.opacity=(c?s:a)??1})}const li=new q,gu=new Ia;gu.setAttribute("position",new Yc([-1e3,0,0,1e3,0,0],3));class Rs extends Xc{context;rotationOffset;constructor(e,n){super(gu),this.context=e,this.rotationOffset=n,this.renderOrder=1/0}update(){this.quaternion.setFromEuler(this.rotationOffset);const e=this.context.getTarget();this.context.getSpace()==="world"&&e!=null&&(e.getWorldQuaternion(li).invert(),this.quaternion.premultiply(li))}bind(e){this.material=new qc({..._e,color:this.material.color??"white",opacity:this.material.opacity??1});const n=this.context.subscribeHover(i=>{const s=i.some(a=>a.includes(e));this.visible=s}),r=this.context.subscribeApply((i,s)=>{if(s.last){this.position.set(0,0,0);return}this.position.copy(s.initial.position).sub(s.current.position);const a=this.context.getTarget();a!=null&&(li.copy(a.quaternion).invert(),this.position.applyQuaternion(li))});return()=>{this.material.dispose(),n(),r()}}}class xt extends be{context;axis;store;options;tag;constructor(e,n,r,i){super(),this.context=e,this.axis=n,this.tag=(r??"")+n,this.store=new ap(e.target,()=>e.getHandleOptions(this.tag,i))}}function yt(t,e=!0){if(e===!1)return{options:!1,disabled:!0};if(e===!0){const i={x:!1,y:!1,z:!1,e:!1};for(const s of t)i[s]=!0;return{options:i,disabled:!1}}if(e==="disabled")return{options:{x:!0,y:!0,z:!0,e:!0},disabled:!0};if(typeof e=="string")return{options:e===t?{x:!1,y:!1,z:!1,e:!1,[t]:!0}:!1,disabled:!1};const n={x:!1,y:!1,z:!1,e:!1};let r=!1;for(const i of t){let s=e[i]??!0;if(s===!1)return{options:!1,disabled:!0};s==="disabled"&&(r=!0,s=!0),n[i]=s}return{options:n,disabled:r}}const Rl=new _,Pl=new _;function ro(t,e,n,r){if(!n)return r;let i;return e instanceof tf?i=(e.top-e.bottom)/e.zoom:(e.getWorldPosition(Rl),t.getWorldPosition(Pl),i=Rl.distanceTo(Pl)*Math.min(1.9*Math.tan(Math.PI*e.fov/360)/e.zoom,7)),i*r/4}const xu=new kr(0,.04,.1,12);xu.translate(0,.05,0);const yu=new kr(.0075,.0075,.5,3);yu.translate(0,.25,0);const cp=new re(0,0,-Math.PI/2),up=new re(0,0,Math.PI/2);class yn extends xt{invert;showArrowBody;constructor(e,n,r="",i,s=!1,a=!0){super(e,n,r,()=>({scale:!1,rotate:!1,translate:i!=null?[i]:this.options,multitouch:!1})),this.invert=s,this.showArrowBody=a}bind(e,n,r){const{options:i,disabled:s}=yt(this.axis,r);if(i===!1)return;this.options=i;const a=this.invert?up:cp,o=new Se(_e),l=Qe(this.context,o,this.tag,{color:e,hoverColor:n,disabled:s}),c=new ue(xu,o);c.renderOrder=1/0,c.position.x=this.invert?-.5:.5,c.rotation.copy(a),this.add(c);let f,h;if(this.showArrowBody){const g=new Se(_e);f=Qe(this.context,g,this.tag,{color:e,hoverColor:16777024,disabled:s}),h=new ue(yu,g),h.renderOrder=1/0,h.rotation.copy(a),this.add(h)}const d=new ue(new kr(.13,0,.6,4));d.pointerEventsOrder=1/0,d.position.x=this.invert?-.3:.3,d.rotation.copy(a),d.visible=!1,this.add(d);const m=s?void 0:this.context.registerHandle(this.store,d,this.tag);return()=>{o.dispose(),m?.(),l?.(),f?.(),this.remove(c),h!=null&&this.remove(h),this.remove(d)}}}class Ps extends xt{constructor(e,n,r="",i){super(e,n,r,()=>({translate:i??this.options,scale:!1,rotate:!1,multitouch:!1}))}bind(e,n,r){const{options:i,disabled:s}=yt(this.axis,r);if(i===!1)return;this.options=i;const a=new Se(_e),o=Qe(this.context,a,this.tag,{opacity:.5,hoverOpacity:1,color:e,hoverColor:n,disabled:s}),l=new ue(new jn(.2,.2,.01),a);l.renderOrder=1/0,l.pointerEventsOrder=1/0,l.position.set(.15,.15,0);const c=s?void 0:this.context.registerHandle(this.store,l,this.tag);return this.add(l),()=>{a.dispose(),l.geometry.dispose(),c?.(),o?.(),this.remove(l)}}}new _;const Ol=new q;function fp(t,e){const n=new ue(new _i(.01,2),new Se(_e));n.renderOrder=1/0,n.visible=!1,t.add(n);const r=new ue(new _i(.01,2),new Se(_e));r.renderOrder=1/0,r.visible=!1,t.add(r);const i=new Ia;i.setAttribute("position",new Yc([0,0,0,1,1,1],3));const s=new Xc(i,new qc(_e));s.renderOrder=1/0,s.visible=!1,t.add(s);const a=e.subscribeApply((o,l)=>{r.position.set(0,0,0),n.position.copy(l.initial.position).sub(l.current.position);const c=e.getTarget();c!=null&&(Ol.copy(c.quaternion).invert(),n.position.applyQuaternion(Ol)),s.position.set(0,0,0),s.scale.copy(n.position),n.visible=!l.last,s.visible=!l.last,r.visible=!l.last});return()=>{n.geometry.dispose(),n.material.dispose(),r.geometry.dispose(),r.material.dispose(),s.geometry.dispose(),s.material.dispose(),t.remove(n),t.remove(r),t.remove(s),a()}}class hp extends xt{constructor(e){super(e,"xyz","",()=>({translate:this.options,scale:!1,rotate:!1,multitouch:!1}))}bind(e){const{options:n,disabled:r}=yt(this.axis,e);if(n===!1)return;this.options=n;const i=new Se(_e),s=Qe(this.context,i,this.tag,{color:16777215,hoverColor:16776960,opacity:.25,hoverOpacity:1,disabled:r}),a=new ue(new _i(.1,0),i);a.renderOrder=1/0,this.add(a);const o=new ue(new _i(.2,0));o.pointerEventsOrder=1/0,o.visible=!1,this.add(o);const l=r?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{i.dispose(),a.geometry.dispose(),o.geometry.dispose(),l?.(),s?.(),this.remove(a),this.remove(o)}}}const Il=new _,Ee=new q,kl=new q,Ll=new q().setFromEuler(new re(0,0,Math.PI/2)),Cl=new q().setFromEuler(new re(0,-Math.PI/2,0)),dp=new q,pp=new q().setFromEuler(new re(0,-Math.PI/2,0)),mp=new q().setFromEuler(new re(Math.PI/2,0,0));class gp extends be{context;size;fixed;free;translationX;translationY;translationZ;translationNegX;translationNegY;translationNegZ;translationXY;translationYZ;translationXZ;scaleGroup=new be;xAxis=new _;yAxis=new _;zAxis=new _;negXAxis=new _;negYAxis=new _;negZAxis=new _;constructor(e,n,r){super(),this.context=e,this.size=n,this.fixed=r,this.add(this.scaleGroup),this.free=new hp(this.context),this.scaleGroup.add(this.free),this.translationX=new yn(this.context,"x",void 0,this.xAxis),this.scaleGroup.add(this.translationX),this.translationY=new yn(this.context,"y",void 0,this.yAxis),this.scaleGroup.add(this.translationY),this.translationZ=new yn(this.context,"z",void 0,this.zAxis),this.scaleGroup.add(this.translationZ),this.translationNegX=new yn(this.context,"x",void 0,this.negXAxis,!0,!1),this.scaleGroup.add(this.translationNegX),this.translationNegY=new yn(this.context,"y",void 0,this.negYAxis,!0,!1),this.scaleGroup.add(this.translationNegY),this.translationNegZ=new yn(this.context,"z",void 0,this.negZAxis,!0,!1),this.scaleGroup.add(this.translationNegZ),this.translationXY=new Ps(this.context,"xy",void 0,[this.xAxis,this.yAxis]),this.scaleGroup.add(this.translationXY),this.translationXZ=new Ps(this.context,"xz",void 0,[this.xAxis,this.zAxis]),this.scaleGroup.add(this.translationXZ),this.translationYZ=new Ps(this.context,"yz",void 0,[this.yAxis,this.zAxis]),this.scaleGroup.add(this.translationYZ)}update(e){this.updateWorldMatrix(!0,!1),this.xAxis.set(1,0,0),this.yAxis.set(0,1,0),this.zAxis.set(0,0,1),this.free.quaternion.identity(),this.translationX.quaternion.copy(kl),this.translationY.quaternion.copy(Ll),this.translationZ.quaternion.copy(Cl),this.translationNegX.quaternion.copy(kl),this.translationNegY.quaternion.copy(Ll),this.translationNegZ.quaternion.copy(Cl),this.translationXY.quaternion.copy(dp),this.translationYZ.quaternion.copy(pp),this.translationXZ.quaternion.copy(mp);const n=this.context.getSpace(),r=this.context.getTarget();n=="world"&&r!=null?(r.getWorldQuaternion(Ee).invert(),this.free.quaternion.premultiply(Ee),this.translationX.quaternion.premultiply(Ee),this.translationY.quaternion.premultiply(Ee),this.translationZ.quaternion.premultiply(Ee),this.translationNegX.quaternion.premultiply(Ee),this.translationNegY.quaternion.premultiply(Ee),this.translationNegZ.quaternion.premultiply(Ee),this.translationXY.quaternion.premultiply(Ee),this.translationYZ.quaternion.premultiply(Ee),this.translationXZ.quaternion.premultiply(Ee),r.parent!=null&&(r.parent.getWorldQuaternion(Ee).invert(),this.xAxis.applyQuaternion(Ee),this.yAxis.applyQuaternion(Ee),this.zAxis.applyQuaternion(Ee))):r!=null&&(this.xAxis.applyQuaternion(r.quaternion),this.yAxis.applyQuaternion(r.quaternion),this.zAxis.applyQuaternion(r.quaternion)),this.negXAxis.copy(this.xAxis).negate(),this.negYAxis.copy(this.yAxis).negate(),this.negZAxis.copy(this.zAxis).negate(),this.scaleGroup.scale.setScalar(1),r!=null&&(r.getWorldScale(Il),this.scaleGroup.scale.divide(Il)),this.scaleGroup.scale.multiplyScalar(ro(this,e,this.fixed??!0,this.size??1))}bind(e){const n=fp(this,this.context),r=this.translationX.bind(16711680,16776960,e),i=this.translationY.bind(65280,16776960,e),s=this.translationZ.bind(255,16776960,e),a=this.translationNegX.bind(16711680,16776960,e),o=this.translationNegY.bind(65280,16776960,e),l=this.translationNegZ.bind(255,16776960,e),c=this.translationXY.bind(255,16776960,e),f=this.translationYZ.bind(16711680,16776960,e),h=this.translationXZ.bind(65280,16776960,e),d=this.free.bind(e);return()=>{n(),r?.(),i?.(),s?.(),a?.(),o?.(),l?.(),c?.(),f?.(),h?.(),d?.()}}}const xp=new re(0,0,-Math.PI/2),yp=new re(0,0,Math.PI/2);class vn extends xt{invert;showHandleLine;constructor(e,n,r="",i=!1,s=!0){super(e,n,r,()=>({scale:this.options,rotate:!1,translate:"as-scale",multitouch:!1})),this.invert=i,this.showHandleLine=s}bind(e,n,r){const{options:i,disabled:s}=yt(this.axis,r);if(i===!1)return;this.options=i;const a=this.invert?yp:xp,o=new be;o.position.x=this.invert?-.5:.5,o.rotation.copy(a),this.add(o);const l=new Se(_e),c=Qe(this.context,l,this.tag,{color:e,hoverColor:n,disabled:s}),f=new ue(new jn(.08,.08,.08),l);f.renderOrder=1/0,f.rotation.copy(a),o.add(f);let h,d,m;if(this.showHandleLine){m=new be,m.rotation.copy(a),this.add(m);const v=new Se(_e);h=Qe(this.context,v,this.tag,{color:e,hoverColor:n,disabled:s}),d=new ue(new kr(.0075,.0075,.5,3),v),d.renderOrder=1/0,d.position.y=.25,m.add(d)}const g=new be;g.visible=!1,g.rotation.copy(a),g.position.x=this.invert?-.3:.3,this.add(g);const y=new ue(new kr(.2,0,.5,4));y.pointerEventsOrder=1/0,y.position.y=.04,g.add(y);const x=s?void 0:this.context.registerHandle(this.store,y,this.tag);return()=>{l.dispose(),y.geometry.dispose(),f.geometry.dispose(),d?.geometry.dispose(),x?.(),c?.(),h?.(),m!=null&&this.remove(m),this.remove(g),this.remove(o)}}}class Os extends xt{constructor(e,n,r=""){super(e,n,r,()=>({translate:"as-scale",scale:this.options,rotate:!1,multitouch:!1}))}bind(e,n,r){const{options:i,disabled:s}=yt(this.axis,r);if(i===!1)return;this.options=i;const a=new Se(_e),o=Qe(this.context,a,this.tag,{opacity:.5,hoverOpacity:1,color:e,hoverColor:n,disabled:s}),l=new ue(new jn(.2,.2,.01),a);l.renderOrder=1/0,l.pointerEventsOrder=1/0,l.position.set(.15,.15,0);const c=s?void 0:this.context.registerHandle(this.store,l,this.tag);return this.add(l),()=>{a.dispose(),l.geometry.dispose(),c?.(),o?.(),this.remove(l)}}}const vp=new re(0,0,-Math.PI/2),wp=new re(0,0,Math.PI/2);class wn extends xt{actualAxis;invert;constructor(e,n="",r,i=!1){super(e,"xyz",n,()=>({scale:{uniform:!0,...this.options},rotate:!1,translate:"as-scale",multitouch:!1})),this.actualAxis=r,this.invert=i}bind(e,n,r){const{options:i,disabled:s}=yt(this.actualAxis,r);if(i===!1)return;this.options=i;const a=this.invert?wp:vp,o=new be;o.position.x=this.invert?-.7:.7,o.rotation.copy(a),this.add(o);const l=new Se(_e),c=Qe(this.context,l,this.tag,{color:e,hoverColor:n,opacity:.5,hoverOpacity:1,disabled:s}),f=new ue(new jn(.08,.08,.08),l);f.renderOrder=1/0,f.rotation.copy(a),o.add(f);const h=new ue(new jn(.15,.15,.15),l);h.visible=!1,h.pointerEventsOrder=1/0,h.rotation.copy(a),o.add(h);const d=s?void 0:this.context.registerHandle(this.store,h,this.tag);return()=>{l.dispose(),f.geometry.dispose(),d?.(),c?.(),this.remove(o)}}}const Nl=new _;class bp extends be{context;size;fixed;scaleX;scaleY;scaleZ;scaleNegX;scaleNegY;scaleNegZ;translationX;translationY;translationZ;translationNegX;translationNegY;translationNegZ;translationXY;translationYZ;translationXZ;constructor(e,n,r){super(),this.context=e,this.size=n,this.fixed=r,this.scaleX=new wn(this.context,void 0,"x"),this.add(this.scaleX),this.scaleY=new wn(this.context,void 0,"y"),this.scaleY.rotation.z=Math.PI/2,this.add(this.scaleY),this.scaleZ=new wn(this.context,void 0,"z"),this.scaleZ.rotation.y=-Math.PI/2,this.add(this.scaleZ),this.scaleNegX=new wn(this.context,void 0,"x",!0),this.add(this.scaleNegX),this.scaleNegY=new wn(this.context,void 0,"y",!0),this.scaleNegY.rotation.z=Math.PI/2,this.add(this.scaleNegY),this.scaleNegZ=new wn(this.context,void 0,"z",!0),this.scaleNegZ.rotation.y=-Math.PI/2,this.add(this.scaleNegZ),this.translationX=new vn(this.context,"x"),this.add(this.translationX),this.translationY=new vn(this.context,"y"),this.translationY.rotation.z=Math.PI/2,this.add(this.translationY),this.translationZ=new vn(this.context,"z"),this.translationZ.rotation.y=-Math.PI/2,this.add(this.translationZ),this.translationNegX=new vn(this.context,"x",void 0,!0,!1),this.add(this.translationNegX),this.translationNegY=new vn(this.context,"y",void 0,!0,!1),this.translationNegY.rotation.z=Math.PI/2,this.add(this.translationNegY),this.translationNegZ=new vn(this.context,"z",void 0,!0,!1),this.translationNegZ.rotation.y=-Math.PI/2,this.add(this.translationNegZ),this.translationXY=new Os(this.context,"xy"),this.add(this.translationXY),this.translationXZ=new Os(this.context,"xz"),this.translationXZ.rotation.x=Math.PI/2,this.add(this.translationXZ),this.translationYZ=new Os(this.context,"yz"),this.translationYZ.rotation.y=-Math.PI/2,this.add(this.translationYZ)}update(e){this.updateWorldMatrix(!0,!1),this.scale.setScalar(1);const n=this.context.getTarget();n!=null&&(n.getWorldScale(Nl),this.scale.divide(Nl)),this.scale.multiplyScalar(ro(this,e,this.fixed??!0,this.size??1))}bind(e){const n=this.scaleX.bind(16777215,16776960,e),r=this.scaleY.bind(16777215,16776960,e),i=this.scaleZ.bind(16777215,16776960,e),s=this.scaleNegX.bind(16777215,16776960,e),a=this.scaleNegY.bind(16777215,16776960,e),o=this.scaleNegZ.bind(16777215,16776960,e),l=this.translationX.bind(16711680,16776960,e),c=this.translationY.bind(65280,16776960,e),f=this.translationZ.bind(255,16776960,e),h=this.translationNegX.bind(16711680,16776960,e),d=this.translationNegY.bind(65280,16776960,e),m=this.translationNegZ.bind(255,16776960,e),g=this.translationXY.bind(255,16776960,e),y=this.translationYZ.bind(16711680,16776960,e),x=this.translationXZ.bind(65280,16776960,e);return()=>{l?.(),c?.(),f?.(),h?.(),d?.(),m?.(),g?.(),y?.(),x?.(),n?.(),r?.(),i?.(),s?.(),a?.(),o?.()}}}const Fl={x:{vector1:new _(0,0,-1),vector2:new _(0,-1,0),rotationOffset:new q,axis:[1,0,0]},y:{vector1:new _(0,0,-1),vector2:new _(-1,0,-1),rotationOffset:new q().setFromEuler(new re(0,0,Math.PI/2)),axis:[0,1,0]},z:{vector1:new _(-1,0,0),vector2:new _(0,-1,0),rotationOffset:new q().setFromEuler(new re(0,Math.PI/2,0)),axis:[0,0,1]}},Is=new _,gr=new _,ci=new _,Gt=new _,Ge=new q;class ks extends xt{direction=new _(1,0,0);constructor(e,n,r=""){super(e,n,r,()=>({scale:!1,translate:"as-rotate",rotate:[this.direction],multitouch:!1}))}update(e){const{rotationOffset:n,vector1:r,vector2:i}=Fl[this.axis];e.getWorldPosition(Is),this.getWorldPosition(gr).sub(Is),ci.copy(r),Gt.copy(i);const s=this.context.getTarget(),a=this.context.getSpace();a==="local"&&s!=null&&(s.getWorldQuaternion(Ge),ci.applyQuaternion(Ge),Gt.applyQuaternion(Ge)),Gt.crossVectors(ci,Gt);const o=gr.dot(Gt);Gt.multiplyScalar(o),gr.sub(Gt),this.quaternion.setFromUnitVectors(ci,gr.normalize()),a==="local"&&s!=null&&(s.getWorldQuaternion(Ge),this.quaternion.multiply(Ge)),this.quaternion.multiply(n),s?.parent!=null?(s.parent.matrixWorld.decompose(Is,Ge,gr),Ge.invert(),this.quaternion.premultiply(Ge)):Ge.identity(),this.store.getState()==null&&(this.direction.fromArray(Fl[this.axis].axis),this.direction.applyQuaternion(a==="local"&&s!=null?s?.quaternion:Ge)),s!=null&&this.quaternion.premultiply(Ge.copy(s.quaternion).invert())}bind(e,n){const{options:r,disabled:i}=yt(this.axis,n);if(r===!1)return;this.options=r;const s=new Se(_e),a=Qe(this.context,s,this.tag,{color:e,hoverColor:16776960,disabled:i}),o=new ue(io(.5,.5),s);o.renderOrder=1/0,this.add(o);const l=new ue(new ka(.5,.1,4,24));l.visible=!1,l.pointerEventsOrder=1/0,l.rotation.set(0,-Math.PI/2,-Math.PI/2),this.add(l);const c=i?void 0:this.context.registerHandle(this.store,l,this.tag);return()=>{s.dispose(),l.geometry.dispose(),o.geometry.dispose(),c?.(),a?.(),this.remove(l),this.remove(o)}}}const Ls=new _,Cs=new _,Ep=new _(1,0,0),xr=new q;class Tp extends xt{constructor(e,n=""){super(e,"xyz",n,()=>({scale:!1,translate:"as-rotate",rotate:this.options,multitouch:!1}))}update(e){e.getWorldPosition(Ls),this.getWorldPosition(Cs).sub(Ls),this.quaternion.setFromUnitVectors(Ep,Cs.normalize());const n=this.context.getTarget();n?.parent!=null&&(n.parent.matrixWorld.decompose(Ls,xr,Cs),xr.invert(),this.quaternion.premultiply(xr)),n!=null&&(xr.copy(n.quaternion).invert(),this.quaternion.premultiply(xr))}bind(e){const{options:n,disabled:r}=yt(this.axis,e);if(n===!1)return;this.options=n;const i=new Se(_e),s=Qe(this.context,i,this.tag,{color:16777215,hoverColor:16776960,opacity:.25,disabled:r}),a=new ue(io(.5,1),i);a.renderOrder=1/0,this.add(a);const o=new ue(new nf(.25,10,8));o.visible=!1,o.pointerEventsOrder=1/0,this.add(o);const l=r?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{this.pointerEvents="none",i.dispose(),o.geometry.dispose(),a.geometry.dispose(),l?.(),s?.(),this.remove(o),this.remove(a)}}}const Ns=new _,_p=new _,Sp=new _(1,0,0),bn=new q;class Ap extends xt{direction=new _(1,0,0);constructor(e,n=""){super(e,"e",n,()=>({scale:!1,translate:"as-rotate",rotate:[this.direction],multitouch:!1}))}update(e){e.getWorldPosition(Ns),this.getWorldPosition(this.direction).sub(Ns).normalize(),this.quaternion.setFromUnitVectors(Sp,this.direction);const n=this.context.getTarget();n?.parent!=null&&(n.parent.matrixWorld.decompose(Ns,bn,_p),bn.invert(),this.quaternion.premultiply(bn),this.direction.applyQuaternion(bn)),n!=null&&(bn.copy(n.quaternion).invert(),this.quaternion.premultiply(bn)),this.direction.negate()}bind(e){const{options:n,disabled:r}=yt(this.axis,e);if(n===!1)return;this.options=n;const i=new Se(_e),s=Qe(this.context,i,this.tag,{color:16776960,hoverColor:16776960,opacity:.5,disabled:r}),a=new ue(io(.75,1),i);a.renderOrder=1/0,this.add(a);const o=new ue(new ka(.75,.1,2,24),new Se({color:"white"}));o.visible=!1,o.rotation.y=Math.PI/2,o.pointerEventsOrder=1/0,this.add(o);const l=r?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{i.dispose(),o.geometry.dispose(),a.geometry.dispose(),l?.(),s?.(),this.remove(o),this.remove(a)}}}function io(t,e){const n=new ka(t,.0075,3,64,e*Math.PI*2);return n.rotateY(Math.PI/2),n.rotateX(Math.PI/2),n}const zl=new _;class Mp extends be{context;fixed;size;rotationX;rotationY;rotationZ;free;screen;constructor(e,n,r){super(),this.context=e,this.fixed=n,this.size=r,this.rotationX=new ks(this.context,"x"),this.add(this.rotationX),this.rotationY=new ks(this.context,"y"),this.add(this.rotationY),this.rotationZ=new ks(this.context,"z"),this.add(this.rotationZ),this.free=new Tp(this.context),this.add(this.free),this.screen=new Ap(this.context),this.add(this.screen)}update(e){this.updateWorldMatrix(!0,!1),this.rotationX.update(e),this.rotationY.update(e),this.rotationZ.update(e),this.free.update(e),this.screen.update(e),this.scale.setScalar(1);const n=this.context.getTarget();n!=null&&(n.getWorldScale(zl),this.scale.divide(zl)),this.scale.multiplyScalar(ro(this,e,this.fixed??!0,this.size??1))}bind(e){const n=this.rotationX.bind(16711680,e),r=this.rotationY.bind(65280,e),i=this.rotationZ.bind(255,e),s=this.screen.bind(e),a=this.free.bind(e);return()=>{n?.(),r?.(),i?.(),s?.(),a?.()}}}const Rp=new re,Pp=new re(0,0,Math.PI/2),Op=new re(0,-Math.PI/2,0);class Ip extends be{xAxisHighlight;yAxisHighlight;zAxisHighlight;handles;context;constructor(e){super(),this.context=new lp(this,e),this.xAxisHighlight=new Rs(this.context,Rp),this.add(this.xAxisHighlight),this.yAxisHighlight=new Rs(this.context,Pp),this.add(this.yAxisHighlight),this.zAxisHighlight=new Rs(this.context,Op),this.add(this.zAxisHighlight)}set space(e){this.context.space=e}get space(){return this.context.space}update(e,n){this.context.update(e),this.xAxisHighlight.update(),this.yAxisHighlight.update(),this.zAxisHighlight.update(),this.handles?.update(n)}bind(e,n){const r=this.xAxisHighlight.bind("x"),i=this.yAxisHighlight.bind("y"),s=this.zAxisHighlight.bind("z");switch(e){case"rotate":this.handles=new Mp(this.context);break;case"scale":this.handles=new bp(this.context);break;case"translate":this.handles=new gp(this.context);break}this.add(this.handles);const a=this.handles.bind(n);return()=>{this.handles!=null&&this.remove(this.handles),this.handles=void 0,a(),r(),i(),s()}}}new _(0,0,1);new _(0,1,0);new _;new _;new re;new _;new ht;new _;new _;new _;new ht;new ht;new _;new _;new ht;new ht;new ht;new ht;new _;new _;const kp=2;class Lp{constructor(e){this.xrDevice=e,this.combinedCameraPosition=new _,this.isPointerLocked=!1,this.vec3=new _,this.quat=new q,this.keyState={ShiftLeft:!1,KeyW:!1,KeyA:!1,KeyS:!1,KeyD:!1,ArrowUp:!1,ArrowDown:!1},this.lastTime=0,this.scene=new Zc,this.camera=new Qc(50,window.innerWidth/window.innerHeight,.1,40),this.playerRig=new be,this.cameraRig=new be,this.scene.add(this.playerRig),this.playerRig.add(this.cameraRig),this.cameraRig.position.fromArray(e.position.vec3),this.cameraRig.quaternion.fromArray(e.quaternion.quat),this.cameraRig.add(this.camera),this.camera.position.x-=e.ipd/2;const n=new ue(new rf(.25,.27,32),new Se({color:16777215,side:sf}));n.rotateX(-Math.PI/2),this.scene.add(n),this.renderer=new Kc({alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(0,0),this.renderer.domElement.style.position="fixed",this.renderer.domElement.style.top="50vh",this.renderer.domElement.style.left="50vw",this.renderer.domElement.style.transform="translate(-50%, -50%)",this.transformHandles=new Map,["left","right"].forEach(r=>{const i=new Ip;i.scale.setScalar(.1),i.position.fromArray(e.controllers[r].position.vec3),i.quaternion.fromArray(e.controllers[r].quaternion.quat),this.cameraRig.attach(i),i.userData={defaultPosition:i.position.toArray(),defaultQuaternion:i.quaternion.toArray()},i.userData.setMode=s=>{var a,o;(o=(a=i.userData).modeCleanup)===null||o===void 0||o.call(a),i.userData.modeCleanup=i.bind(s),i.userData.mode=s},i.userData.setMode("translate"),i.space="local",this.transformHandles.set(r,i),i.addEventListener("click",()=>{i.userData.mode==="translate"?i.userData.setMode("rotate"):i.userData.setMode("translate")})}),window.transformHandles=this.transformHandles,this.mouseMoveHandler=r=>{if(!this.isPointerLocked)return;const i=r.movementX||r.mozMovementX||r.webkitMovementX||0,s=r.movementY||r.mozMovementY||r.webkitMovementY||0;this.playerRig.rotation.y-=i*.002,this.cameraRig.rotation.x-=s*.002,e.quaternion.copy(this.cameraRig.getWorldQuaternion(new q))},this.cameraRig.getWorldPosition(this.combinedCameraPosition),this.headsetDefaultPosition=this.cameraRig.position.clone(),this.headsetDefaultQuaternion=this.cameraRig.quaternion.clone(),this.forwardHtmlEvents=df(this.renderer.domElement,()=>this.camera,this.scene).update,document.addEventListener("pointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.addEventListener("mozpointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.addEventListener("webkitpointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.addEventListener("keydown",this.keyDownHandler.bind(this),!1),document.addEventListener("keyup",this.keyUpHandler.bind(this),!1)}lockPointer(){this.renderer.domElement.requestPointerLock=this.renderer.domElement.requestPointerLock||this.renderer.domElement.mozRequestPointerLock||this.renderer.domElement.webkitRequestPointerLock,this.renderer.domElement.requestPointerLock()}pointerLockChangeHandler(){this.isPointerLocked=document.pointerLockElement===this.renderer.domElement||document.mozPointerLockElement===this.renderer.domElement||document.webkitPointerLockElement===this.renderer.domElement,this.isPointerLocked?(document.addEventListener("mousemove",this.mouseMoveHandler,!1),Object.values(this.transformHandles).forEach(e=>{e.visible=!1})):(document.removeEventListener("mousemove",this.mouseMoveHandler,!1),Object.values(this.transformHandles).forEach(e=>{e.visible=!0}))}keyDownHandler(e){const{keyState:n}=this;e.code in n&&(n[e.code]=!0),n.ShiftLeft&&n.ArrowUp&&(this.cameraRig.position.y+=.05),n.ShiftLeft&&n.ArrowDown&&(this.cameraRig.position.y-=.05)}keyUpHandler(e){const{keyState:n}=this;e.code in n&&(n[e.code]=!1)}movePlayerRig(e){const{playerRig:n,keyState:r,vec3:i}=this;i.set((r.KeyD?1:0)-(r.KeyA?1:0),0,(r.KeyS?1:0)-(r.KeyW?1:0)),i.lengthSq()>0&&r.ShiftLeft&&(i.normalize().multiplyScalar(kp*e).applyQuaternion(n.quaternion),n.position.add(i))}resetDeviceTransforms(){const{playerRig:e,cameraRig:n,transformHandles:r}=this;n.position.copy(this.headsetDefaultPosition),n.quaternion.copy(this.headsetDefaultQuaternion),e.position.set(0,0,0),e.quaternion.set(0,0,0,1),r.forEach(i=>{i.position.fromArray(i.userData.defaultPosition),i.quaternion.fromArray(i.userData.defaultQuaternion)})}syncDeviceTransforms(){const{xrDevice:e,cameraRig:n,transformHandles:r}=this;e.position.copy(n.getWorldPosition(this.vec3)),e.quaternion.copy(n.getWorldQuaternion(this.quat)),r.forEach((i,s)=>{const a=e.primaryInputMode==="controller"?e.controllers[s]:e.hands[s];a.position.copy(i.getWorldPosition(this.vec3)),a.quaternion.copy(i.getWorldQuaternion(this.quat))})}renderScene(e){const n=this.xrDevice.fovy/Math.PI*180;let r=!1;this.camera.fov!==n&&(this.camera.fov=n,r=!0);const i=this.xrDevice.canvasDimensions;if(i){const a=this.renderer.domElement;(a.width!==i.width||a.height!==i.height)&&(this.camera.aspect=i.width/i.height,this.renderer.setSize(i.width,i.height),r=!0)}r&&this.camera.updateProjectionMatrix(),this.isPointerLocked?this.cameraRig.getWorldPosition(this.combinedCameraPosition):(this.cameraRig.position.y=this.combinedCameraPosition.y,this.playerRig.position.x=this.combinedCameraPosition.x,this.playerRig.position.z=this.combinedCameraPosition.z),this.forwardHtmlEvents(),this.transformHandles.forEach((a,o)=>{var l;const c=!!(!((l=this.xrDevice.controllers[o])===null||l===void 0)&&l.connected);a.visible=c&&!this.isPointerLocked,c&&a.update(e,this.camera)});const s=Math.min((e-this.lastTime)/1e3,.1);this.movePlayerRig(s),this.syncDeviceTransforms(),this.renderer.render(this.scene,this.camera),this.lastTime=e}get domElement(){return this.renderer.domElement}dispose(){this.renderer.dispose(),document.removeEventListener("pointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.removeEventListener("mozpointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.removeEventListener("webkitpointerlockchange",this.pointerLockChangeHandler.bind(this),!1),document.removeEventListener("mousemove",this.mouseMoveHandler,!1),document.removeEventListener("keydown",this.keyDownHandler.bind(this),!1),document.removeEventListener("keyup",this.keyUpHandler.bind(this),!1)}}const Cp="1.1.1";class Np{constructor(e){this.version=Cp,e.ipd=0,to.getState().setInputMode(e.primaryInputMode),this.devUIContainer=document.createElement("div"),this.devUIContainer.style.position="fixed",this.devUIContainer.style.width="100vw",this.devUIContainer.style.height="100vh",this.devUIContainer.style.top="50vh",this.devUIContainer.style.left="50vw",this.devUIContainer.style.transform="translate(-50%, -50%)",this.devUIContainer.style.pointerEvents="none";const n=this.devUIContainer.attachShadow({mode:"open"});this.inputLayer=new Lp(e),xo.createRoot(n).render(u.jsx(Fp,{xrDevice:e,inputLayer:this.inputLayer,shadowRoot:n}));const i=()=>{const s=document.createElement("div");document.body.appendChild(s);const a=s.attachShadow({mode:"open"});xo.createRoot(a).render(u.jsx(zp,{xrDevice:e,shadowRoot:a}))};document.body?i():window.onload=i}render(e){this.inputLayer.renderScene(e)}get devUICanvas(){return this.inputLayer.domElement}}const Fp=({xrDevice:t,inputLayer:e,shadowRoot:n})=>{const[r,i]=F.useState(!1);return F.useEffect(()=>{const s=()=>{const a=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;i(!!a)};return document.addEventListener("pointerlockchange",s,!1),document.addEventListener("mozpointerlockchange",s,!1),document.addEventListener("webkitpointerlockchange",s,!1),()=>{document.removeEventListener("pointerlockchange",s,!1),document.removeEventListener("mozpointerlockchange",s,!1),document.removeEventListener("webkitpointerlockchange",s,!1)}},[]),u.jsx(J0,{target:n,disableCSSOMInjection:!0,children:u.jsxs("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",pointerEvents:"none"},children:[u.jsx(B2,{xrDevice:t,inputLayer:e}),u.jsx(V2,{xrDevice:t,inputLayer:e,pointerLocked:r}),u.jsx(N2,{xrDevice:t,inputLayer:e,pointerLocked:r})]})})},zp=({xrDevice:t,shadowRoot:e})=>{const[n,r]=ce.useState(t.sessionOffered&&!t.activeSession);return ce.useEffect(()=>{setInterval(()=>{r(t.sessionOffered&&!t.activeSession)},1e3)},[]),u.jsx(J0,{target:e,disableCSSOMInjection:!0,children:u.jsxs(pa,{style:{zIndex:899,position:"fixed",top:n?"8px":"-30px",display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"space-between",left:"50vw",transform:"translateX(-50%)",transition:"all 0.2s ease-in-out",paddingLeft:"5px",gap:"3px"},children:[u.jsx(ma,{size:24}),u.jsx(Be,{onClick:()=>{t.grantOfferedSession()},style:{fontSize:"16px"},children:"Enter XR"})]})})};var vu=1e-6,Me=typeof Float32Array<"u"?Float32Array:Array;function Dp(){var t=new Me(9);return Me!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ye(){var t=new Me(16);return Me!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Bp(t){var e=new Me(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function wu(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function jp(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bu(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],m=e[11],g=e[12],y=e[13],x=e[14],v=e[15],A=n*o-r*a,w=n*l-i*a,E=n*c-s*a,T=r*l-i*o,S=r*c-s*o,M=i*c-s*l,N=f*y-h*g,C=f*x-d*g,J=f*v-m*g,ie=h*x-d*y,K=h*v-m*y,H=d*v-m*x,W=A*H-w*K+E*ie+T*J-S*C+M*N;return W?(W=1/W,t[0]=(o*H-l*K+c*ie)*W,t[1]=(i*K-r*H-s*ie)*W,t[2]=(y*M-x*S+v*T)*W,t[3]=(d*S-h*M-m*T)*W,t[4]=(l*J-a*H-c*C)*W,t[5]=(n*H-i*J+s*C)*W,t[6]=(x*E-g*M-v*w)*W,t[7]=(f*M-d*E+m*w)*W,t[8]=(a*K-o*J+c*N)*W,t[9]=(r*J-n*K-s*N)*W,t[10]=(g*S-y*E+v*A)*W,t[11]=(h*E-f*S-m*A)*W,t[12]=(o*C-a*ie-l*N)*W,t[13]=(n*ie-r*C+i*N)*W,t[14]=(y*w-g*T-x*A)*W,t[15]=(f*T-h*w+d*A)*W,t):null}function Zi(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],f=e[7],h=e[8],d=e[9],m=e[10],g=e[11],y=e[12],x=e[13],v=e[14],A=e[15],w=n[0],E=n[1],T=n[2],S=n[3];return t[0]=w*r+E*o+T*h+S*y,t[1]=w*i+E*l+T*d+S*x,t[2]=w*s+E*c+T*m+S*v,t[3]=w*a+E*f+T*g+S*A,w=n[4],E=n[5],T=n[6],S=n[7],t[4]=w*r+E*o+T*h+S*y,t[5]=w*i+E*l+T*d+S*x,t[6]=w*s+E*c+T*m+S*v,t[7]=w*a+E*f+T*g+S*A,w=n[8],E=n[9],T=n[10],S=n[11],t[8]=w*r+E*o+T*h+S*y,t[9]=w*i+E*l+T*d+S*x,t[10]=w*s+E*c+T*m+S*v,t[11]=w*a+E*f+T*g+S*A,w=n[12],E=n[13],T=n[14],S=n[15],t[12]=w*r+E*o+T*h+S*y,t[13]=w*i+E*l+T*d+S*x,t[14]=w*s+E*c+T*m+S*v,t[15]=w*a+E*f+T*g+S*A,t}function Yn(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Dl(t,e,n){var r=n[0],i=n[1],s=n[2],a=Math.sqrt(r*r+i*i+s*s),o,l,c;return a<vu?null:(a=1/a,r*=a,i*=a,s*=a,o=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=i*r*c+s*o,t[2]=s*r*c-i*o,t[3]=0,t[4]=r*i*c-s*o,t[5]=i*i*c+l,t[6]=s*i*c+r*o,t[7]=0,t[8]=r*s*c+i*o,t[9]=i*s*c-r*o,t[10]=s*s*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function qr(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=r+r,l=i+i,c=s+s,f=r*o,h=r*l,d=r*c,m=i*l,g=i*c,y=s*c,x=a*o,v=a*l,A=a*c;return t[0]=1-(m+y),t[1]=h+A,t[2]=d-v,t[3]=0,t[4]=h-A,t[5]=1-(f+y),t[6]=g+x,t[7]=0,t[8]=d+v,t[9]=g-x,t[10]=1-(f+m),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Br(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ga(t,e){var n=e[0],r=e[1],i=e[2],s=e[4],a=e[5],o=e[6],l=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(s*s+a*a+o*o),t[2]=Math.sqrt(l*l+c*c+f*f),t}function ki(t,e){var n=new Me(3);ga(n,e);var r=1/n[0],i=1/n[1],s=1/n[2],a=e[0]*r,o=e[1]*i,l=e[2]*s,c=e[4]*r,f=e[5]*i,h=e[6]*s,d=e[8]*r,m=e[9]*i,g=e[10]*s,y=a+f+g,x=0;return y>0?(x=Math.sqrt(y+1)*2,t[3]=.25*x,t[0]=(h-m)/x,t[1]=(d-l)/x,t[2]=(o-c)/x):a>f&&a>g?(x=Math.sqrt(1+a-f-g)*2,t[3]=(h-m)/x,t[0]=.25*x,t[1]=(o+c)/x,t[2]=(d+l)/x):f>g?(x=Math.sqrt(1+f-a-g)*2,t[3]=(d-l)/x,t[0]=(o+c)/x,t[1]=.25*x,t[2]=(h+m)/x):(x=Math.sqrt(1+g-a-f)*2,t[3]=(o-c)/x,t[0]=(d+l)/x,t[1]=(h+m)/x,t[2]=.25*x),t}function Up(t,e,n,r){var i=e[0],s=e[1],a=e[2],o=e[3],l=i+i,c=s+s,f=a+a,h=i*l,d=i*c,m=i*f,g=s*c,y=s*f,x=a*f,v=o*l,A=o*c,w=o*f,E=r[0],T=r[1],S=r[2];return t[0]=(1-(g+x))*E,t[1]=(d+w)*E,t[2]=(m-A)*E,t[3]=0,t[4]=(d-w)*T,t[5]=(1-(h+x))*T,t[6]=(y+v)*T,t[7]=0,t[8]=(m+A)*S,t[9]=(y-v)*S,t[10]=(1-(h+g))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Vp(t,e,n,r,i){var s=1/Math.tan(e/2);if(t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var a=1/(r-i);t[10]=(i+r)*a,t[14]=2*i*r*a}else t[10]=-1,t[14]=-2*r;return t}var Bl=Vp;function xe(){var t=new Me(3);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Hp(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function qe(t,e,n){var r=new Me(3);return r[0]=t,r[1]=e,r[2]=n,r}function Fs(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ar(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Gp(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Eu(t,e){var n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Tu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bi(t,e,n){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1],l=n[2];return t[0]=i*l-s*o,t[1]=s*a-r*l,t[2]=r*o-i*a,t}function xa(t,e,n,r){var i=e[0],s=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=a+r*(n[2]-a),t}function $p(t,e,n){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],l=e[1],c=e[2],f=i*c-s*l,h=s*o-r*c,d=r*l-i*o;return f=f+f,h=h+h,d=d+d,t[0]=o+a*f+i*d-s*h,t[1]=l+a*h+s*f-r*d,t[2]=c+a*d+r*h-i*f,t}var Wp=Hp;(function(){var t=xe();return function(e,n,r,i,s,a){var o,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,o=r;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],s(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}})();function ya(){var t=new Me(4);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Xp(t,e,n,r){var i=new Me(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function qp(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function va(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Yp(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n*n+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=s*a,t}function jl(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*a,t}(function(){var t=ya();return function(e,n,r,i,s,a){var o,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,o=r;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],s(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();function Ze(){var t=new Me(4);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function _u(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Zp(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=n[0],l=n[1],c=n[2],f=n[3];return t[0]=r*f+a*o+i*c-s*l,t[1]=i*f+a*l+s*o-r*c,t[2]=s*f+a*c+r*l-i*o,t[3]=a*f-r*o-i*l-s*c,t}function Or(t,e,n,r){var i=e[0],s=e[1],a=e[2],o=e[3],l=n[0],c=n[1],f=n[2],h=n[3],d,m,g,y,x;return m=i*l+s*c+a*f+o*h,m<0&&(m=-m,l=-l,c=-c,f=-f,h=-h),1-m>vu?(d=Math.acos(m),g=Math.sin(d),y=Math.sin((1-r)*d)/g,x=Math.sin(r*d)/g):(y=1-r,x=r),t[0]=y*i+x*l,t[1]=y*s+x*c,t[2]=y*a+x*f,t[3]=y*o+x*h,t}function Qp(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Kp(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[a*3+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+a]-e[a*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[a]=(e[a*3+i]+e[i*3+a])*r}return t}var Li=Xp,zs=qp,Ul=va,Qi=Yp;(function(){var t=xe(),e=qe(1,0,0),n=qe(0,1,0);return function(r,i,s){var a=Tu(i,s);return a<-.999999?(bi(t,e,i),Wp(t)<1e-6&&bi(t,n,i),Eu(t,t),_u(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(bi(t,i,s),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,Qi(r,r))}})();(function(){var t=Ze(),e=Ze();return function(n,r,i,s,a,o){return Or(t,r,a,o),Or(e,i,s,o),Or(n,t,e,2*o*(1-o)),n}})();(function(){var t=Dp();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Qi(e,Kp(e,t))}})();const B=Symbol("@iwer/action-player"),je=Symbol("@iwer/xr-anchor"),Ds=Symbol("@iwer/xr-controller"),b=Symbol("@iwer/xr-device"),$t=Symbol("@iwer/xr-hand-input"),oe=Symbol("@iwer/xr-tracked-input"),$=Symbol("@iwer/xr-frame"),L=Symbol("@iwer/gamepad"),Ue=Symbol("@iwer/xr-system"),St=Symbol("@iwer/xr-input-source"),Mt=Symbol("@iwer/xr-webgl-layer"),Rt=Symbol("@iwer/xr-mesh"),Pt=Symbol("@iwer/xr-plane"),Vl=Symbol("@iwer/xr-joint-pose"),yr=Symbol("@iwer/xr-pose"),Hl=Symbol("@iwer/xr-viewer-pose"),Oe=Symbol("@iwer/xr-rigid-transform"),vr=Symbol("@iwer/xr-render-state"),p=Symbol("@iwer/xr-session"),en=Symbol("@iwer/xr-joint-space"),Ot=Symbol("@iwer/xr-reference-space"),he=Symbol("@iwer/xr-space"),Wt=Symbol("@iwer/xr-view"),wr=Symbol("@iwer/xr-viewport"),Ie=Symbol("@iwer/xr-ray"),ft=Symbol("@iwer/xr-hit-test");class le extends EventTarget{constructor(e,n){super(),this[he]={parentSpace:e,offsetMatrix:n?Bp(n):ye(),emulated:!0}}}class Jp extends le{constructor(){super(void 0,ye())}}class Zn{static updateOffsetPosition(e,n){const r=e[he].offsetMatrix;Yn(r,n)}static updateOffsetQuaternion(e,n){const r=e[he].offsetMatrix,i=xe();Br(i,r),qr(r,n,i)}static updateOffsetMatrix(e,n){const r=e[he].offsetMatrix;wu(r,n)}static calculateGlobalOffsetMatrix(e,n=ye()){const r=e[he].parentSpace?Zn.calculateGlobalOffsetMatrix(e[he].parentSpace):ye();return Zi(n,r,e[he].offsetMatrix),n}}let tn=class Su{constructor(e=0,n=0,r=0){this.vec3=qe(e,n,r),this.tempVec3=xe()}get x(){return this.vec3[0]}set x(e){this.vec3[0]=e}get y(){return this.vec3[1]}set y(e){this.vec3[1]=e}get z(){return this.vec3[2]}set z(e){this.vec3[2]=e}set(e,n,r){return Ar(this.vec3,e,n,r),this}clone(){return new Su(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}normalize(){return Fs(this.tempVec3,this.vec3),Eu(this.vec3,this.tempVec3),this}add(e){return Fs(this.tempVec3,this.vec3),Gp(this.vec3,this.tempVec3,e.vec3),this}applyQuaternion(e){return Fs(this.tempVec3,this.vec3),$p(this.vec3,this.tempVec3,e.quat),this}},Ir=class Au{constructor(e=0,n=0,r=0,i=1){this.quat=Li(e,n,r,i),this.tempQuat=Ze()}get x(){return this.quat[0]}set x(e){this.quat[0]=e}get y(){return this.quat[1]}set y(e){this.quat[1]=e}get z(){return this.quat[2]}set z(e){this.quat[2]=e}get w(){return this.quat[3]}set w(e){this.quat[3]=e}set(e,n,r,i){return Ul(this.quat,e,n,r,i),this}clone(){return new Au(this.x,this.y,this.z,this.w)}copy(e){return Ul(this.quat,e.x,e.y,e.z,e.w),this}normalize(){return zs(this.tempQuat,this.quat),Qi(this.quat,this.tempQuat),this}invert(){return zs(this.tempQuat,this.quat),Qp(this.quat,this.tempQuat),this}multiply(e){return zs(this.tempQuat,this.quat),Zp(this.quat,this.tempQuat,e.quat),this}setFromAxisAngle(e,n){return _u(this.quat,e.vec3,n),this}};var jr;(function(t){t.None="",t.Standard="standard",t.XRStandard="xr-standard"})(jr||(jr={}));class Mu{constructor(e,n){this[L]={type:e,eventTrigger:n,pressed:!1,touched:!1,value:0,lastFrameValue:0,pendingValue:null}}get pressed(){return this[L].type==="manual"?this[L].pressed:this[L].value>0}get touched(){return this[L].type==="manual"?this[L].touched:this[L].touched||this.pressed}get value(){return this[L].value}}class e3{constructor(){this.pressed=!1,this.touched=!1,this.value=0}}class so{constructor(e,n="",r=-1){this[L]={id:n,index:r,connected:!1,timestamp:performance.now(),mapping:e.mapping,buttonsMap:{},buttonsSequence:[],axesMap:{},axesSequence:[],hapticActuators:[]},e.buttons.forEach(i=>{var s;i===null?this[L].buttonsSequence.push(null):(this[L].buttonsSequence.push(i.id),this[L].buttonsMap[i.id]=new Mu(i.type,(s=i.eventTrigger)!==null&&s!==void 0?s:null))}),e.axes.forEach(i=>{i===null?this[L].axesSequence.push(null):(this[L].axesSequence.push(i.id+i.type),this[L].axesMap[i.id]||(this[L].axesMap[i.id]={x:0,y:0}))})}get id(){return this[L].id}get index(){return this[L].index}get connected(){return this[L].connected}get timestamp(){return this[L].timestamp}get mapping(){return this[L].mapping}get axes(){const e=[];return this[L].axesSequence.forEach(n=>{if(n===null)e.push(null);else{const r=n.substring(0,n.length-6),i=n.substring(n.length-6);e.push(i==="y-axis"?this[L].axesMap[r].y:this[L].axesMap[r].x)}}),e}get buttons(){return this[L].buttonsSequence.map(e=>e===null?new e3:this[L].buttonsMap[e])}get hapticActuators(){return this[L].hapticActuators}get vibrationActuator(){return null}}var Le;(function(t){t.None="none",t.Left="left",t.Right="right"})(Le||(Le={}));var Ci;(function(t){t.Gaze="gaze",t.TrackedPointer="tracked-pointer",t.Screen="screen",t.TransientPointer="transient-pointer"})(Ci||(Ci={}));class t3 extends Array{}class Ki{constructor(e,n,r,i,s,a,o){this[St]={handedness:e,targetRayMode:n,targetRaySpace:i,gripSpace:a,profiles:r,gamepad:s,hand:o}}get handedness(){return this[St].handedness}get targetRayMode(){return this[St].targetRayMode}get targetRaySpace(){return this[St].targetRaySpace}get gripSpace(){return this[St].gripSpace}get profiles(){return this[St].profiles}get gamepad(){return this[St].gamepad}get hand(){return this[St].hand}}class Ei extends Event{constructor(e,n){if(super(e,n),!n.frame)throw new Error("XRInputSourceEventInit.frame is required");if(!n.inputSource)throw new Error("XRInputSourceEventInit.inputSource is required");this.frame=n.frame,this.inputSource=n.inputSource}}const Gl={[Le.Left]:{position:new tn(-.25,1.5,-.4),quaternion:new Ir},[Le.Right]:{position:new tn(.25,1.5,-.4),quaternion:new Ir},[Le.None]:{position:new tn(.25,1.5,-.4),quaternion:new Ir}};class Ru{constructor(e){this[oe]={inputSource:e,position:Gl[e.handedness].position.clone(),quaternion:Gl[e.handedness].quaternion.clone(),connected:!0,lastFrameConnected:!1,inputSourceChanged:!0}}get position(){return this[oe].position}get quaternion(){return this[oe].quaternion}get inputSource(){return this[oe].inputSource}get connected(){return this[oe].connected}set connected(e){this[oe].connected=e,this[oe].inputSource.gamepad[L].connected=e}onFrameStart(e){const n=this[oe].inputSource.targetRaySpace;qr(n[he].offsetMatrix,this[oe].quaternion.quat,this[oe].position.vec3);const r=e.session;this[oe].inputSource.gamepad.buttons.forEach(i=>{i instanceof Mu&&(i[L].lastFrameValue=i[L].value,i[L].pendingValue!=null&&(i[L].value=i[L].pendingValue,i[L].pendingValue=null),i[L].eventTrigger!=null&&(i[L].lastFrameValue===0&&i[L].value>0?(r.dispatchEvent(new Ei(i[L].eventTrigger,{frame:e,inputSource:this[oe].inputSource})),r.dispatchEvent(new Ei(i[L].eventTrigger+"start",{frame:e,inputSource:this[oe].inputSource}))):i[L].lastFrameValue>0&&i[L].value===0&&r.dispatchEvent(new Ei(i[L].eventTrigger+"end",{frame:e,inputSource:this[oe].inputSource}))))}),this[oe].inputSourceChanged=this.connected!==this[oe].lastFrameConnected,this[oe].lastFrameConnected=this.connected}}class n3 extends Ru{constructor(e,n,r){if(!e.layout[n])throw new DOMException("Handedness not supported","InvalidStateError");const i=new le(r),s=e.layout[n].gripOffsetMatrix?new le(i,e.layout[n].gripOffsetMatrix):void 0,a=[e.profileId,...e.fallbackProfileIds],o=new Ki(n,Ci.TrackedPointer,a,i,new so(e.layout[n].gamepad),s);super(o),this[Ds]={profileId:e.profileId,gamepadConfig:e.layout[n].gamepad}}get gamepadConfig(){return this[Ds].gamepadConfig}get profileId(){return this[Ds].profileId}updateButtonValue(e,n){if(n>1||n<0){console.warn(`Out-of-range value ${n} provided for button ${e}.`);return}const r=this[oe].inputSource.gamepad[L].buttonsMap[e];if(r){if(r[L].type==="binary"&&n!=1&&n!=0){console.warn(`Non-binary value ${n} provided for binary button ${e}.`);return}r[L].pendingValue=n}else console.warn(`Current controller does not have button ${e}.`)}updateButtonTouch(e,n){const r=this[oe].inputSource.gamepad[L].buttonsMap[e];r?r[L].touched=n:console.warn(`Current controller does not have button ${e}.`)}updateAxis(e,n,r){if(r>1||r<-1){console.warn(`Out-of-range value ${r} provided for ${e} axes.`);return}const i=this[oe].inputSource.gamepad[L].axesMap[e];i?n==="x-axis"?i.x=r:n==="y-axis"&&(i.y=r):console.warn(`Current controller does not have ${e} axes.`)}updateAxes(e,n,r){if(n>1||n<-1||r>1||r<-1){console.warn(`Out-of-range value x:${n}, y:${r} provided for ${e} axes.`);return}const i=this[oe].inputSource.gamepad[L].axesMap[e];i?(i.x=n,i.y=r):console.warn(`Current controller does not have ${e} axes.`)}}class r3{constructor(e,n,r,i,s){this[Rt]={nativeMesh:e,frame:void 0,meshSpace:n,vertices:r,indices:i,lastChangedTime:performance.now(),semanticLabel:s}}get meshSpace(){return this[Rt].meshSpace}get vertices(){return this[Rt].vertices}get indices(){return this[Rt].indices}get lastChangedTime(){return this[Rt].lastChangedTime}get semanticLabel(){return this[Rt].semanticLabel}}class i3 extends Set{}class s3{constructor(e,n,r,i){this.transform=e,this.vertices=n,this.indices=r,this.semanticLabel=i}}var j;(function(t){t.Desk="desk",t.Couch="couch",t.Floor="floor",t.Ceiling="ceiling",t.Wall="wall",t.Door="door",t.Window="window",t.Table="table",t.Shelf="shelf",t.Bed="bed",t.Screen="screen",t.Lamp="lamp",t.Plant="plant",t.WallArt="wall art",t.GlobalMesh="global mesh",t.Other="other"})(j||(j={}));var ve;(function(t){t.Horizontal="horizontal",t.Vertical="vertical"})(ve||(ve={}));const a3={[j.Desk]:ve.Horizontal,[j.Couch]:ve.Horizontal,[j.Floor]:ve.Horizontal,[j.Ceiling]:ve.Horizontal,[j.Wall]:ve.Vertical,[j.Door]:ve.Vertical,[j.Window]:ve.Vertical,[j.Table]:ve.Horizontal,[j.Shelf]:ve.Horizontal,[j.Bed]:ve.Horizontal,[j.Screen]:ve.Horizontal,[j.Lamp]:ve.Horizontal,[j.Plant]:ve.Horizontal,[j.WallArt]:ve.Vertical};class o3{constructor(e,n,r,i){this[Pt]={nativePlane:e,frame:void 0,planeSpace:n,polygon:r,lastChangedTime:performance.now(),semanticLabel:i,orientation:i?a3[i]:void 0}}get planeSpace(){return this[Pt].planeSpace}get polygon(){return this[Pt].polygon}get orientation(){return this[Pt].orientation}get lastChangedTime(){return this[Pt].lastChangedTime}get semanticLabel(){return this[Pt].semanticLabel}}class l3 extends Set{}class c3{constructor(e,n,r){this.transform=e,this.polygon=n,this.semanticLabel=r}}class Pu{constructor(e,n){this[je]={anchorSpace:e,session:n,deleted:!1},n[p].trackedAnchors.add(this)}get anchorSpace(){if(this[je].deleted)throw new DOMException("XRAnchor has already been deleted.","InvalidStateError");return this[je].anchorSpace}requestPersistentHandle(){return new Promise((e,n)=>{if(this[je].deleted)n(new DOMException("XRAnchor has already been deleted.","InvalidStateError"));else{const r=this[je].session[p].persistentAnchors;for(const[s,a]of r.entries())if(a===this){e(s);return}const i=crypto.randomUUID();Ou.createPersistentAnchor(this[je].session,this,i),e(i)}})}delete(){this[je].deleted||(this[je].anchorSpace=null,this[je].deleted=!0,this[je].session[p].trackedAnchors.delete(this))}}class $l extends Set{}const Bs="@immersive-web-emulation-runtime/persistent-anchors";class Ou{static recoverPersistentAnchorsFromStorage(e){const n=JSON.parse(localStorage.getItem(Bs)||"{}");Object.entries(n).forEach(([r,i])=>{const s=e[p].device[b].globalSpace,a=new le(s,i),o=new Pu(a,e);e[p].persistentAnchors.set(r,o)})}static createPersistentAnchor(e,n,r){e[p].trackedAnchors.add(n),e[p].persistentAnchors.set(r,n);const i=JSON.parse(localStorage.getItem(Bs)||"{}");i[r]=Array.from(n[je].anchorSpace[he].offsetMatrix),localStorage.setItem(Bs,JSON.stringify(i))}}class on{constructor(e,n){const r=qe(0,0,0),i=Ze();this[Oe]={matrix:ye(),position:e?qe(e.x,e.y,e.z):r,orientation:n?Qi(Ze(),Li(n.x,n.y,n.z,n.w)):i,inverse:null},this.updateMatrix()}updateMatrix(){qr(this[Oe].matrix,this[Oe].orientation,this[Oe].position)}get matrix(){return this[Oe].matrix}get position(){const e=this[Oe].position;return new DOMPointReadOnly(e[0],e[1],e[2],1)}get orientation(){const e=this[Oe].orientation;return new DOMPointReadOnly(e[0],e[1],e[2],e[3])}get inverse(){if(!this[Oe].inverse){const e=ye();if(!bu(e,this[Oe].matrix))throw new Error("Matrix is not invertible.");let n=xe();Br(n,e);let r=Ze();ki(r,e),this[Oe].inverse=new on(new DOMPointReadOnly(n[0],n[1],n[2],1),new DOMPointReadOnly(r[0],r[1],r[2],r[3])),this[Oe].inverse[Oe].inverse=this}return this[Oe].inverse}}let Wl=class{constructor(e=0,n=0,r=0,i=1){this.x=e,this.y=n,this.z=r,this.w=i}};class u3{constructor(e,n){const r={x:0,y:0,z:0,w:1},i={x:0,y:0,z:-1,w:0};if(e instanceof on){const o=e.matrix,l=va(ya(),r.x,r.y,r.z,r.w),c=va(ya(),i.x,i.y,i.z,i.w);jl(l,l,o),jl(c,c,o),r.x=l[0],r.y=l[1],r.z=l[2],r.w=l[3],i.x=c[0],i.y=c[1],i.z=c[2],i.w=c[3]}else if(e&&(r.x=e.x,r.y=e.y,r.z=e.z,r.w=e.w),n){if(n.x===0&&n.y===0&&n.z===0||n.w!==0)throw new DOMException("Invalid direction value to construct XRRay","TypeError");i.x=n.x,i.y=n.y,i.z=n.z,i.w=n.w}const s=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)||1;i.x=i.x/s,i.y=i.y/s,i.z=i.z/s,this[Ie]={origin:new Wl(r.x,r.y,r.z,r.w),direction:new Wl(i.x,i.y,i.z,i.w),matrix:null}}get origin(){return this[Ie].origin}get direction(){return this[Ie].direction}get matrix(){if(this[Ie].matrix)return this[Ie].matrix;const e=Ar(xe(),0,0,-1),n=Ar(xe(),this[Ie].origin.x,this[Ie].origin.y,this[Ie].origin.z),r=Ar(xe(),this[Ie].direction.x,this[Ie].direction.y,this[Ie].direction.z),i=bi(xe(),r,e),s=Tu(r,e),a=ye();s>-1&&s<1?Dl(a,Math.acos(s),i):s===-1?Dl(a,Math.acos(s),Ar(xe(),1,0,0)):jp(a);const o=Yn(ye(),n),l=Zi(ye(),o,a);return this[Ie].matrix=new Float32Array(l),this[Ie].matrix}}class f3{constructor(e,n){var r;this[ft]={session:e,space:n.space,offsetRay:(r=n.offsetRay)!==null&&r!==void 0?r:new u3}}cancel(){this[ft].session[p].hitTestSources.delete(this)}}class h3{constructor(e,n){this[ft]={frame:e,offsetSpace:n}}getPose(e){return this[ft].frame.getPose(this[ft].offsetSpace,e)}createAnchor(){return this[ft].frame.createAnchor(new on,this[ft].offsetSpace)}}class Iu extends Event{constructor(e,n){if(super(e,n),!n.session)throw new Error("XRInputSourcesChangeEventInit.session is required");if(!n.added)throw new Error("XRInputSourcesChangeEventInit.added is required");if(!n.removed)throw new Error("XRInputSourcesChangeEventInit.removed is required");this.session=n.session,this.added=n.added,this.removed=n.removed}}var ku,me;(function(t){t.Viewer="viewer",t.Local="local",t.LocalFloor="local-floor",t.BoundedFloor="bounded-floor",t.Unbounded="unbounded"})(me||(me={}));class an extends le{constructor(e,n,r){super(n,r),this[ku]={type:null,onreset:()=>{}},this[Ot].type=e}get onreset(){var e;return(e=this[Ot].onreset)!==null&&e!==void 0?e:(()=>{})}set onreset(e){this[Ot].onreset&&this.removeEventListener("reset",this[Ot].onreset),this[Ot].onreset=e,e&&this.addEventListener("reset",e)}getOffsetReferenceSpace(e){return new an(this[Ot].type,this,e)}}ku=Ot;class wa{constructor(e={},n){this[vr]={depthNear:e.depthNear||n?.depthNear||.1,depthFar:e.depthFar||n?.depthFar||1e3,inlineVerticalFieldOfView:e.inlineVerticalFieldOfView||n?.inlineVerticalFieldOfView||null,baseLayer:e.baseLayer||n?.baseLayer||null}}get depthNear(){return this[vr].depthNear}get depthFar(){return this[vr].depthFar}get inlineVerticalFieldOfView(){return this[vr].inlineVerticalFieldOfView}get baseLayer(){return this[vr].baseLayer}}class Ni extends Event{constructor(e,n){if(super(e,n),!n.session)throw new Error("XRSessionEventInit.session is required");this.session=n.session}}var te;(function(t){t.None="none",t.Left="left",t.Right="right"})(te||(te={}));class Lu{constructor(e,n,r,i){this[Wt]={eye:e,projectionMatrix:n,transform:r,recommendedViewportScale:null,requestedViewportScale:1,session:i}}get eye(){return this[Wt].eye}get projectionMatrix(){return this[Wt].projectionMatrix}get transform(){return this[Wt].transform}get recommendedViewportScale(){return this[Wt].recommendedViewportScale}requestViewportScale(e){if(e===null||e<=0||e>1){console.warn("Invalid scale value. Scale must be > 0 and <= 1.");return}this[Wt].requestedViewportScale=e}}class Ji{constructor(e,n=!1,r=void 0,i=void 0){this[yr]={transform:e,emulatedPosition:n,linearVelocity:r,angularVelocity:i}}get transform(){return this[yr].transform}get emulatedPosition(){return this[yr].emulatedPosition}get linearVelocity(){return this[yr].linearVelocity}get angularVelocity(){return this[yr].angularVelocity}}class Cu extends Ji{constructor(e,n,r=!1,i=void 0,s=void 0){super(e,r,i,s),this[Vl]={radius:n}}get radius(){return this[Vl].radius}}class Nu extends Ji{constructor(e,n,r=!1,i=void 0,s=void 0){super(e,r,i,s),this[Hl]={views:Object.freeze(n)}}get views(){return this[Hl].views}}const Xl=ye(),ql=ye(),Yl=ye(),Zl=(t,e,n)=>{Zn.calculateGlobalOffsetMatrix(e,Xl),Zn.calculateGlobalOffsetMatrix(n,ql),bu(Yl,ql),Zi(t,Yl,Xl)};class Fu{constructor(e,n,r,i,s){this[$]={session:e,id:n,active:r,animationFrame:i,predictedDisplayTime:s,tempMat4:ye(),detectedPlanes:new l3,detectedMeshes:new i3,trackedAnchors:e[p].frameTrackedAnchors,hitTestResultsMap:new Map}}get session(){return this[$].session}get predictedDisplayTime(){return this[$].predictedDisplayTime}getPose(e,n){if(!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");Zl(this[$].tempMat4,e,n);const r=xe();Br(r,this[$].tempMat4);const i=Ze();return ki(i,this[$].tempMat4),new Ji(new on({x:r[0],y:r[1],z:r[2],w:1},{x:i[0],y:i[1],z:i[2],w:i[3]}),e[he].emulated)}getViewerPose(e){if(!this[$].animationFrame)throw new DOMException("getViewerPose can only be called on XRFrame objects passed to XRSession.requestAnimationFrame callbacks.","InvalidStateError");const n=this[$].session,r=n[p].device,i=this.getPose(r.viewerSpace,e),s=n[p].mode==="inline"?[te.None]:[te.Left,te.Right],a=[];return s.forEach(o=>{const l=r.viewSpaces[o],c=this.getPose(l,e),f=n[p].getProjectionMatrix(o),h=new Lu(o,new Float32Array(f),c.transform,n);a.push(h)}),new Nu(i.transform,a,!1)}getJointPose(e,n){const r=this.getPose(e,n),i=e[en].radius;return new Cu(r.transform,i,!1)}fillJointRadii(e,n){if(e=Array.from(e),!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");if(e.length>n.length)throw new DOMException("The length of jointSpaces is larger than the number of elements in radii","TypeError");let r=!0;for(let i=0;i<e.length;i++)e[i][en].radius?n[i]=e[i][en].radius:(n[i]=NaN,r=!1);return r}fillPoses(e,n,r){if(e=Array.from(e),!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");if(e.length*16>r.length)throw new DOMException("The length of spaces multiplied by 16 is larger than the number of elements in transforms","TypeError");return e.forEach((i,s)=>{Zl(this[$].tempMat4,i,n);for(let a=0;a<16;a++)r[s*16+a]=this[$].tempMat4[a]}),!0}get detectedPlanes(){if(!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");return this[$].detectedPlanes}get detectedMeshes(){if(!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");return this[$].detectedMeshes}get trackedAnchors(){if(!this[$].active)throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError");return this[$].trackedAnchors}createAnchor(e,n){return new Promise((r,i)=>{if(!this[$].active)i(new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError"));else{const s=this[$].session[p].device[b].globalSpace,a=new le(n,e.matrix),o=Zn.calculateGlobalOffsetMatrix(a),l=new le(s,o),c=new Pu(l,this[$].session);this[$].session[p].trackedAnchors.add(c),this[$].session[p].newAnchors.set(c,{resolve:r,reject:i})}})}getHitTestResults(e){if(this[$].active){if(this[$].hitTestResultsMap.has(e))return[...this[$].hitTestResultsMap.get(e)];throw new DOMException("Requested hit test results are not available for current frame.","InvalidStateError")}else throw new DOMException("XRFrame access outside the callback that produced it is invalid.","InvalidStateError")}}var Ke;(function(t){t.Opaque="opaque",t.AlphaBlend="alpha-blend",t.Additive="additive"})(Ke||(Ke={}));var Qn;(function(t){t.ScreenSpace="screen-space",t.WorldSpace="world-space"})(Qn||(Qn={}));class ao extends EventTarget{constructor(e,n,r){super(),this[p]={device:e,mode:n,renderState:new wa,pendingRenderState:null,enabledFeatures:r,isSystemKeyboardSupported:!1,ended:!1,projectionMatrices:{[te.Left]:ye(),[te.Right]:ye(),[te.None]:ye()},getProjectionMatrix:i=>this[p].projectionMatrices[i],referenceSpaceIsSupported:i=>{if(!this[p].enabledFeatures.includes(i))return!1;switch(i){case me.Viewer:return!0;case me.Local:case me.LocalFloor:case me.BoundedFloor:case me.Unbounded:return this[p].mode!="inline"}},frameHandle:0,frameCallbacks:[],currentFrameCallbacks:null,onDeviceFrame:()=>{if(this[p].ended)return;this[p].deviceFrameHandle=globalThis.requestAnimationFrame(this[p].onDeviceFrame),this[p].pendingRenderState!=null&&(this[p].renderState=this[p].pendingRenderState,this[p].pendingRenderState=null,this[p].device[b].onBaseLayerSet(this[p].renderState.baseLayer));const i=this[p].renderState.baseLayer;if(i===null)return;const s=i.context,a=s.canvas;if(this[p].mode!="inline"){const x=s.getParameter(s.COLOR_CLEAR_VALUE),v=s.getParameter(s.DEPTH_CLEAR_VALUE),A=s.getParameter(s.STENCIL_CLEAR_VALUE);s.clearColor(0,0,0,0),s.clearDepth(1),s.clearStencil(0),s.clear(s.DEPTH_BUFFER_BIT|s.COLOR_BUFFER_BIT|s.STENCIL_BUFFER_BIT),s.clearColor(x[0],x[1],x[2],x[3]),s.clearDepth(v),s.clearStencil(A)}const{depthNear:o,depthFar:l}=this[p].renderState,{width:c,height:f}=a;if(this[p].mode!=="inline"){const x=c*(this[p].device.stereoEnabled?.5:1)/f;Bl(this[p].projectionMatrices[te.Left],this[p].device.fovy,x,o,l),wu(this[p].projectionMatrices[te.Right],this[p].projectionMatrices[te.Left])}else{const x=c/f;Bl(this[p].projectionMatrices[te.None],this[p].renderState.inlineVerticalFieldOfView,x,o,l)}const h=new Fu(this,this[p].frameHandle,!0,!0,performance.now()),d=performance.now(),m=this[p].device[b].devui;if(m&&m.render(d),this[p].mode==="immersive-ar"){const x=this[p].device[b].sem;x&&x.render(d)}this[p].enabledFeatures.includes("anchors")&&this[p].updateTrackedAnchors(),this[p].enabledFeatures.includes("plane-detection")&&this[p].updateTrackedPlanes(h),this[p].enabledFeatures.includes("mesh-detection")&&this[p].updateTrackedMeshes(h),this[p].enabledFeatures.includes("hit-test")&&this[p].computeHitTestResults(h),this[p].device[b].onFrameStart(h),this[p].updateActiveInputSources();const g=this[p].currentFrameCallbacks=this[p].frameCallbacks;this[p].frameCallbacks=[];const y=performance.now();for(let x=0;x<g.length;x++)try{g[x].cancelled||g[x].callback(y,h)}catch(v){console.error(v)}this[p].currentFrameCallbacks=null,h[$].active=!1},nominalFrameRate:e.internalNominalFrameRate,referenceSpaces:[],inputSourceArray:[],activeInputSources:[],updateActiveInputSources:()=>{const i=this[p].enabledFeatures.includes("hand-tracking"),s=this[p].activeInputSources,a=this[p].device.inputSources.filter(c=>!c.hand||i),o=a.filter(c=>!s.includes(c)),l=s.filter(c=>!a.includes(c));this[p].activeInputSources=a,(o.length>0||l.length>0)&&this.dispatchEvent(new Iu("inputsourceschange",{session:this,added:o,removed:l}))},trackedAnchors:new $l,persistentAnchors:new Map,newAnchors:new Map,frameTrackedAnchors:new $l,updateTrackedAnchors:()=>{this[p].enabledFeatures.includes("anchors")&&(this[p].frameTrackedAnchors.clear(),Array.from(this[p].trackedAnchors).forEach(i=>{if(i[je].deleted){if(this[p].trackedAnchors.delete(i),this[p].newAnchors.has(i)){const{reject:s}=this[p].newAnchors.get(i);s(new DOMException("Anchor is no longer tracked","InvalidStateError"))}}else if(this[p].frameTrackedAnchors.add(i),this[p].newAnchors.has(i)){const{resolve:s}=this[p].newAnchors.get(i);s(i),this[p].newAnchors.delete(i)}}))},trackedPlanes:new Map,updateTrackedPlanes:i=>{const s=this[p].device[b].sem;if(!s)return;Array.from(this[p].trackedPlanes.keys()).forEach(o=>{s.trackedPlanes.has(o)||this[p].trackedPlanes.delete(o)}),s.trackedPlanes.forEach(o=>{let l=this[p].trackedPlanes.get(o);if(!l){const c=new le(this[p].device[b].globalSpace,o.transform.matrix);l=new o3(o,c,o.polygon,o.semanticLabel),this[p].trackedPlanes.set(o,l)}l[Pt].lastChangedTime=i.predictedDisplayTime,l[Pt].frame=i,i[$].detectedPlanes.add(l)})},trackedMeshes:new Map,updateTrackedMeshes:i=>{const s=this[p].device[b].sem;if(!s)return;Array.from(this[p].trackedMeshes.keys()).forEach(o=>{s.trackedMeshes.has(o)||this[p].trackedMeshes.delete(o)}),s.trackedMeshes.forEach(o=>{let l=this[p].trackedMeshes.get(o);if(!l){const c=new le(this[p].device[b].globalSpace,o.transform.matrix);l=new r3(o,c,o.vertices,o.indices,o.semanticLabel),this[p].trackedMeshes.set(o,l)}l[Rt].lastChangedTime=i.predictedDisplayTime,l[Rt].frame=i,i[$].detectedMeshes.add(l)})},hitTestSources:new Set,computeHitTestResults:i=>{const s=this[p].device[b].sem;if(!s)return;const a=this[p].device[b].globalSpace;this[p].hitTestSources.forEach(o=>{const l=o[ft].space,c=Zn.calculateGlobalOffsetMatrix(l),f=o[ft].offsetRay.matrix,h=ye();Zi(h,c,f);const d=[];s.computeHitTestResults(h).forEach(m=>{const g=new le(a,m),y=new h3(i,g);d.push(y)}),i[$].hitTestResultsMap.set(o,d)})},onend:null,oninputsourceschange:null,onselect:null,onselectstart:null,onselectend:null,onsqueeze:null,onsqueezestart:null,onsqueezeend:null,onvisibilitychange:null,onframeratechange:null},Ou.recoverPersistentAnchorsFromStorage(this),this[p].onDeviceFrame()}get visibilityState(){return this[p].device.visibilityState}get frameRate(){return this[p].nominalFrameRate}get supportedFrameRates(){return new Float32Array(this[p].device.supportedFrameRates)}get renderState(){return this[p].renderState}get inputSources(){return this[p].inputSourceArray.length=0,!this[p].ended&&this[p].mode!=="inline"&&this[p].inputSourceArray.push(...this[p].activeInputSources),this[p].inputSourceArray}get enabledFeatures(){return this[p].enabledFeatures}get isSystemKeyboardSupported(){return this[p].isSystemKeyboardSupported}get environmentBlendMode(){var e;return(e=this[p].device[b].environmentBlendModes[this[p].mode])!==null&&e!==void 0?e:Ke.Opaque}get interactionMode(){return this[p].device[b].interactionMode}updateRenderState(e={}){var n,r,i,s;if(this[p].ended)throw new DOMException("XRSession has already ended.","InvalidStateError");if(e.baseLayer&&e.baseLayer[Mt].session!==this)throw new DOMException("Base layer was created by a different XRSession","InvalidStateError");if(e.inlineVerticalFieldOfView!=null&&this[p].mode!=="inline")throw new DOMException("InlineVerticalFieldOfView must not be set for an immersive session","InvalidStateError");const a={baseLayer:e.baseLayer||((n=this[p].pendingRenderState)===null||n===void 0?void 0:n.baseLayer)||void 0,depthFar:e.depthFar||((r=this[p].pendingRenderState)===null||r===void 0?void 0:r.depthFar)||void 0,depthNear:e.depthNear||((i=this[p].pendingRenderState)===null||i===void 0?void 0:i.depthNear)||void 0,inlineVerticalFieldOfView:e.inlineVerticalFieldOfView||((s=this[p].pendingRenderState)===null||s===void 0?void 0:s.inlineVerticalFieldOfView)||void 0};this[p].pendingRenderState=new wa(a,this[p].renderState)}async updateTargetFrameRate(e){return new Promise((n,r)=>{this[p].ended?r(new DOMException("XRSession has already ended.","InvalidStateError")):this[p].device.supportedFrameRates.includes(e)?(this[p].nominalFrameRate===e?console.log("Requested frame rate is the same as the current nominal frame rate, no update made"):(this[p].nominalFrameRate=e,this.dispatchEvent(new Ni("frameratechange",{session:this})),console.log(`Nominal frame rate updated to ${e}`)),n()):r(new DOMException("Requested frame rate not supported.","InvalidStateError"))})}async requestReferenceSpace(e){return new Promise((n,r)=>{if(this[p].ended||!this[p].referenceSpaceIsSupported(e)){r(new DOMException("The requested reference space type is not supported.","NotSupportedError"));return}let i;switch(e){case me.Viewer:i=this[p].device.viewerSpace;break;case me.Local:i=new an(e,this[p].device[b].globalSpace,this[p].device.viewerSpace[he].offsetMatrix);break;case me.LocalFloor:case me.BoundedFloor:case me.Unbounded:i=new an(e,this[p].device[b].globalSpace);break}this[p].referenceSpaces.push(i),n(i)})}requestAnimationFrame(e){if(this[p].ended)return 0;const n=++this[p].frameHandle;return this[p].frameCallbacks.push({handle:n,callback:e,cancelled:!1}),n}cancelAnimationFrame(e){let n=this[p].frameCallbacks,r=n.findIndex(i=>i&&i.handle===e);r>-1&&(n[r].cancelled=!0,n.splice(r,1)),n=this[p].currentFrameCallbacks,n&&(r=n.findIndex(i=>i&&i.handle===e),r>-1&&(n[r].cancelled=!0))}async end(){return new Promise((e,n)=>{this[p].ended||this[p].deviceFrameHandle===null?n(new DOMException("XRSession has already ended.","InvalidStateError")):(globalThis.cancelAnimationFrame(this[p].deviceFrameHandle),this[p].device[b].onSessionEnd(),this.dispatchEvent(new Ni("end",{session:this})),e())})}get persistentAnchors(){return Array.from(this[p].persistentAnchors.keys())}restorePersistentAnchor(e){return new Promise((n,r)=>{if(!this[p].persistentAnchors.has(e))r(new DOMException(`Persistent anchor with uuid ${e} not found.`,"InvalidStateError"));else if(this[p].ended)r(new DOMException("XRSession has already ended.","InvalidStateError"));else{const i=this[p].persistentAnchors.get(e);this[p].newAnchors.has(i)?r(new DOMException(`Multiple concurrent attempts detected to restore the anchor with UUID: ${e}.`,"InvalidStateError")):(this[p].trackedAnchors.add(i),this[p].newAnchors.set(i,{resolve:n,reject:r}))}})}deletePersistentAnchor(e){return new Promise((n,r)=>{if(!this[p].persistentAnchors.has(e))r(new DOMException(`Persistent anchor with uuid ${e} not found.`,"InvalidStateError"));else{const i=this[p].persistentAnchors.get(e);this[p].persistentAnchors.delete(e),i.delete(),n(void 0)}})}requestHitTestSource(e){return new Promise((n,r)=>{if(!this[p].enabledFeatures.includes("hit-test"))r(new DOMException('WebXR feature "hit-test" is not supported by current session',"NotSupportedError"));else if(this[p].ended)r(new DOMException("XRSession has already ended.","InvalidStateError"));else if(!this[p].device[b].sem)r(new DOMException("Synthethic Environment Module required for emulating hit-test","OperationError"));else{const i=new f3(this,e);this[p].hitTestSources.add(i),n(i)}})}get onend(){var e;return(e=this[p].onend)!==null&&e!==void 0?e:(()=>{})}set onend(e){this[p].onend&&this.removeEventListener("end",this[p].onend),this[p].onend=e,e&&this.addEventListener("end",e)}get oninputsourceschange(){var e;return(e=this[p].oninputsourceschange)!==null&&e!==void 0?e:(()=>{})}set oninputsourceschange(e){this[p].oninputsourceschange&&this.removeEventListener("inputsourceschange",this[p].oninputsourceschange),this[p].oninputsourceschange=e,e&&this.addEventListener("inputsourceschange",e)}get onselect(){var e;return(e=this[p].onselect)!==null&&e!==void 0?e:(()=>{})}set onselect(e){this[p].onselect&&this.removeEventListener("select",this[p].onselect),this[p].onselect=e,e&&this.addEventListener("select",e)}get onselectstart(){var e;return(e=this[p].onselectstart)!==null&&e!==void 0?e:(()=>{})}set onselectstart(e){this[p].onselectstart&&this.removeEventListener("selectstart",this[p].onselectstart),this[p].onselectstart=e,e&&this.addEventListener("selectstart",e)}get onselectend(){var e;return(e=this[p].onselectend)!==null&&e!==void 0?e:(()=>{})}set onselectend(e){this[p].onselectend&&this.removeEventListener("selectend",this[p].onselectend),this[p].onselectend=e,e&&this.addEventListener("selectend",e)}get onsqueeze(){var e;return(e=this[p].onsqueeze)!==null&&e!==void 0?e:(()=>{})}set onsqueeze(e){this[p].onsqueeze&&this.removeEventListener("squeeze",this[p].onsqueeze),this[p].onsqueeze=e,e&&this.addEventListener("squeeze",e)}get onsqueezestart(){var e;return(e=this[p].onsqueezestart)!==null&&e!==void 0?e:(()=>{})}set onsqueezestart(e){this[p].onsqueezestart&&this.removeEventListener("squeezestart",this[p].onsqueezestart),this[p].onsqueezestart=e,e&&this.addEventListener("squeezestart",e)}get onsqueezeend(){var e;return(e=this[p].onsqueezeend)!==null&&e!==void 0?e:(()=>{})}set onsqueezeend(e){this[p].onsqueezeend&&this.removeEventListener("squeezeend",this[p].onsqueezeend),this[p].onsqueezeend=e,e&&this.addEventListener("squeezeend",e)}get onvisibilitychange(){var e;return(e=this[p].onvisibilitychange)!==null&&e!==void 0?e:(()=>{})}set onvisibilitychange(e){this[p].onvisibilitychange&&this.removeEventListener("visibilitychange",this[p].onvisibilitychange),this[p].onvisibilitychange=e,e&&this.addEventListener("visibilitychange",e)}get onframeratechange(){var e;return(e=this[p].onframeratechange)!==null&&e!==void 0?e:(()=>{})}set onframeratechange(e){this[p].onframeratechange&&this.removeEventListener("frameratechange",this[p].onframeratechange),this[p].onframeratechange=e,e&&this.addEventListener("frameratechange",e)}}var Ur;(function(t){t.Wrist="wrist",t.ThumbMetacarpal="thumb-metacarpal",t.ThumbPhalanxProximal="thumb-phalanx-proximal",t.ThumbPhalanxDistal="thumb-phalanx-distal",t.ThumbTip="thumb-tip",t.IndexFingerMetacarpal="index-finger-metacarpal",t.IndexFingerPhalanxProximal="index-finger-phalanx-proximal",t.IndexFingerPhalanxIntermediate="index-finger-phalanx-intermediate",t.IndexFingerPhalanxDistal="index-finger-phalanx-distal",t.IndexFingerTip="index-finger-tip",t.MiddleFingerMetacarpal="middle-finger-metacarpal",t.MiddleFingerPhalanxProximal="middle-finger-phalanx-proximal",t.MiddleFingerPhalanxIntermediate="middle-finger-phalanx-intermediate",t.MiddleFingerPhalanxDistal="middle-finger-phalanx-distal",t.MiddleFingerTip="middle-finger-tip",t.RingFingerMetacarpal="ring-finger-metacarpal",t.RingFingerPhalanxProximal="ring-finger-phalanx-proximal",t.RingFingerPhalanxIntermediate="ring-finger-phalanx-intermediate",t.RingFingerPhalanxDistal="ring-finger-phalanx-distal",t.RingFingerTip="ring-finger-tip",t.PinkyFingerMetacarpal="pinky-finger-metacarpal",t.PinkyFingerPhalanxProximal="pinky-finger-phalanx-proximal",t.PinkyFingerPhalanxIntermediate="pinky-finger-phalanx-intermediate",t.PinkyFingerPhalanxDistal="pinky-finger-phalanx-distal",t.PinkyFingerTip="pinky-finger-tip"})(Ur||(Ur={}));class oo extends Map{}class lo extends le{constructor(e,n,r){super(n,r),this[en]={jointName:e,radius:0}}get jointName(){return this[en].jointName}}const d3={jointTransforms:{wrist:{offsetMatrix:[.9060805439949036,-.1844543218612671,.3807799518108368,0,-.08027800172567368,.8086723685264587,.5827555656433105,0,-.4154181182384491,-.5585917234420776,.7179155349731445,0,-.06867414712905884,-.009423808194696903,.10627774149179459,1],radius:.021460847929120064},"thumb-metacarpal":{offsetMatrix:[-.5012241005897522,-.8650535345077515,-.0213695727288723,0,.7415963411331177,-.4421543478965759,.5045139193534851,0,-.44587990641593933,.23702676594257355,.8631392121315002,0,-.032122574746608734,-.01196830440312624,.07194234430789948,1],radius:.019382517784833908},"thumb-phalanx-proximal":{offsetMatrix:[-.3175753057003021,-.9460570216178894,-.06419729441404343,0,.8958902955055237,-.32153913378715515,.30658137798309326,0,-.3106854259967804,.03984907269477844,.9496771097183228,0,-.017625702545046806,-.01967475935816765,.04387917369604111,1],radius:.01228295173496008},"thumb-phalanx-distal":{offsetMatrix:[-.4944636821746826,-.8691971898078918,.001086252392269671,0,.8307800889015198,-.4722411036491394,.2946045398712158,0,-.25555649399757385,.14657381176948547,.9556186199188232,0,-.007126678712666035,-.021021386608481407,.011786630377173424,1],radius:.009768804535269737},"thumb-tip":{offsetMatrix:[-.4944636821746826,-.8691971898078918,.001086252392269671,0,.8307800889015198,-.4722411036491394,.2946045398712158,0,-.25555649399757385,.14657381176948547,.9556186199188232,0,.0003423091256991029,-.024528030306100845,-.011410919018089771,1],radius:.008768804371356964},"index-finger-metacarpal":{offsetMatrix:[.9060805439949036,-.1844543218612671,.3807799518108368,0,-.08027800172567368,.8086723685264587,.5827555656433105,0,-.4154181182384491,-.5585917234420776,.7179155349731445,0,-.038037415593862534,-.0020236473064869642,.07626739144325256,1],radius:.021228281781077385},"index-finger-phalanx-proximal":{offsetMatrix:[.7986818552017212,-.35985732078552246,.48229536414146423,0,.538311243057251,.7854709625244141,-.30537736415863037,0,-.2689369022846222,.5035246014595032,.8210577368736267,0,-.006869405973702669,.033938243985176086,.04206443578004837,1],radius:.010295259766280651},"index-finger-phalanx-intermediate":{offsetMatrix:[.8285930156707764,-.32672837376594543,.4546217918395996,0,.5577570199966431,.4116027057170868,-.7207564115524292,0,.04836784675717354,.8507823944091797,.5232869386672974,0,.0033306588884443045,.014840902760624886,.010923954658210278,1],radius:.00853810179978609},"index-finger-phalanx-distal":{offsetMatrix:[.8412464261054993,-.35794928669929504,.4051857888698578,0,.5139996409416199,.29711154103279114,-.8046918511390686,0,.16765329241752625,.8852096796035767,.4339304566383362,0,.0021551470272243023,-.0058362227864563465,-.0017938464879989624,1],radius:.007636196445673704},"index-finger-tip":{offsetMatrix:[.8412464261054993,-.35794928669929504,.4051857888698578,0,.5139996409416199,.29711154103279114,-.8046918511390686,0,.16765329241752625,.8852096796035767,.4339304566383362,0,-.00131594471167773,-.025222131982445717,-.012442642822861671,1],radius:.006636196281760931},"middle-finger-metacarpal":{offsetMatrix:[.9060805439949036,-.1844543218612671,.3807799518108368,0,-.08027800172567368,.8086723685264587,.5827555656433105,0,-.4154181182384491,-.5585917234420776,.7179155349731445,0,-.05395089089870453,.003063359996303916,.07402937114238739,1],radius:.021231964230537415},"middle-finger-phalanx-proximal":{offsetMatrix:[.9187911748886108,-.1530158370733261,.36387869715690613,0,.038666240870952606,.9522662162780762,.302808940410614,0,-.3928440511226654,-.26414817571640015,.8808513283729553,0,-.02717282809317112,.04162866622209549,.03678669035434723,1],radius:.01117393933236599},"middle-finger-phalanx-intermediate":{offsetMatrix:[.9228746294975281,-.12856416404247284,.36300456523895264,0,.14524033665657043,.9892153143882751,-.01890045404434204,0,-.3566599190235138,.07016586512327194,.9315956234931946,0,-.01030921470373869,.05296773463487625,-.0010256498353555799,1],radius:.008030958473682404},"middle-finger-phalanx-distal":{offsetMatrix:[.9325166344642639,-.040404170751571655,.35885775089263916,0,.06836572289466858,.995502769947052,-.0655682161450386,0,-.3545948565006256,.08567725121974945,.9310863614082336,0,-.0004833847051486373,.05103470757603645,-.026690717786550522,1],radius:.007629410829395056},"middle-finger-tip":{offsetMatrix:[.9325166344642639,-.040404170751571655,.35885775089263916,0,.06836572289466858,.995502769947052,-.0655682161450386,0,-.3545948565006256,.08567725121974945,.9310863614082336,0,.008158999495208263,.05004044249653816,-.050120558589696884,1],radius:.006629410665482283},"ring-finger-metacarpal":{offsetMatrix:[.9060805439949036,-.1844543218612671,.3807799518108368,0,-.08027800172567368,.8086723685264587,.5827555656433105,0,-.4154181182384491,-.5585917234420776,.7179155349731445,0,-.06732909381389618,.007902119308710098,.07209732383489609,1],radius:.019088275730609894},"ring-finger-phalanx-proximal":{offsetMatrix:[.9391821026802063,-.027994679287075996,.34227466583251953,0,-.18282271921634674,.8029410243034363,.5673282742500305,0,-.2907087206840515,-.5954000353813171,.7489906549453735,0,-.047129884362220764,.03806127607822418,.032147664576768875,1],radius:.00992213748395443},"ring-finger-phalanx-intermediate":{offsetMatrix:[.9249380826950073,.03699534013867378,.3783116042613983,0,-.12898847460746765,.9667453765869141,.2208271026611328,0,-.3575615882873535,-.25304901599884033,.8989526629447937,0,-.03579339757561684,.06127955764532089,.002939916681498289,1],radius:.007611672393977642},"ring-finger-phalanx-distal":{offsetMatrix:[.9001164436340332,.03983335196971893,.4338230490684509,0,-.09662467986345291,.9892624020576477,.10964841395616531,0,-.4247973561286926,-.14061418175697327,.8943013548851013,0,-.026291755959391594,.06800390034914017,-.02094830758869648,1],radius:.007231088820844889},"ring-finger-tip":{offsetMatrix:[.9001164436340332,.03983335196971893,.4338230490684509,0,-.09662467986345291,.9892624020576477,.10964841395616531,0,-.4247973561286926,-.14061418175697327,.8943013548851013,0,-.016345610842108727,.07300511747598648,-.04263874143362045,1],radius:.0062310886569321156},"pinky-finger-metacarpal":{offsetMatrix:[.8769711852073669,.31462907791137695,.36322021484375,0,-.4506046175956726,.801031768321991,.39408499002456665,0,-.16696058213710785,-.5092697143554688,.8442559838294983,0,-.07460174709558487,.0062340241856873035,.06756893545389175,1],radius:.01808827556669712},"pinky-finger-phalanx-proximal":{offsetMatrix:[.9498357176780701,.1553308218717575,.2714462876319885,0,-.3019258379936218,.6817675232887268,.6663586497306824,0,-.08155745267868042,-.7148879170417786,.694466233253479,0,-.06697750836610794,.029482364654541016,.02902858518064022,1],radius:.008483353070914745},"pinky-finger-phalanx-intermediate":{offsetMatrix:[.9214097261428833,.27928245067596436,.2701927423477173,0,-.3670244514942169,.8538867831230164,.36901235580444336,0,-.12765564024448395,-.43917882442474365,.8892839550971985,0,-.06447203457355499,.05144399777054787,.0076942890882492065,1],radius:.0067641944624483585},"pinky-finger-phalanx-distal":{offsetMatrix:[.9038633704185486,.23618005216121674,.3567195236682892,0,-.3532794713973999,.8823202252388,.3109731376171112,0,-.24129553139209747,-.4070987403392792,.8809353709220886,0,-.06187915802001953,.060364335775375366,-.010368337854743004,1],radius:.0064259846694767475},"pinky-finger-tip":{offsetMatrix:[.9038633704185486,.23618005216121674,.3567195236682892,0,-.3532794713973999,.8823202252388,.3109731376171112,0,-.24129553139209747,-.4070987403392792,.8809353709220886,0,-.056796226650476456,.07042007893323898,-.02921444922685623,1],radius:.005425984505563974}},gripOffsetMatrix:[.08027800917625427,-.8086723685264587,-.5827556252479553,0,-.4154181480407715,-.5585916638374329,.7179154753684998,0,-.9060805439949036,.1844543218612671,-.3807799518108368,0,-.038054611533880234,-.002910431008785963,.03720742464065552,1]},p3={jointTransforms:{wrist:{offsetMatrix:[.9340395331382751,-.13936476409435272,.32885703444480896,0,-.005510995630174875,.914999783039093,.40341612696647644,0,-.3571262061595917,-.37861889600753784,.8538784384727478,0,-.05789132043719292,.01670890860259533,.11183350533246994,1],radius:.021460847929120064},"thumb-metacarpal":{offsetMatrix:[.02145560085773468,-.9978390336036682,.0621047280728817,0,.41311800479888916,.06541631370782852,.9083252549171448,0,-.9104245901107788,.006167683284729719,.4136286973953247,0,-.016488194465637207,.012708572670817375,.08862338215112686,1],radius:.019382517784833908},"thumb-phalanx-proximal":{offsetMatrix:[.21270370483398438,-.966137707233429,.14606566727161407,0,.49890995025634766,.2359165996313095,.8339261412620544,0,-.8401462435722351,-.10450579971075058,.5321959853172302,0,.013112368993461132,.012508046813309193,.07517509907484055,1],radius:.01228295173496008},"thumb-phalanx-distal":{offsetMatrix:[.01653280481696129,-.9986647963523865,.048943229019641876,0,.26313456892967224,.051570065319538116,.9633802771568298,0,-.9646173715591431,-.0030490627977997065,.26363563537597656,0,.04150351136922836,.016039609909057617,.05719054117798805,1],radius:.009768804535269737},"thumb-tip":{offsetMatrix:[.01653280481696129,-.9986647963523865,.048943229019641876,0,.26313456892967224,.051570065319538116,.9633802771568298,0,-.9646173715591431,-.0030490627977997065,.26363563537597656,0,.06548332422971725,.01683700829744339,.0516640841960907,1],radius:.008768804371356964},"index-finger-metacarpal":{offsetMatrix:[.9340395331382751,-.13936476409435272,.32885703444480896,0,-.005510995630174875,.914999783039093,.40341612696647644,0,-.3571262061595917,-.37861889600753784,.8538784384727478,0,-.02592567168176174,.019982583820819855,.08479326963424683,1],radius:.021228281781077385},"index-finger-phalanx-proximal":{offsetMatrix:[.9063700437545776,-.21756279468536377,.3621589243412018,0,.0970839336514473,.9415287375450134,.3226419687271118,0,-.41117796301841736,-.2572731077671051,.8744958639144897,0,-.0015709538711234927,.043078210204839706,.034657616168260574,1],radius:.010295259766280651},"index-finger-phalanx-intermediate":{offsetMatrix:[.9159826040267944,-.1651475727558136,.36565208435058594,0,.09755707532167435,.9756820797920227,.1962820291519165,0,-.3891757130622864,-.14411886036396027,.9098196625709534,0,.014023927971720695,.052835866808891296,.0014903299743309617,1],radius:.00853810179978609},"index-finger-phalanx-distal":{offsetMatrix:[.9378057718276978,-.12329639494419098,.3245268166065216,0,.032558172941207886,.9619227051734924,.2713746726512909,0,-.3456292748451233,-.2439306229352951,.9061115384101868,0,.023482320830225945,.05633850023150444,-.020621655508875847,1],radius:.007636196445673704},"index-finger-tip":{offsetMatrix:[.9378057718276978,-.12329639494419098,.3245268166065216,0,.032558172941207886,.9619227051734924,.2713746726512909,0,-.3456292748451233,-.2439306229352951,.9061115384101868,0,.03096788562834263,.06281610578298569,-.040703095495700836,1],radius:.006636196281760931},"middle-finger-metacarpal":{offsetMatrix:[.9340395331382751,-.13936476409435272,.32885703444480896,0,-.005510995630174875,.914999783039093,.40341612696647644,0,-.3571262061595917,-.37861889600753784,.8538784384727478,0,-.04184452444314957,.022474845871329308,.08177298307418823,1],radius:.021231964230537415},"middle-finger-phalanx-proximal":{offsetMatrix:[.9720265865325928,-.08313076198101044,.21966552734375,0,.20477405190467834,.7580050826072693,-.6192700862884521,0,-.11502730846405029,.6469289064407349,.7538246512413025,0,-.022107340395450592,.05035499855875969,.02970452979207039,1],radius:.01117393933236599},"middle-finger-phalanx-intermediate":{offsetMatrix:[.9779140949249268,-.07129573822021484,.19646917283535004,0,.1287083923816681,-.5352076292037964,-.8348574042320251,0,.1646735966205597,.8417060971260071,-.5142109394073486,0,-.017169542610645294,.022584279999136925,-.00265491777099669,1],radius:.008030958473682404},"middle-finger-phalanx-distal":{offsetMatrix:[.9774913787841797,-.19657190144062042,.07661263644695282,0,-.1924918293952942,-.9796126484870911,-.05749811604619026,0,.08635343611240387,.041456472128629684,-.995401918888092,0,-.02170622907578945,-.0006043742760084569,.011511396616697311,1],radius:.007629410829395056},"middle-finger-tip":{offsetMatrix:[.9774913787841797,-.19657190144062042,.07661263644695282,0,-.1924918293952942,-.9796126484870911,-.05749811604619026,0,.08635343611240387,.041456472128629684,-.995401918888092,0,-.02438267692923546,-.0026927536819130182,.03627248480916023,1],radius:.006629410665482283},"ring-finger-metacarpal":{offsetMatrix:[.9340395331382751,-.13936476409435272,.32885703444480896,0,-.005510995630174875,.914999783039093,.40341612696647644,0,-.3571262061595917,-.37861889600753784,.8538784384727478,0,-.05944233387708664,.0264605600386858,.07478221505880356,1],radius:.019088275730609894},"ring-finger-phalanx-proximal":{offsetMatrix:[.9842101335525513,.024470895528793335,.1753024309873581,0,.12200043350458145,.6237703561782837,-.7720272541046143,0,-.12824076414108276,.7812241315841675,.610936164855957,0,-.04249368980526924,.0467497780919075,.027722163125872612,1],radius:.00992213748395443},"ring-finger-phalanx-intermediate":{offsetMatrix:[.9941774606704712,.05949164181947708,.08983955532312393,0,.10504482686519623,-.7208291888237,-.6851072907447815,0,.024001073092222214,.6905553936958313,-.7228817939758301,0,-.0374927744269371,.016285063698887825,.0038980208337306976,1],radius:.007611672393977642},"ring-finger-phalanx-distal":{offsetMatrix:[.9995742440223694,.01638498157262802,.02412819117307663,0,.007813597097992897,-.9474818110466003,.31971633434295654,0,.028100071474909782,-.31939181685447693,-.9472070932388306,0,-.038130562752485275,-.0020653479732573032,.02310742810368538,1],radius:.007231088820844889},"ring-finger-tip":{offsetMatrix:[.9995742440223694,.01638498157262802,.02412819117307663,0,.007813597097992897,-.9474818110466003,.31971633434295654,0,.028100071474909782,-.31939181685447693,-.9472070932388306,0,-.0390593595802784,.004176302347332239,.0466572530567646,1],radius:.0062310886569321156},"pinky-finger-metacarpal":{offsetMatrix:[.9147363901138306,.3458845317363739,.20885537564754486,0,-.3923271894454956,.8839452862739563,.2544005811214447,0,-.09662359952926636,-.3146490156650543,.9442773461341858,0,-.06715242564678192,.024195827543735504,.07137546688318253,1],radius:.01808827556669712},"pinky-finger-phalanx-proximal":{offsetMatrix:[.9613109827041626,.22439135611057281,.15977802872657776,0,.01002211682498455,.5511574745178223,-.8343409299850464,0,-.27528178691864014,.8036624789237976,.5275853276252747,0,-.06273911893367767,.038559623062610626,.028268879279494286,1],radius:.008483353070914745},"pinky-finger-phalanx-intermediate":{offsetMatrix:[.9820972084999084,.18811029195785522,-.00995189044624567,0,.14063723385334015,-.7673450708389282,-.6256227493286133,0,-.12532226741313934,.6130226850509644,-.7800630927085876,0,-.05428232625126839,.013870777562260628,.012061242014169693,1],radius:.0067641944624483585},"pinky-finger-phalanx-distal":{offsetMatrix:[.9744614362716675,.20454788208007812,-.09265263378620148,0,.22429193556308746,-.9065253138542175,.35764020681381226,0,-.010836843401193619,-.3692878782749176,-.9292529225349426,0,-.05173685774207115,.0014194445684552193,.02790539152920246,1],radius:.0064259846694767475},"pinky-finger-tip":{offsetMatrix:[.9744614362716675,.20454788208007812,-.09265263378620148,0,.22429193556308746,-.9065253138542175,.35764020681381226,0,-.010836843401193619,-.3692878782749176,-.9292529225349426,0,-.05098633095622063,.008463085629045963,.048688892275094986,1],radius:.005425984505563974}},gripOffsetMatrix:[.005510995630174875,-.9149997234344482,-.40341615676879883,0,-.3571262061595917,-.37861889600753784,.8538784384727478,0,-.9340395331382751,.13936474919319153,-.32885703444480896,0,-.031803809106349945,.007837686687707901,.04313928261399269,1]},m3={jointTransforms:{wrist:{offsetMatrix:[.9616971015930176,-.13805118203163147,.2368120402097702,0,.0005348679260350764,.8648636937141418,.5020061135292053,0,-.2741127610206604,-.48265108466148376,.8318111300468445,0,-.04913589730858803,.0021463718730956316,.11701996624469757,1],radius:.021460847929120064},"thumb-metacarpal":{offsetMatrix:[-.07536252588033676,-.9959676265716553,-.04867160692811012,0,.5877083539962769,-.08379616588354111,.8047218918800354,0,-.8055551648139954,.032041035592556,.5916536450386047,0,-.010643752291798592,.0006936835707165301,.08736639469861984,1],radius:.019382517784833908},"thumb-phalanx-proximal":{offsetMatrix:[.1374533325433731,-.9904957413673401,.004982374142855406,0,.5534393787384033,.08097179979085922,.8289443850517273,0,-.8214688897132874,-.11118389666080475,.559309184551239,0,.015547193586826324,-.0003480653394944966,.0681300163269043,1],radius:.01228295173496008},"thumb-phalanx-distal":{offsetMatrix:[-.04659227654337883,-.9974699020385742,-.05369402840733528,0,.6812446117401123,-.07104194164276123,.728600800037384,0,-.7305715084075928,-.002631746232509613,.6828309893608093,0,.04330715537071228,.003409178927540779,.0492292083799839,1],radius:.009768804535269737},"thumb-tip":{offsetMatrix:[-.04659227654337883,-.9974699020385742,-.05369402840733528,0,.6812446117401123,-.07104194164276123,.728600800037384,0,-.7305715084075928,-.002631746232509613,.6828309893608093,0,.062003348022699356,.004069602582603693,.03322213143110275,1],radius:.008768804371356964},"index-finger-metacarpal":{offsetMatrix:[.9616971015930176,-.13805118203163147,.2368120402097702,0,.0005348679260350764,.8648636937141418,.5020061135292053,0,-.2741127610206604,-.48265108466148376,.8318111300468445,0,-.02009812369942665,.008770795539021492,.08660387247800827,1],radius:.021228281781077385},"index-finger-phalanx-proximal":{offsetMatrix:[.9001791477203369,-.2598813474178314,.3494834005832672,0,.06073702871799469,.8695210218429565,.490146666765213,0,-.4312632381916046,-.41999316215515137,.7985095381736755,0,-.00017739279428496957,.03890012577176094,.039073407649993896,1],radius:.010295259766280651},"index-finger-phalanx-intermediate":{offsetMatrix:[.9082008600234985,-.20898112654685974,.36262574791908264,0,.11045389622449875,.9553793668746948,.27395179867744446,0,-.40369608998298645,-.20874978601932526,.8907597661018372,0,.01617925800383091,.05482936650514603,.008788082748651505,1],radius:.00853810179978609},"index-finger-phalanx-distal":{offsetMatrix:[.9309692978858948,-.16783711314201355,.32423174381256104,0,.1080828532576561,.9749603867530823,.1943446695804596,0,-.34873148798942566,-.14588497579097748,.9257990717887878,0,.02599053829908371,.059902746230363846,-.012860597111284733,1],radius:.007636196445673704},"index-finger-tip":{offsetMatrix:[.9309692978858948,-.16783711314201355,.32423174381256104,0,.1080828532576561,.9749603867530823,.1943446695804596,0,-.34873148798942566,-.14588497579097748,.9257990717887878,0,.03362493962049484,.06421422213315964,-.033461250364780426,1],radius:.006636196281760931},"middle-finger-metacarpal":{offsetMatrix:[.9616971015930176,-.13805118203163147,.2368120402097702,0,.0005348679260350764,.8648636937141418,.5020061135292053,0,-.2741127610206604,-.48265108466148376,.8318111300468445,0,-.03627845644950867,.011579737067222595,.08550142496824265,1],radius:.021231964230537415},"middle-finger-phalanx-proximal":{offsetMatrix:[.9876697659492493,-.06786545366048813,.1410750150680542,0,-.015095947310328484,.855663537979126,.5173118710517883,0,-.15582047402858734,-.5130629539489746,.8440889716148376,0,-.021259509027004242,.04587256908416748,.03659208118915558,1],radius:.01117393933236599},"middle-finger-phalanx-intermediate":{offsetMatrix:[.988391637802124,-.04354291781783104,.14555205404758453,0,.008894841186702251,.9729899168014526,.23067504167556763,0,-.15166506171226501,-.22670257091522217,.9620829224586487,0,-.014570588245987892,.06789684295654297,.0003578895702958107,1],radius:.008030958473682404},"middle-finger-phalanx-distal":{offsetMatrix:[.9853697419166565,.044260796159505844,.16458062827587128,0,-.0757969319820404,.9787378311157227,.19059516489505768,0,-.1526455283164978,-.20028135180473328,.9677740931510925,0,-.010392282158136368,.07414241135120392,-.026147106662392616,1],radius:.007629410829395056},"middle-finger-tip":{offsetMatrix:[.9853697419166565,.044260796159505844,.16458062827587128,0,-.0757969319820404,.9787378311157227,.19059516489505768,0,-.1526455283164978,-.20028135180473328,.9677740931510925,0,-.0069718430750072,.08024183660745621,-.05014154314994812,1],radius:.006629410665482283},"ring-finger-metacarpal":{offsetMatrix:[.9616971015930176,-.13805118203163147,.2368120402097702,0,.0005348679260350764,.8648636937141418,.5020061135292053,0,-.2741127610206604,-.48265108466148376,.8318111300468445,0,-.05402477830648422,.015797706320881844,.08152295649051666,1],radius:.019088275730609894},"ring-finger-phalanx-proximal":{offsetMatrix:[.9940828680992126,.05735103040933609,.09224652498960495,0,-.10022822767496109,.8116500377655029,.5754809379577637,0,-.041867565363645554,-.5813214182853699,.8125960826873779,0,-.041623555123806,.04171867296099663,.03582974523305893,1],radius:.00992213748395443},"ring-finger-phalanx-intermediate":{offsetMatrix:[.9843675494194031,.12044742703437805,.12850022315979004,0,-.15629759430885315,.9337108135223389,.3221098482608795,0,-.08118485659360886,-.3371586799621582,.937940776348114,0,-.039990875869989395,.06438793987035751,.004141641780734062,1],radius:.007611672393977642},"ring-finger-phalanx-distal":{offsetMatrix:[.9748351573944092,.11857274919748306,.18877571821212769,0,-.15575434267520905,.9681083559989929,.19623035192489624,0,-.15948788821697235,-.22069483995437622,.9622148275375366,0,-.03783353418111801,.07334739714860916,-.020782606676220894,1],radius:.007231088820844889},"ring-finger-tip":{offsetMatrix:[.9748351573944092,.11857274919748306,.18877571821212769,0,-.15575434267520905,.9681083559989929,.19623035192489624,0,-.15948788821697235,-.22069483995437622,.9622148275375366,0,-.03445569798350334,.0802423357963562,-.04392268508672714,1],radius:.0062310886569321156},"pinky-finger-metacarpal":{offsetMatrix:[.9181402921676636,.35625091195106506,.17350243031978607,0,-.39615097641944885,.8352503180503845,.38134080171585083,0,-.009065053425729275,-.41885748505592346,.9080066680908203,0,-.06191859766840935,.013620133511722088,.07850203663110733,1],radius:.01808827556669712},"pinky-finger-phalanx-proximal":{offsetMatrix:[.9714386463165283,.236698180437088,-.016745081171393394,0,-.18462024629116058,.7982627749443054,.5733163952827454,0,.14906984567642212,-.5538501739501953,.8191629648208618,0,-.061502378433942795,.032741155475378036,.03705105185508728,1],radius:.008483353070914745},"pinky-finger-phalanx-intermediate":{offsetMatrix:[.9337416291236877,.35620439052581787,-.03527557849884033,0,-.33203884959220886,.8987522721290588,.28634607791900635,0,.13370157778263092,-.2556603252887726,.9574766755104065,0,-.06608185172080994,.049755651503801346,.011886020191013813,1],radius:.0067641944624483585},"pinky-finger-phalanx-distal":{offsetMatrix:[.9419984817504883,.3303581774234772,.059175245463848114,0,-.33483216166496277,.9130291938781738,.23294763267040253,0,.02292730286717415,-.2392500638961792,.970687210559845,0,-.0687975287437439,.054948460310697556,-.007561664097011089,1],radius:.0064259846694767475},"pinky-finger-tip":{offsetMatrix:[.9419984817504883,.3303581774234772,.059175245463848114,0,-.33483216166496277,.9130291938781738,.23294763267040253,0,.02292730286717415,-.2392500638961792,.970687210559845,0,-.06947512179613113,.0613851435482502,-.028543535619974136,1],radius:.005425984505563974}},gripOffsetMatrix:[-.0005348679260350764,-.8648636937141418,-.5020061135292053,0,-.2741127908229828,-.48265108466148376,.8318111896514893,0,-.9616971015930176,.13805119693279266,-.2368120402097702,0,-.02878567762672901,.0017147823236882687,.04536811262369156,1]},Ql={profileId:"oculus-hand",fallbackProfileIds:["generic-hand","generic-hand-select","generic-trigger"],poses:{default:m3,pinch:d3,point:p3}},g3={mapping:jr.None,buttons:[{id:"pinch",type:"analog",eventTrigger:"select"}],axes:[]},Kl=xe(),Jl=Ze(),ec=xe(),tc=xe(),nc=Ze(),rc=xe(),ic=xe(),sc=Ze(),ac=xe(),oc=(t,e,n,r)=>(Br(Kl,e),ki(Jl,e),ga(ec,e),Br(tc,n),ki(nc,n),ga(rc,n),xa(ic,Kl,tc,r),Or(sc,Jl,nc,r),xa(ac,ec,rc,r),Up(t,sc,ic,ac),t),x3=[1,-1,-1,0,-1,1,1,0,-1,1,1,0,-1,1,1,1],y3=t=>{for(let e=0;e<16;e++)t[e]*=x3[e]};class lc extends Ru{constructor(e,n,r){if(n!==Le.Left&&n!==Le.Right)throw new DOMException('handedness for XRHandInput must be either "left" or "right"',"InvalidStateError");if(!e.poses.default||!e.poses.pinch)throw new DOMException('"default" and "pinch" hand pose configs are required',"InvalidStateError");const i=new le(r),s=new le(i),a=[e.profileId,...e.fallbackProfileIds],o=new oo;Object.values(Ur).forEach(c=>{o.set(c,new lo(c,i))});const l=new Ki(n,Ci.TrackedPointer,a,i,new so(g3),s,o);super(l),this[$t]={poseId:"default",poses:e.poses},this.updateHandPose()}get poseId(){return this[$t].poseId}set poseId(e){if(!this[$t].poses[e]){console.warn(`Pose config ${e} not found`);return}this[$t].poseId=e}updateHandPose(){const e=this[$t].poses[this[$t].poseId],n=this[$t].poses.pinch;Object.values(Ur).forEach(r=>{const i=e.jointTransforms[r].offsetMatrix,s=n.jointTransforms[r].offsetMatrix,a=this.inputSource.hand.get(r);oc(a[he].offsetMatrix,i,s,this.pinchValue),this.inputSource.handedness===Le.Right&&y3(a[he].offsetMatrix),a[en].radius=(1-this.pinchValue)*e.jointTransforms[r].radius+this.pinchValue*n.jointTransforms[r].radius}),e.gripOffsetMatrix&&n.gripOffsetMatrix&&oc(this.inputSource.gripSpace[he].offsetMatrix,e.gripOffsetMatrix,n.gripOffsetMatrix,this.pinchValue)}get pinchValue(){return this[oe].inputSource.gamepad[L].buttonsMap.pinch.value}updatePinchValue(e){if(e>1||e<0){console.warn(`Out-of-range value ${e} provided for pinch`);return}const n=this[oe].inputSource.gamepad[L].buttonsMap.pinch;n[L].pendingValue=e}onFrameStart(e){super.onFrameStart(e),this.updateHandPose()}}class zu extends EventTarget{}const v3={antialias:!0,depth:!0,stencil:!1,alpha:!0,ignoreDepthValues:!1,framebufferScaleFactor:1};class w3 extends zu{constructor(e,n,r={}){if(super(),e[p].ended)throw new DOMException("Session has ended","InvalidStateError");const i={...v3,...r};this[Mt]={session:e,context:n,antialias:i.antialias}}get context(){return this[Mt].context}get antialias(){return this[Mt].antialias}get ignoreDepthValues(){return!0}get framebuffer(){return null}get framebufferWidth(){return this[Mt].context.drawingBufferWidth}get framebufferHeight(){return this[Mt].context.drawingBufferHeight}getViewport(e){if(e[Wt].session!==this[Mt].session)throw new DOMException("View's session differs from Layer's session","InvalidStateError");return this[Mt].session[p].device[b].getViewport(this,e)}static getNativeFramebufferScaleFactor(e){if(!(e instanceof ao))throw new TypeError("getNativeFramebufferScaleFactor must be passed a session.");return e[p].ended?0:1}}class b3{constructor(e,n,r){const{schema:i,frames:s}=n;if(!s||!i||s.length===0)throw new DOMException("wrong recording format","NotSupportedError");const a=new an(me.Viewer,e),o={[te.Left]:new le(a),[te.Right]:new le(a),[te.None]:new le(a)};this[B]={refSpace:e,inputSources:new Map,inputSchemas:new Map,frames:s,recordedFramePointer:0,startingTimeStamp:s[0][0],endingTimeStamp:s[s.length-1][0],playbackTime:s[0][0],playing:!1,viewerSpace:a,viewSpaces:o,vec3:xe(),quat:Ze()},Yn(this[B].viewSpaces[te.Left][he].offsetMatrix,qe(-r/2,0,0)),Yn(this[B].viewSpaces[te.Right][he].offsetMatrix,qe(r/2,0,0)),i.forEach(l=>{const c=l[0],f=l[1];let h;if(f.hasGamepad){const y=[];for(let v=0;v<f.numButtons;v++)y.push({id:v.toString(),type:"manual"});const x=[];for(let v=0;v<f.numAxes;v++)x.push({id:v.toString(),type:"manual"});h=new so({mapping:f.mapping,buttons:y,axes:x})}const d=new le(e);let m;f.hasHand&&(m=new oo,Object.values(Ur).forEach(y=>{m.set(y,new lo(y,d))}));const g=new Ki(f.handedness,f.targetRayMode,f.profiles,d,h,f.hasGrip?new le(e):void 0,f.hasHand?m:void 0);this[B].inputSources.set(c,{active:!1,source:g}),this[B].inputSchemas.set(c,f)})}play(){this[B].recordedFramePointer=0,this[B].playbackTime=this[B].startingTimeStamp,this[B].playing=!0,this[B].actualTimeStamp=performance.now()}stop(){this[B].playing=!1}get playing(){return this[B].playing}get viewerSpace(){return this[B].viewerSpace}get viewSpaces(){return this[B].viewSpaces}get inputSources(){return Array.from(this[B].inputSources.values()).filter(e=>e.active).map(e=>e.source)}playFrame(){const e=performance.now(),n=e-this[B].actualTimeStamp;if(this[B].actualTimeStamp=e,this[B].playbackTime+=n,this[B].playbackTime>this[B].endingTimeStamp){this.stop();return}for(;this[B].frames[this[B].recordedFramePointer+1][0]<this[B].playbackTime;)this[B].recordedFramePointer++;const r=this[B].frames[this[B].recordedFramePointer],i=this[B].frames[this[B].recordedFramePointer+1],s=(this[B].playbackTime-r[0])/(i[0]-r[0]);this.updateXRSpaceFromMergedFrames(this[B].viewerSpace,r.slice(1,8),i.slice(1,8),s);const a=new Map;for(let l=8;l<r.length;l++){const{index:c,inputData:f}=this.processRawInputData(r[l]);a.set(c,f)}const o=new Map;for(let l=8;l<i.length;l++){const{index:c,inputData:f}=this.processRawInputData(i[l]);o.set(c,f)}this[B].inputSources.forEach(l=>{l.active=!1}),o.forEach((l,c)=>{this[B].inputSources.get(c).active=!0;const f=this[B].inputSources.get(c).source,h=this[B].inputSchemas.get(c);this.updateInputSource(f,h,a.has(c)?a.get(c):l,l,s)})}updateInputSource(e,n,r,i,s){if(this.updateXRSpaceFromMergedFrames(e.targetRaySpace,r.targetRayTransform,i.targetRayTransform,s),n.hasGrip&&this.updateXRSpaceFromMergedFrames(e.gripSpace,r.gripTransform,i.gripTransform,s),n.hasHand)for(let a=0;a<25;a++){const o=r.handTransforms.slice(a*8,a*8+7),l=i.handTransforms.slice(a*8,a*8+7),c=r.handTransforms[a*8+7],f=i.handTransforms[a*8+7],h=e.hand.get(n.jointSequence[a]);this.updateXRSpaceFromMergedFrames(h,o,l,s),h[en].radius=(f-c)*s+c}if(n.hasGamepad){const a=e.gamepad;i.buttons.forEach((o,l)=>{const c=a.buttons[l];c[L].pressed=o[0]===1,c[L].touched=o[1]===1;const f=r.buttons[l][2],h=o[2];c[L].value=(h-f)*s+f}),i.axes.forEach((o,l)=>{const c=r.axes[l];a[L].axesMap[l.toString()].x=(o-c)*s+c})}}updateXRSpaceFromMergedFrames(e,n,r,i){const s=qe(n[0],n[1],n[2]),a=Li(n[3],n[4],n[5],n[6]),o=qe(r[0],r[1],r[2]),l=Li(r[3],r[4],r[5],r[6]);xa(this[B].vec3,s,o,i),Or(this[B].quat,a,l,i),qr(e[he].offsetMatrix,this[B].quat,this[B].vec3)}processRawInputData(e){const n=e[0],r=this[B].inputSchemas.get(n),s={targetRayTransform:e.slice(1,8)};let a=8;if(r.hasGrip&&(s.gripTransform=e[a++]),r.hasHand&&(s.handTransforms=e[a++]),r.hasGamepad){const o=e[a];s.buttons=o.slice(0,r.numButtons),s.axes=o.slice(r.numButtons)}return{index:n,inputData:s}}}const cc="2.1.1";class uc extends Event{constructor(e,n){if(super(e,n),!n.referenceSpace)throw new Error("XRReferenceSpaceEventInit.referenceSpace is required");this.referenceSpace=n.referenceSpace,this.transform=n.transform}}class fc extends EventTarget{constructor(e){super(),this[Ue]={device:e,grantSession:({resolve:n,reject:r,mode:i,options:s})=>{if(this[Ue].activeSession){r(new DOMException("An active XRSession already exists.","InvalidStateError"));return}const{requiredFeatures:a=[],optionalFeatures:o=[]}=s,{supportedFeatures:l}=this[Ue].device;if(!a.every(m=>l.includes(m))){r(new Error("One or more required features are not supported by the device."));return}const f=o.filter(m=>l.includes(m)),h=Array.from(new Set([...a,...f,"viewer","local"])),d=new ao(this[Ue].device,i,h);this[Ue].activeSession=d,d.addEventListener("end",()=>{this[Ue].activeSession=void 0}),n(d)}}}isSessionSupported(e){return new Promise((n,r)=>{n(e==="inline"?!0:this[Ue].device.supportedSessionModes.includes(e))})}requestSession(e,n={}){return new Promise((r,i)=>{this.isSessionSupported(e).then(s=>{if(!s){i(new DOMException("The requested XRSession mode is not supported.","NotSupportedError"));return}const a={resolve:r,reject:i,mode:e,options:n};this[Ue].grantSession(a)}).catch(i)})}offerSession(e,n={}){return new Promise((r,i)=>{this.isSessionSupported(e).then(s=>{if(!s){i(new DOMException("The requested XRSession mode is not supported.","NotSupportedError"));return}this[Ue].offeredSessionConfig={resolve:r,reject:i,mode:e,options:n}}).catch(i)})}}class ui{constructor(e,n,r,i){this[wr]={x:e,y:n,width:r,height:i}}get x(){return this[wr].x}get y(){return this[wr].y}get width(){return this[wr].width}get height(){return this[wr].height}}/**
 * @license
 * webxr-layers-polyfill
 * Version 1.1.0
 * Copyright (c) 2021 Facebook, Inc. and its affiliates.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*//**
 * @license
 * gl-matrix 
 * Version 3.4.3
 * Copyright (c) 2015-2021, Brandon Jones, Colin MacKenzie IV.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
*/var V;(function(t){t.texture="texture",t["texture-array"]="texture-array"})(V||(V={}));var O;(function(t){t.default="default",t.mono="mono",t.stereo="stereo",t["stereo-left-right"]="stereo-left-right",t["stereo-top-bottom"]="stereo-top-bottom"})(O||(O={}));const Vr=t=>t&&typeof t.getOffsetReferenceSpace=="function",Kn=()=>typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},ba=(t,e)=>{switch(e){case t.RGBA8:case t.RGB5_A1:case t.RGBA4:case t.SRGB8_ALPHA8:return{internalFormat:e,textureFormat:t.RGBA,type:t.UNSIGNED_BYTE};case t.RGBA8_SNORM:return{internalFormat:e,textureFormat:t.RGBA,type:t.BYTE};case t.RGB10_A2:return{internalFormat:e,textureFormat:t.RGBA,type:t.UNSIGNED_INT_2_10_10_10_REV};case t.RGBA16F:return{internalFormat:e,textureFormat:t.RGBA,type:t.HALF_FLOAT};case t.RGBA32F:return{internalFormat:e,textureFormat:t.RGBA,type:t.FLOAT};case t.RGBA8UI:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.UNSIGNED_BYTE};case t.RGBA8I:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.BYTE};case t.RGBA16UI:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.UNSIGNED_SHORT};case t.RGBA16I:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.SHORT};case t.RGBA32UI:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.UNSIGNED_INT};case t.RGBA32I:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.INT};case t.RGB10_A2UI:return{internalFormat:e,textureFormat:t.RGBA_INTEGER,type:t.UNSIGNED_INT_2_10_10_10_REV};case t.RGB8:case t.RGB565:case t.SRGB8:return{internalFormat:e,textureFormat:t.RGB,type:t.UNSIGNED_BYTE};case t.RGB8_SNORM:return{internalFormat:e,textureFormat:t.RGB,type:t.BYTE};case t.RGB16F:case t.R11F_G11F_B10F:case t.RGB9_E5:return{internalFormat:e,textureFormat:t.RGB,type:t.HALF_FLOAT};case t.RGB32F:return{internalFormat:e,textureFormat:t.RGB,type:t.FLOAT};case t.RGB8UI:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.UNSIGNED_BYTE};case t.RGB8I:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.BYTE};case t.RGB16UI:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.UNSIGNED_SHORT};case t.RGB16I:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.SHORT};case t.RGB32UI:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.UNSIGNED_INT};case t.RGB32I:return{internalFormat:e,textureFormat:t.RGB_INTEGER,type:t.INT};case t.DEPTH_COMPONENT16:return{internalFormat:e,textureFormat:t.DEPTH_COMPONENT,type:t.UNSIGNED_SHORT};case t.DEPTH_COMPONENT24:return{internalFormat:e,textureFormat:t.DEPTH_COMPONENT,type:t.UNSIGNED_INT};case t.DEPTH_COMPONENT32F:return{internalFormat:e,textureFormat:t.DEPTH_COMPONENT,type:t.FLOAT};case t.DEPTH24_STENCIL8:return{internalFormat:e,textureFormat:t.DEPTH_STENCIL,type:t.UNSIGNED_INT_24_8};case t.DEPTH32F_STENCIL8:return{internalFormat:e,textureFormat:t.DEPTH_STENCIL,type:t.FLOAT_32_UNSIGNED_INT_24_8_REV};case t.DEPTH_COMPONENT:return ba(t,t.DEPTH_COMPONENT24);case t.DEPTH_STENCIL:return ba(t,t.DEPTH24_STENCIL8);case t.RGBA:case t.RGB:case t.LUMINANCE_ALPHA:case t.LUMINANCE:case t.ALPHA:return{internalFormat:e,textureFormat:e,type:t.UNSIGNED_BYTE};default:throw new Error("Attempted to create polyfill with unsupported format.")}};class rr{constructor(){this._hasRunDeferredInitialize=!1,this._media=null}initialize(e,n){this.session=e,n&&(this.context=n),this.blendTextureSourceAlpha=!0}destroy(){this._colorTextures=[],this._depthStencilTextures=[]}addEventListener(e,n,r){}dispatchEvent(e){return!1}removeEventListener(e,n,r){}getContext(){return this.context}getTextureType(){throw new Error("Unimplemented")}get colorTextures(){return this._colorTextures}get depthStencilTextures(){return this._depthStencilTextures}get colorTexturesMeta(){return this._texturesMeta}get media(){return this.isMediaLayer()||console.warn("Attempted to retrieve media from a non-media layer"),this._media}determineLayoutAttribute(e,n,r){if(!(n instanceof WebGL2RenderingContext)&&e===V["texture-array"])throw new TypeError;if(r===O.mono)return r;if(r===O.default){if(this.session.internalViews&&this.session.internalViews.length===1)return O.mono;if(e===V["texture-array"])return r}return r===O.default||r===O.stereo?O["stereo-left-right"]:r}isMediaLayer(){return this._media!==null}_deferredInitialize(){}initializeIfNeeded(){this._hasRunDeferredInitialize||(this._hasRunDeferredInitialize=!0,this._deferredInitialize())}_allocateColorTexturesInternal(e,n){let i=this.session.internalViews;if(!i||i.length===0){console.warn("We can't allocate color textures without views");return}if(this.initializeIfNeeded(),this.layout===O.mono)if(e===V["texture-array"]){const s=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.colorFormat);this._texturesMeta=[s],this._colorTextures=[s.texture];return}else{const s=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.colorFormat);this._texturesMeta=[s],this._colorTextures=[s.texture];return}else if(this.layout===O.stereo)if(e===V["texture-array"]){const s=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.colorFormat,2);this._texturesMeta=[s],this._colorTextures=[s.texture];return}else{const s=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.colorFormat),a=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.colorFormat);this._texturesMeta=[s,a],this._colorTextures=[s.texture,a.texture];return}else if(this.layout===O["stereo-left-right"]){const s=this._createNewColorTexture(n.viewPixelWidth*2,n.viewPixelHeight,e,n.colorFormat);this._texturesMeta=[s],this._colorTextures=[s.texture];return}else if(this.layout===O["stereo-top-bottom"]){const s=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight*2,e,n.colorFormat);this._texturesMeta=[s],this._colorTextures=[s.texture];return}}_allocateDepthStencilTexturesInternal(e,n){if(!n.depthFormat){this._depthStencilTextures=[];return}if(this._getSupportedDepthFormats().indexOf(n.depthFormat)<0)throw new Error("Depth format provided is not supported in non-projection layers.");if(n.mipLevels<1)throw new Error("Invalid miplevel. Miplevel needs to be >= 1");if(this.layout===O.mono)if(e===V["texture-array"]){const r=this._createNewDepthStencilTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.depthFormat);this._depthStencilTextures=[r.texture];return}else{const r=this._createNewColorTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.depthFormat);this._depthStencilTextures=[r.texture];return}else if(this.layout===O.stereo)if(e===V["texture-array"]){const r=this._createNewDepthStencilTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.depthFormat,2);this._depthStencilTextures=[r.texture];return}else{const r=this._createNewDepthStencilTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.depthFormat),i=this._createNewDepthStencilTexture(n.viewPixelWidth,n.viewPixelHeight,e,n.depthFormat);this._depthStencilTextures=[r.texture,i.texture];return}else if(this.layout===O["stereo-left-right"]){const r=this._createNewDepthStencilTexture(n.viewPixelWidth*2,n.viewPixelHeight,e,n.depthFormat);this._depthStencilTextures=[r.texture];return}else if(this.layout===O["stereo-top-bottom"]){const r=this._createNewDepthStencilTexture(n.viewPixelWidth,n.viewPixelHeight*2,e,n.depthFormat);this._depthStencilTextures=[r.texture];return}}_createNewColorTexture(e,n,r,i,s=1){return this._createGenericPolyfillTexture(r,e,n,i,0,s)}_createNewDepthStencilTexture(e,n,r,i,s=1){return this._createGenericPolyfillTexture(r,e,n,i,0,s)}_createGenericPolyfillTexture(e,n,r,i,s=0,a=1){if(e===V["texture-array"]&&a<=1&&console.warn("creating a texture array with a single layer..."),e===V["texture-array"]&&this.context instanceof WebGLRenderingContext)throw new Error("WebGL 1 does not support texture array");let o=this.context.createTexture(),l={width:n,height:r,layers:a,type:e,textureFormat:i,texture:o},c=i,f=this.context.UNSIGNED_BYTE;if(this.context instanceof WebGL2RenderingContext){const h=ba(this.context,i);c=h.internalFormat,i=h.textureFormat,f=h.type}else i===this.context.DEPTH_COMPONENT&&(f=this.context.UNSIGNED_INT),i===this.context.DEPTH_STENCIL&&(f=this.context.UNSIGNED_INT_24_8_WEBGL);if(e===V["texture-array"]&&this.context instanceof WebGL2RenderingContext){console.warn("texture-array layers are supported...questionably in the polyfill at the moment. Use at your own risk.");const h=this.context.getParameter(this.context.TEXTURE_BINDING_2D_ARRAY);this.context.bindTexture(this.context.TEXTURE_2D_ARRAY,o),this._getSupportedDepthFormats().indexOf(i)>=0?this.context.texStorage3D(this.context.TEXTURE_2D_ARRAY,1,c,n,r,a):this.context.texImage3D(this.context.TEXTURE_2D_ARRAY,0,c,n,r,a,0,i,f,null),this.context.bindTexture(this.context.TEXTURE_2D_ARRAY,h)}else{const h=this.context.getParameter(this.context.TEXTURE_BINDING_2D);this.context.bindTexture(this.context.TEXTURE_2D,o),this.context.texImage2D(this.context.TEXTURE_2D,0,c,n,r,0,i,f,null),this.context.bindTexture(this.context.TEXTURE_2D,h)}return l}_getSupportedDepthFormats(){const e=[];return this.context instanceof WebGLRenderingContext&&!this.context.getExtension("WEBGL_depth_texture")||(e.push(this.context.DEPTH_COMPONENT,this.context.DEPTH_STENCIL),this.context instanceof WebGL2RenderingContext&&e.push(this.context.DEPTH_COMPONENT24,this.context.DEPTH24_STENCIL8)),e}}const Du={colorFormat:6408,mipLevels:1,layout:O.mono,isStatic:!1,space:null,viewPixelHeight:0,viewPixelWidth:0,textureType:V.texture,radius:2,centralAngle:.78539,aspectRatio:2},E3={layout:O.mono,invertStereo:!1,space:null,radius:2,centralAngle:.78539};class co extends rr{constructor(e,n){super(),this._media=n??null,this.isMediaLayer()?this.init=Object.assign(Object.assign({},E3),e):this.init=Object.assign(Object.assign({},Du),e),this.radius=this.init.radius,this.centralAngle=this.init.centralAngle,this.aspectRatio=this.init.aspectRatio,this.space=this.init.space,this.layout=this.init.layout;const r=Kn();this.init.transform?this.transform=new r.XRRigidTransform(e.transform.position,e.transform.orientation):this.transform=new r.XRRigidTransform({x:0,y:0,z:0,w:1}),this.isMediaLayer()||(this.isStatic=e.isStatic)}getTextureType(){return this.isMediaLayer()?V.texture:this.init.textureType}_deferredInitialize(){let e=this.determineLayoutAttribute(this.init.textureType,this.context,this.init.layout);this.layout=e,this.needsRedraw=!0}get colorTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._colorTextures}get depthStencilTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._depthStencilTextures||!this._depthStencilTextures.length)&&this._allocateDepthStencilTexturesInternal(this.getTextureType(),this.init),this._depthStencilTextures}get colorTexturesMeta(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._texturesMeta}get width(){const e=2*this.radius*Math.PI,n=this.centralAngle/(2*Math.PI);return e*n}get height(){return this.width/this.aspectRatio}}const Bu={colorFormat:6408,mipLevels:1,layout:O.mono,isStatic:!1,space:null,viewPixelHeight:0,viewPixelWidth:0,textureType:V.texture,radius:0,centralHorizontalAngle:6.28318,upperVerticalAngle:1.570795,lowerVerticalAngle:-1.570795},T3={space:null,layout:O.mono,invertStereo:!1,radius:0,centralHorizontalAngle:6.28318,upperVerticalAngle:1.570795,lowerVerticalAngle:-1.570795};class uo extends rr{constructor(e,n){if(super(),this._media=n??null,this.isMediaLayer()?this.init=Object.assign(Object.assign({},T3),e):this.init=Object.assign(Object.assign({},Bu),e),!Vr(this.init.space))throw new TypeError("Equirect layer's space needs to be an XRReferenceSpace");this.radius=this.init.radius,this.centralHorizontalAngle=this.init.centralHorizontalAngle,this.upperVerticalAngle=this.init.upperVerticalAngle,this.lowerVerticalAngle=this.init.lowerVerticalAngle,this.space=this.init.space,this.layout=this.init.layout;const r=Kn();e.transform?this.transform=new r.XRRigidTransform(e.transform.position,e.transform.orientation):this.transform=new r.XRRigidTransform({x:0,y:0,z:0,w:1}),this.isMediaLayer()||(this.isStatic=e.isStatic)}getTextureType(){return this.isMediaLayer()?V.texture:this.init.textureType}_deferredInitialize(){let e=this.determineLayoutAttribute(this.init.textureType,this.context,this.init.layout);this.layout=e,this.needsRedraw=!0}get colorTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._colorTextures}get depthStencilTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._depthStencilTextures||!this._depthStencilTextures.length)&&this._allocateDepthStencilTexturesInternal(this.getTextureType(),this.init),this._depthStencilTextures}get colorTexturesMeta(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._texturesMeta}}const ju={colorFormat:6408,mipLevels:1,layout:O.mono,isStatic:!1,space:null,viewPixelHeight:0,viewPixelWidth:0,textureType:V.texture,width:1,height:1},_3={space:null,layout:O.mono,invertStereo:!1};class fo extends rr{constructor(e,n){super(),this._media=n??null,this.isMediaLayer()?this.init=Object.assign(Object.assign({},_3),e):this.init=Object.assign(Object.assign({},ju),e),this.width=this.init.width,this.height=this.init.height,this.space=this.init.space,this.layout=this.init.layout;const r=Kn();this.init.transform?this.transform=new r.XRRigidTransform(e.transform.position,e.transform.orientation):this.transform=new r.XRRigidTransform({x:0,y:0,z:0,w:1}),this.isMediaLayer()||(this.isStatic=e.isStatic)}getTextureType(){return this.isMediaLayer()?V.texture:this.init.textureType}_deferredInitialize(){let e=this.determineLayoutAttribute(this.init.textureType,this.context,this.init.layout);this.layout=e,this.needsRedraw=!0}get colorTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._colorTextures}get depthStencilTextures(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._depthStencilTextures||!this._depthStencilTextures.length)&&this._allocateDepthStencilTexturesInternal(this.getTextureType(),this.init),this._depthStencilTextures}get colorTexturesMeta(){if(this.isMediaLayer())throw new Error("Media layers do not have associated textures");return(!this._colorTextures||!this._colorTextures.length)&&this._allocateColorTexturesInternal(this.getTextureType(),this.init),this._texturesMeta}}class S3{constructor(e){if(this.session=e,this.session.ended)throw new Error("Session has ended")}createQuadLayer(e,n){if(this.session.ended)throw new Error("Session has ended");if(n.layout===O.default)throw new TypeError("Media Quad layer cannot be created with layout of default");let r=this.calculateAspectRatio(e,n.layout);n.width===void 0&&n.height===void 0&&(n.width=1),n.height===void 0&&(n.height=n.width/r),n.width===void 0&&(n.width=n.height/r);let i=new fo(n,e);return i.needsRedraw=!1,i.initialize(this.session),i}createCylinderLayer(e,n){if(this.session.ended)throw new Error("Session has ended");if(n.layout===O.default)throw new TypeError("Media Cylinder layer cannot be created with layout of default");let r=this.calculateAspectRatio(e,n.layout);n.aspectRatio===void 0&&(n.aspectRatio=r);let i=new co(n,e);return i.needsRedraw=!1,i.initialize(this.session),i}createEquirectLayer(e,n){if(this.session.ended)throw new Error("Session has ended");if(n.layout===O.default)throw new TypeError("Media Equirect layer cannot be created with layout of default");if(!Vr(n.space))throw new Error("Media Equirect layer's space must be of type XRReferenceSpace");let r=new uo(n,e);return r.needsRedraw=!1,r.initialize(this.session),r}calculateAspectRatio(e,n){let r=e.videoWidth,i=e.videoHeight;return n===O["stereo-left-right"]&&(r/=2),n===O["stereo-top-bottom"]&&(i/=2),r/i}}const Ea={textureType:V.texture,colorFormat:6408,depthFormat:6402,scaleFactor:1};class Fi extends rr{constructor(e=Ea){super(),this.init=Object.assign(Object.assign({},Ea),e)}initialize(e,n){super.initialize(e,n),this.initializeIfNeeded();let r=e.getBaseLayer();this.textureWidth=r.framebufferWidth*this.init.scaleFactor,this.textureHeight=r.framebufferHeight*this.init.scaleFactor}_allocateProjectionColorTextures(){let e=[],n=[];const r=()=>{e=[];for(let f of n)e.push(f.texture)};let i=this.session,s=i.internalViews;if(!s||s.length===0){console.warn("We can't allocate color textures without views");return}let a=i.getBaseLayer(),o=s.length,l=a.framebufferWidth*this.init.scaleFactor/s.length,c=a.framebufferHeight*this.init.scaleFactor;if(this.layout===O.mono||this.layout===O.default){if(this.init.textureType===V["texture-array"])n=[this._createNewColorTexture(l,c,V["texture-array"],this.init.colorFormat,o)];else for(let f of s){let h=this._createNewColorTexture(l,c,V.texture,this.init.colorFormat);n.push(h)}r(),this._colorTexturesMeta=n,this._colorTextures=e;return}this.layout===O["stereo-left-right"]?n=[this._createNewColorTexture(l*o,c,this.init.textureType,this.init.colorFormat)]:this.layout===O["stereo-top-bottom"]&&(n=[this._createNewColorTexture(l,c*o,this.init.textureType,this.init.colorFormat)]),r(),this._colorTexturesMeta=n,this._colorTextures=e}_allocateProjectionDepthStencilTextures(){let e=this.session,n=e.internalViews;if(!n||n.length===0)return;if(this.init.depthFormat===0){this._depthStencilTextures=[];return}if(this.context instanceof WebGLRenderingContext&&!this.context.getExtension("WEBGL_depth_texture")){this._depthStencilTextures=[];return}let r=[],i=[];const s=()=>{r=[];for(let f of i)r.push(f.texture)};this.initializeIfNeeded();let a=e.getBaseLayer(),o=n.length,l=a.framebufferWidth*this.init.scaleFactor/n.length,c=a.framebufferHeight*this.init.scaleFactor;if(this.layout===O.mono||this.layout===O.default){if(this.init.textureType===V["texture-array"])i=[this._createNewDepthStencilTexture(l,c,this.init.textureType,this.init.depthFormat,o)];else for(let f of n){let h=this._createNewDepthStencilTexture(l,c,this.init.textureType,this.init.depthFormat);i.push(h)}s(),this._depthStencilTextures=r;return}this.layout===O["stereo-left-right"]?i=[this._createNewDepthStencilTexture(l*o,c,this.init.textureType,this.init.depthFormat)]:this.layout===O["stereo-top-bottom"]&&(i=[this._createNewDepthStencilTexture(l,c*o,this.init.textureType,this.init.depthFormat)]),s(),this._depthStencilTextures=r}get colorTextures(){return(!this._colorTextures||!this._colorTextures.length)&&this._allocateProjectionColorTextures(),this._colorTextures}get depthStencilTextures(){return this._depthStencilTextures===void 0&&this._allocateProjectionDepthStencilTextures(),this._depthStencilTextures||[]}get colorTexturesMeta(){return(!this._colorTextures||!this._colorTextures.length)&&this._allocateProjectionColorTextures(),this._colorTexturesMeta}getTextureType(){return this.init.textureType}_deferredInitialize(){this.isStatic=!1,this.ignoreDepthValues=!1,this.fixedFoveation=0;let e=this.determineLayoutAttribute(this.init.textureType,this.context,O.default);this.layout=e,this.needsRedraw=!0;let n=this.determineMaximumScaleFactor(),r=Math.min(this.init.scaleFactor,n);this.init.scaleFactor=r}determineMaximumScaleFactor(){let e=this.session.getBaseLayer(this.context),n=e.framebufferWidth,r=e.framebufferHeight;this.layout===O["stereo-left-right"]&&(n*=2),this.layout===O["stereo-top-bottom"]&&(r*=2);let i=Math.max(n,r);return this.context.getParameter(this.context.MAX_TEXTURE_SIZE)/i}}const Lt=(t,e,n,r,i)=>{let s=0,a=0,o=e.width,l=e.height;n===O["stereo-left-right"]?(s=e.width*r/i,o=e.width/i):n===O["stereo-top-bottom"]&&(a=e.height*r/i,l=e.height/i),t.x=s,t.y=a,t.width=o,t.height=l},hc=(t,e,n)=>{var r=t.createShader(n);t.shaderSource(r,e),t.compileShader(r);var i=t.getShaderParameter(r,t.COMPILE_STATUS);if(!i)throw"could not compile shader:"+t.getShaderInfoLog(r);return r},Hr=(t,e,n)=>{const r=t.createProgram(),i=hc(t,e,t.VERTEX_SHADER),s=hc(t,n,t.FRAGMENT_SHADER);t.attachShader(r,i),t.attachShader(r,s),t.deleteShader(i),t.deleteShader(s),t.linkProgram(r);var a=t.getProgramParameter(r,t.LINK_STATUS);if(!a)throw"program failed to link:"+t.getProgramInfoLog(r);return r},A3=(t,e,n,r,i)=>{var s=e,a=e+r,o=n,l=n+i;t.bufferData(t.ARRAY_BUFFER,new Float32Array([s,o,a,o,s,l,s,l,a,o,a,l]),t.DYNAMIC_DRAW)},ho=t=>{if(t instanceof WebGL2RenderingContext)return t;const e=t.getExtension("OES_vertex_array_object");if(!e)throw new Error("Cannot use VAOs.");return{VERTEX_ARRAY_BINDING:e.VERTEX_ARRAY_BINDING_OES,bindVertexArray:e.bindVertexArrayOES.bind(e),createVertexArray:e.createVertexArrayOES.bind(e),deleteVertexArray:e.deleteVertexArrayOES.bind(e),isVertexArray:e.isVertexArrayOES.bind(e)}},es=t=>t,M3=es`
attribute vec2 a_position;
attribute vec2 a_texCoord;

varying vec2 v_texCoord;

void main() {
   // convert the rectangle from pixels to 0.0 to 1.0
   vec2 zeroToOne = a_position;

   // convert from 0->1 to 0->2
   vec2 zeroToTwo = zeroToOne * 2.0;

   // convert from 0->2 to -1->+1 (clipspace)
   vec2 clipSpace = zeroToTwo - 1.0;

   gl_Position = vec4(clipSpace * vec2(1, 1), 0, 1);

   // pass the texCoord to the fragment shader
   // The GPU will interpolate this value between points.
   v_texCoord = a_texCoord;
}
`,R3=es`
precision mediump float;

// our texture
uniform sampler2D u_image;

// the texCoords passed in from the vertex shader.
varying vec2 v_texCoord;

void main() {
   	vec4 tex = texture2D(u_image, v_texCoord);
	gl_FragColor = vec4(tex.rgb, tex.a);
}
`;class Uu{constructor(e,n){this.gl=n,this.layer=e,this.program=Hr(this.gl,M3,R3),this.programInfo={attribLocations:{a_position:this.gl.getAttribLocation(this.program,"a_position"),a_texCoord:this.gl.getAttribLocation(this.program,"a_texCoord")}},this._createVAOs()}render(e){let n=this.gl,r=e.getBaseLayer();n.viewport(0,0,r.framebufferWidth,r.framebufferHeight);const i=this.layer.getTextureType(),s=n.getParameter(n.TEXTURE_BINDING_2D),a=n.getParameter(n.ACTIVE_TEXTURE);if(i===V.texture)n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.layer.colorTextures[0]),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);else throw new Error(`Created a texture projection renderer instead of a texture-array projection renderer for a texture-array layer.
This is probably an error with the polyfill itself; please file an issue on Github if you run into this.`);for(let o of e.internalViews){let l=r.getViewport(o);n.viewport(l.x,l.y,l.width,l.height),this._shouldUseStereoTexturePoints()?this._renderInternalStereo(o):this._renderInternal()}n.activeTexture(a),n.bindTexture(n.TEXTURE_2D,s)}_renderInternal(){let e=this.gl;const n=e.getParameter(e.CURRENT_PROGRAM);e.useProgram(this.program),this.vaoGl.bindVertexArray(this.vao);var r=e.TRIANGLES,i=0,s=6;e.drawArrays(r,i,s),this.vaoGl.bindVertexArray(null),e.useProgram(n)}_renderInternalStereo(e){if(e.eye==="none")return this._renderInternal();let n=this.gl;this.vaoGl.bindVertexArray(this.vao);const r=n.getParameter(n.CURRENT_PROGRAM);n.useProgram(this.program),this._setStereoTextureBuffer(e.eye==="right"?1:0);var i=n.TRIANGLES,s=0,a=6;n.drawArrays(i,s,a),this.vaoGl.bindVertexArray(null),n.useProgram(r)}_createVAOs(){this._createTextureUVs();let e=this.gl;this.vaoGl=ho(e);let n=e.createBuffer();this.vao=this.vaoGl.createVertexArray(),this.vaoGl.bindVertexArray(this.vao),e.enableVertexAttribArray(this.programInfo.attribLocations.a_position),e.bindBuffer(e.ARRAY_BUFFER,n),A3(e,0,0,1,1);let r=2,i=e.FLOAT,s=!1,a=0,o=0;e.vertexAttribPointer(this.programInfo.attribLocations.a_position,r,i,s,a,o),this.texcoordBuffer=e.createBuffer(),e.enableVertexAttribArray(this.programInfo.attribLocations.a_texCoord),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),e.bufferData(e.ARRAY_BUFFER,this.texturePoints,e.DYNAMIC_DRAW),e.vertexAttribPointer(this.programInfo.attribLocations.a_texCoord,r,i,s,a,o),this.vaoGl.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null)}_setStereoTextureBuffer(e){let n=this.gl;n.enableVertexAttribArray(this.programInfo.attribLocations.a_texCoord),n.bindBuffer(n.ARRAY_BUFFER,this.texcoordBuffer),n.bufferData(n.ARRAY_BUFFER,this.stereoTexturePoints[e],n.STATIC_DRAW);var r=2,i=n.FLOAT,s=!1,a=0,o=0;n.vertexAttribPointer(this.programInfo.attribLocations.a_texCoord,r,i,s,a,o),n.bindBuffer(n.ARRAY_BUFFER,null)}_createTextureUVs(){this.texturePoints=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);const e={x:0,y:0,width:1,height:1};this._shouldUseStereoTexturePoints()&&(this.stereoTexturePoints=[],Lt(e,this.layer.colorTexturesMeta[0],this.layer.layout,0,2),this.stereoTexturePoints[0]=this._offsetTextureUVsByRect(this.layer.colorTexturesMeta[0],this.texturePoints,e),Lt(e,this.layer.colorTexturesMeta[0],this.layer.layout,1,2),this.stereoTexturePoints[1]=this._offsetTextureUVsByRect(this.layer.colorTexturesMeta[0],this.texturePoints,e))}_offsetTextureUVsByRect(e,n,r){r=r??{x:0,y:0,width:e.width,height:e.height};const i=r.x/e.width,s=r.y/e.height,a=r.width/e.width,o=r.height/e.height,l=[];for(let c=0;c<n.length;c+=2){let f=n[c],h=n[c+1],d=f*a+i,m=h*o+s;l[c]=d,l[c+1]=m}return new Float32Array(l)}_shouldUseStereoTexturePoints(){return this.layer.layout===O["stereo-left-right"]||this.layer.layout===O["stereo-top-bottom"]}}const P3=es`#version 300 es

in vec2 a_position;
in vec2 a_texCoord;

out vec2 v_texCoord;

void main() {
	// convert the rectangle from pixels to 0.0 to 1.0
	vec2 zeroToOne = a_position;

	// convert from 0->1 to 0->2
	vec2 zeroToTwo = zeroToOne * 2.0;

	// convert from 0->2 to -1->+1 (clipspace)
	vec2 clipSpace = zeroToTwo - 1.0;

	gl_Position = vec4(clipSpace * vec2(1, 1), 0, 1);

	// pass the texCoord to the fragment shader
	// The GPU will interpolate this value between points.
	v_texCoord = a_texCoord;
}
`,O3=es`#version 300 es
precision mediump float;
precision mediump int;
precision mediump sampler2DArray;

uniform sampler2DArray u_image;
uniform int u_layer;

in vec2 v_texCoord;

out vec4 fragColor;

void main() {
	vec4 tex = texture(u_image, vec3(v_texCoord.x, v_texCoord.y, u_layer));
 	fragColor = vec4(tex.rgb, tex.a);
}

`;class I3 extends Uu{constructor(e,n){super(e,n),this.program=Hr(this.gl,P3,O3),this._createVAOs(),this.u_layerInfo=this.gl.getUniformLocation(this.program,"u_layer")}render(e){let n=this.gl;if(this.layer.getTextureType()===V.texture)throw new Error("Using texture array projection renderer on a layer without texture array.");let i=e.getBaseLayer();const s=n.getParameter(n.TEXTURE_BINDING_2D_ARRAY);n.bindTexture(n.TEXTURE_2D_ARRAY,this.layer.colorTextures[0]),n.texParameteri(n.TEXTURE_2D_ARRAY,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D_ARRAY,n.TEXTURE_MIN_FILTER,n.LINEAR);for(let a of e.internalViews){let o=e.getViewIndex(a),l=i.getViewport(a);n.viewport(l.x,l.y,l.width,l.height),this._renderInternal(o)}n.bindTexture(n.TEXTURE_2D_ARRAY,s)}_renderInternal(e=0){let n=this.gl;const r=n.getParameter(n.CURRENT_PROGRAM);n.useProgram(this.program),n.bindVertexArray(this.vao),n.uniform1i(this.u_layerInfo,e);var i=n.TRIANGLES,s=0,a=6;n.drawArrays(i,s,a),n.bindVertexArray(null),n.useProgram(r)}}const k3=(t,e)=>t.getTextureType()===V["texture-array"]&&e instanceof WebGL2RenderingContext?new I3(t,e):new Uu(t,e);var zi=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Ta(){var t=new zi(16);return zi!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function _a(t,e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],f=e[7],h=e[8],d=e[9],m=e[10],g=e[11],y=e[12],x=e[13],v=e[14],A=e[15],w=n[0],E=n[1],T=n[2],S=n[3];return t[0]=w*r+E*o+T*h+S*y,t[1]=w*i+E*l+T*d+S*x,t[2]=w*s+E*c+T*m+S*v,t[3]=w*a+E*f+T*g+S*A,w=n[4],E=n[5],T=n[6],S=n[7],t[4]=w*r+E*o+T*h+S*y,t[5]=w*i+E*l+T*d+S*x,t[6]=w*s+E*c+T*m+S*v,t[7]=w*a+E*f+T*g+S*A,w=n[8],E=n[9],T=n[10],S=n[11],t[8]=w*r+E*o+T*h+S*y,t[9]=w*i+E*l+T*d+S*x,t[10]=w*s+E*c+T*m+S*v,t[11]=w*a+E*f+T*g+S*A,w=n[12],E=n[13],T=n[14],S=n[15],t[12]=w*r+E*o+T*h+S*y,t[13]=w*i+E*l+T*d+S*x,t[14]=w*s+E*c+T*m+S*v,t[15]=w*a+E*f+T*g+S*A,t}function dc(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],a=n+n,o=r+r,l=i+i,c=n*a,f=r*a,h=r*o,d=i*a,m=i*o,g=i*l,y=s*a,x=s*o,v=s*l;return t[0]=1-h-g,t[1]=f+v,t[2]=d-x,t[3]=0,t[4]=f-v,t[5]=1-c-g,t[6]=m+y,t[7]=0,t[8]=d+x,t[9]=m-y,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Sa(){var t=new zi(2);return zi!=Float32Array&&(t[0]=0,t[1]=0),t}(function(){var t=Sa();return function(e,n,r,i,s,a){var o,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,o=r;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],s(t,t,a),e[o]=t[0],e[o+1]=t[1];return e}})();const ts=t=>t,L3=ts`
attribute vec4 a_position;
attribute vec2 a_texCoord;

uniform mat4 u_matrix;
uniform mat4 u_projectionMatrix;

varying vec2 v_texCoord;

void main() {
  // Multiply the position by the matrix.
  gl_Position = u_projectionMatrix * u_matrix * a_position;

   // pass the texCoord to the fragment shader
   // The GPU will interpolate this value between points.
   v_texCoord = a_texCoord;
}
`,C3=ts`
precision mediump float;

// our texture
uniform sampler2D u_image;

// the texCoords passed in from the vertex shader.
varying vec2 v_texCoord;

void main() {
   	vec4 tex = texture2D(u_image, v_texCoord);
	gl_FragColor = vec4(tex.rgb, tex.a);
	// gl_FragColor = vec4(1.0, 0, 0, 1.0);
}
`,N3=ts`#version 300 es

in vec4 a_position;
in vec2 a_texCoord;

uniform mat4 u_matrix;
uniform mat4 u_projectionMatrix;

out vec2 v_texCoord;

void main() {
	// Multiply the position by the matrix.
    gl_Position = u_projectionMatrix * u_matrix * a_position;

	// pass the texCoord to the fragment shader
	// The GPU will interpolate this value between points.
	v_texCoord = a_texCoord;
}
`,F3=ts`#version 300 es
precision mediump float;
precision mediump int;
precision mediump sampler2DArray;

uniform sampler2DArray u_image;
uniform int u_layer;

in vec2 v_texCoord;

out vec4 fragColor;

void main() {
	vec4 tex = texture(u_image, vec3(v_texCoord.x, v_texCoord.y, u_layer));
 	fragColor = vec4(tex.rgb, tex.a);
}

`;class po{constructor(e,n){this.usesTextureArrayShaders=!1,this.savedVaoState={vao:null,arrayBuffer:null},this.hasMipmap=!1,this.gl=n,this.layer=e;let r=this.gl;this.transformMatrix=Ta(),n instanceof WebGL2RenderingContext&&this.layer.getTextureType()===V["texture-array"]&&(this.usesTextureArrayShaders=!0),this.usesTextureArrayShaders?this.program=Hr(r,N3,F3):this.program=Hr(r,L3,C3),this.programInfo={attribLocations:{a_position:r.getAttribLocation(this.program,"a_position"),a_texCoord:r.getAttribLocation(this.program,"a_texCoord")},uniformLocations:{u_matrix:r.getUniformLocation(this.program,"u_matrix"),u_projectionMatrix:r.getUniformLocation(this.program,"u_projectionMatrix")}},this.usesTextureArrayShaders&&(this.programInfo.uniformLocations.u_layer=r.getUniformLocation(this.program,"u_layer"))}saveVaoState(){this.savedVaoState.vao=this.gl.getParameter(this.vaoGl.VERTEX_ARRAY_BINDING),this.savedVaoState.arrayBuffer=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING)}restoreVaoState(){this.vaoGl.bindVertexArray(this.savedVaoState.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.savedVaoState.arrayBuffer),this.savedVaoState.vao=this.savedVaoState.arrayBuffer=null}initialize(){let e=this.gl;if(this.layer.isMediaLayer()){this.mediaTexture=e.createTexture(),this.mediaTexturePolyfill={texture:this.mediaTexture,textureFormat:e.RGBA,width:this.layer.media.videoWidth,height:this.layer.media.videoHeight,type:V.texture};const n=e.getParameter(e.TEXTURE_BINDING_2D);e.bindTexture(e.TEXTURE_2D,this.mediaTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.layer.media.videoWidth,this.layer.media.videoHeight,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,n)}this._createVAOs()}render(e,n){this.saveVaoState();let r=this.gl,i=e.getBaseLayer(),s=n.getViewerPose(e.getReferenceSpace());const a=r.getParameter(r.ACTIVE_TEXTURE);for(let o of s.views){let l=i.getViewport(o);if(r.viewport(l.x,l.y,l.width,l.height),r.activeTexture(r.TEXTURE0),this.usesTextureArrayShaders){if(r instanceof WebGLRenderingContext)throw new Error("This should never happen; texture-arrays only supported on WebGL2.");if(this.layer.isMediaLayer())throw new Error("This should never happen. Media layers should never be created with texture-array");const c=r.getParameter(r.TEXTURE_BINDING_2D_ARRAY);r.bindTexture(r.TEXTURE_2D_ARRAY,this.layer.colorTextures[0]),this.layer.isStatic?(this.layer.needsRedraw===!0&&r.generateMipmap(r.TEXTURE_2D_ARRAY),this.hasMipmap=!0):this.hasMipmap=this.layer.mipLevels>0,r.texParameteri(r.TEXTURE_2D_ARRAY,r.TEXTURE_MAG_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D_ARRAY,r.TEXTURE_MIN_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR);let f=0;if(this.layer.layout===O.stereo)switch(o.eye){case"right":f=1;break}this._shouldUseStereoTexturePoints()?this._renderInternalStereo(e,n,o,f):this._renderInternal(e,n,o,f),r.activeTexture(a),r.bindTexture(r.TEXTURE_2D_ARRAY,c)}else{const c=r.getParameter(r.TEXTURE_BINDING_2D);if(this.layer.isMediaLayer())r.bindTexture(r.TEXTURE_2D,this.mediaTexture),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.layer.media.videoWidth,this.layer.media.videoHeight,r.RGBA,r.UNSIGNED_BYTE,this.layer.media);else if(this.layer.layout===O.stereo)switch(o.eye){case"right":r.bindTexture(r.TEXTURE_2D,this.layer.colorTextures[1]);break;default:r.bindTexture(r.TEXTURE_2D,this.layer.colorTextures[0])}else r.bindTexture(r.TEXTURE_2D,this.layer.colorTextures[0]);this.layer.isStatic?(this.layer.needsRedraw===!0&&r.generateMipmap(r.TEXTURE_2D),this.hasMipmap=!0):this.hasMipmap=this.layer.mipLevels>0,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),this._shouldUseStereoTexturePoints()?this._renderInternalStereo(e,n,o):this._renderInternal(e,n,o),r.activeTexture(a),r.bindTexture(r.TEXTURE_2D,c)}}this.restoreVaoState()}createPositionPoints(){return new Float32Array([])}createTextureUVs(){return new Float32Array([])}_offsetTextureUVsByRect(e,n,r){r=r??{x:0,y:0,width:e.width,height:e.height};const i=r.x/e.width,s=r.y/e.height,a=r.width/e.width,o=r.height/e.height,l=[];for(let c=0;c<n.length;c+=2){let f=n[c],h=n[c+1],d=f*a+i,m=h*o+s;l[c]=d,l[c+1]=m}return new Float32Array(l)}_shouldUseStereoTexturePoints(){return this.layer.layout===O["stereo-left-right"]||this.layer.layout===O["stereo-top-bottom"]}_setStereoTextureBuffer(e){let n=this.gl;n.enableVertexAttribArray(this.programInfo.attribLocations.a_texCoord),n.bindBuffer(n.ARRAY_BUFFER,this.texcoordBuffer),n.bufferData(n.ARRAY_BUFFER,this.stereoTexturePoints[e],n.STATIC_DRAW);var r=2,i=n.FLOAT,s=!1,a=0,o=0;n.vertexAttribPointer(this.programInfo.attribLocations.a_texCoord,r,i,s,a,o),n.bindBuffer(n.ARRAY_BUFFER,null)}_recalculateVertices(){this.positionPoints=this.createPositionPoints(),this.texturePoints=this.createTextureUVs();const e={x:0,y:0,width:1,height:1};if(this._shouldUseStereoTexturePoints()){if(this.stereoTexturePoints=[],this.layer.isMediaLayer()){Lt(e,this.mediaTexturePolyfill,this.layer.layout,0,2),this.stereoTexturePoints[0]=this._offsetTextureUVsByRect(this.mediaTexturePolyfill,this.texturePoints,e),Lt(e,this.mediaTexturePolyfill,this.layer.layout,1,2),this.stereoTexturePoints[1]=this._offsetTextureUVsByRect(this.mediaTexturePolyfill,this.texturePoints,e),this.layer.layout===O["stereo-top-bottom"]&&([this.stereoTexturePoints[0],this.stereoTexturePoints[1]]=[this.stereoTexturePoints[1],this.stereoTexturePoints[0]]);return}Lt(e,this.layer.colorTexturesMeta[0],this.layer.layout,0,2),this.stereoTexturePoints[0]=this._offsetTextureUVsByRect(this.layer.colorTexturesMeta[0],this.texturePoints,e),Lt(e,this.layer.colorTexturesMeta[0],this.layer.layout,1,2),this.stereoTexturePoints[1]=this._offsetTextureUVsByRect(this.layer.colorTexturesMeta[0],this.texturePoints,e),this.layer.layout===O["stereo-top-bottom"]&&([this.stereoTexturePoints[0],this.stereoTexturePoints[1]]=[this.stereoTexturePoints[1],this.stereoTexturePoints[0]])}}_createVAOs(){this._recalculateVertices();let e=this.gl;this.vaoGl=ho(e),this.saveVaoState();let n=e.createBuffer();this.vao=this.vaoGl.createVertexArray(),this.vaoGl.bindVertexArray(this.vao),e.enableVertexAttribArray(this.programInfo.attribLocations.a_position),e.bindBuffer(e.ARRAY_BUFFER,n);const r=this.positionPoints;e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW);var i=3,s=e.FLOAT,a=!1,o=0,l=0;e.vertexAttribPointer(this.programInfo.attribLocations.a_position,i,s,a,o,l),e.enableVertexAttribArray(this.programInfo.attribLocations.a_texCoord),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),e.bufferData(e.ARRAY_BUFFER,this.texturePoints,e.STATIC_DRAW);var i=2,s=e.FLOAT,a=!1,o=0,l=0;e.vertexAttribPointer(this.programInfo.attribLocations.a_texCoord,i,s,a,o,l),this.restoreVaoState()}_renderInternal(e,n,r,i){let s=this.gl;const a=s.getParameter(s.CURRENT_PROGRAM);s.useProgram(this.program),this.vaoGl.bindVertexArray(this.vao),this.usesTextureArrayShaders&&s.uniform1i(this.programInfo.uniformLocations.u_layer,i),this._setTransformMatrix(e,n,r),s.uniformMatrix4fv(this.programInfo.uniformLocations.u_matrix,!1,this.transformMatrix),s.uniformMatrix4fv(this.programInfo.uniformLocations.u_projectionMatrix,!1,r.projectionMatrix);var o=s.TRIANGLES,l=0,c=this.positionPoints.length/3;s.drawArrays(o,l,c),this.vaoGl.bindVertexArray(null),s.useProgram(a)}_renderInternalStereo(e,n,r,i){if(r.eye==="none")return this._renderInternal(e,n,r);let s=this.gl;this.vaoGl.bindVertexArray(this.vao);const a=s.getParameter(s.CURRENT_PROGRAM);s.useProgram(this.program),this._setStereoTextureBuffer(r.eye==="right"?1:0),this.usesTextureArrayShaders&&s.uniform1i(this.programInfo.uniformLocations.u_layer,i),this._setTransformMatrix(e,n,r),s.uniformMatrix4fv(this.programInfo.uniformLocations.u_matrix,!1,this.transformMatrix),s.uniformMatrix4fv(this.programInfo.uniformLocations.u_projectionMatrix,!1,r.projectionMatrix);var o=s.TRIANGLES,l=0,c=this.positionPoints.length/3;s.drawArrays(o,l,c),this.vaoGl.bindVertexArray(null),s.useProgram(a)}_setTransformMatrix(e,n,r){let i=n.getPose(this.layer.space,e.getReferenceSpace());_a(this.transformMatrix,i.transform.matrix,this.layer.transform.matrix),_a(this.transformMatrix,r.transform.inverse.matrix,this.transformMatrix)}}class z3 extends po{constructor(e,n){super(e,n),this.initialize()}createPositionPoints(){const e=this.layer.width,n=this.layer.height,r=0,i=[-e,-n,r,e,-n,r,-e,n,r,-e,n,r,e,-n,r,e,n,r];return new Float32Array(i)}createTextureUVs(){return new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])}}class D3 extends po{constructor(e,n){super(e,n),this.segments=16,this.initialize()}createPositionPoints(){const e=[],n=this.layer.centralAngle,r=this.layer.height,i=this.layer.radius,s=n/this.segments,a=Math.PI/2-n/2,o=[],l=Sa();l[0]=i*Math.cos(a),l[1]=-i*Math.sin(a),o.push(l);for(let c=0;c<this.segments;c++){const f=Sa();f[0]=i*Math.cos(a+s*(c+1)),f[1]=-i*Math.sin(a+s*(c+1)),o.push(f)}o.reverse();for(let c=0;c<this.segments;c++){const f=o[c],h=o[c+1];e.push(f[0],-r/2,f[1]),e.push(h[0],-r/2,h[1]),e.push(f[0],r/2,f[1]),e.push(f[0],r/2,f[1]),e.push(h[0],-r/2,h[1]),e.push(h[0],r/2,h[1])}return new Float32Array(e)}createTextureUVs(){let e=[];const n=1/this.segments;for(let r=0;r<this.segments;r++){let i=n*r,s=n*(r+1);e.push(i,0),e.push(s,0),e.push(i,1),e.push(i,1),e.push(s,0),e.push(s,1)}return new Float32Array(e)}}class B3 extends po{constructor(e,n){super(e,n),this.segmentsPerAxis=40,this.initialize()}createPositionPoints(){const e=[];let n=this.layer.radius;n===0&&(n=25),n>25&&(n=25);const r=this.layer.centralHorizontalAngle,i=this.layer.upperVerticalAngle+Math.PI/2,s=this.layer.lowerVerticalAngle+Math.PI/2,a=i,o=s,l=Math.PI/2-r/2,c=l+r,f=o-a,h=c-l,d=[];for(let g=0;g<=this.segmentsPerAxis;g++)for(let y=0;y<=this.segmentsPerAxis;y++){const x=y/this.segmentsPerAxis,v=g/this.segmentsPerAxis;let A=n,w=c-h*x,E=f*v+a;const T=Math.cos(w)*Math.sin(E),S=Math.cos(E),M=-Math.sin(w)*Math.sin(E);d.push([A*T,A*S,A*M])}const m=this.segmentsPerAxis+1;for(let g=0;g<this.segmentsPerAxis;g++)for(let y=0;y<this.segmentsPerAxis;y++)e.push(...d[y*m+g]),e.push(...d[y*m+g+1]),e.push(...d[(y+1)*m+g]),e.push(...d[(y+1)*m+g]),e.push(...d[y*m+g+1]),e.push(...d[(y+1)*m+g+1]);return new Float32Array(e)}createTextureUVs(){const e=[],n=[];for(let i=0;i<=this.segmentsPerAxis;i++)for(let s=0;s<=this.segmentsPerAxis;s++){const a=s/this.segmentsPerAxis,o=i/this.segmentsPerAxis;n.push([a,o])}const r=this.segmentsPerAxis+1;for(let i=0;i<this.segmentsPerAxis;i++)for(let s=0;s<this.segmentsPerAxis;s++)e.push(...n[s*r+i]),e.push(...n[s*r+i+1]),e.push(...n[(s+1)*r+i]),e.push(...n[(s+1)*r+i]),e.push(...n[s*r+i+1]),e.push(...n[(s+1)*r+i+1]);return new Float32Array(e)}}const pc={colorFormat:6408,mipLevels:1,layout:O.mono,isStatic:!1,space:null,viewPixelHeight:0,viewPixelWidth:0};class Vu extends rr{constructor(e=pc){if(super(),!Vr(e.space))throw new TypeError("XRCubeLayer's space needs to be an XRReferenceSpace");switch(this.init=Object.assign(Object.assign({},pc),e),this.space=this.init.space,this.isStatic=this.init.isStatic,this.init.orientation?this.orientation=DOMPointReadOnly.fromPoint(this.init.orientation):this.orientation=new DOMPointReadOnly,this.init.layout){case O.default:case O["stereo-left-right"]:case O["stereo-top-bottom"]:throw new TypeError("Invalid layout format for XRCubeLayer")}this.layout=this.init.layout,this.needsRedraw=!0}initialize(e,n){super.initialize(e,n),this._allocateColorTexturesInternal(),this._allocateDepthStencilTexturesInternal()}_allocateColorTexturesInternal(){if(this._colorTextures=[],this._texturesMeta=[],this.layout===O.mono){const e=this._createCubeColorTexture();this._texturesMeta.push(e),this._colorTextures.push(e.texture);return}else{const e=this._createCubeColorTexture(),n=this._createCubeColorTexture();this._texturesMeta.push(e,n),this._colorTextures.push(e.texture,n.texture);return}}_allocateDepthStencilTexturesInternal(){if(this._depthStencilTextures=[],!!this.init.depthFormat){if(this.context instanceof WebGLRenderingContext&&!this.context.getExtension("WEBGL_depth_texture"))throw new TypeError("Depth textures not supported in the current context");if(this.layout===O.mono){const e=this._createCubeDepthTexture();this._depthStencilTextures.push(e.texture);return}else{const e=this._createCubeDepthTexture(),n=this._createCubeDepthTexture();this._depthStencilTextures.push(e.texture,n.texture);return}}}_createCubeColorTexture(){let e=this.context.createTexture(),n={width:this.init.viewPixelWidth,height:this.init.viewPixelHeight,layers:1,type:V.texture,textureFormat:this.init.colorFormat,texture:e};const r=this.context.getParameter(this.context.TEXTURE_BINDING_CUBE_MAP);this.context.bindTexture(this.context.TEXTURE_CUBE_MAP,e);for(let i=0;i<6;i++)this.context.texImage2D(this.context.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,n.textureFormat,n.width,n.height,0,n.textureFormat,this.context.UNSIGNED_BYTE,null);return this.context.bindTexture(this.context.TEXTURE_CUBE_MAP,r),n}_createCubeDepthTexture(){let e=this.context.createTexture(),n={width:this.init.viewPixelWidth,height:this.init.viewPixelHeight,layers:1,type:V.texture,textureFormat:this.init.depthFormat,texture:e};const r=this.context.getParameter(this.context.TEXTURE_BINDING_CUBE_MAP);this.context.bindTexture(this.context.TEXTURE_CUBE_MAP,e);let i=this.init.depthFormat;this.context instanceof WebGL2RenderingContext&&(i===this.context.DEPTH_COMPONENT&&(i=this.context.DEPTH_COMPONENT24),i===this.context.DEPTH_STENCIL&&(i=this.context.DEPTH24_STENCIL8));for(let s=0;s<6;s++)this.context.texImage2D(this.context.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,i,n.width,n.height,0,n.textureFormat,this.context.UNSIGNED_INT,null);return this.context.bindTexture(this.context.TEXTURE_CUBE_MAP,r),n}getTextureType(){return V.texture}}const Hu=t=>t,j3=Hu`
attribute vec4 a_position;
uniform mat4 u_projectionMatrix;
uniform mat4 u_matrix;
varying vec3 v_normal;

void main() {
   gl_Position = u_projectionMatrix * u_matrix * a_position;

   v_normal = normalize(a_position.xyz);
}
`,U3=Hu`
precision mediump float;

varying vec3 v_normal;

uniform samplerCube u_texture;

void main() {
   gl_FragColor = textureCube(u_texture, normalize(v_normal));
}
`;class V3{constructor(e,n){this.savedVaoState={vao:null,arrayBuffer:null},this.hasMipmap=!1,this.layer=e,this.gl=n,this.transformMatrix=Ta(),this.program=Hr(n,j3,U3),this.programInfo={attribLocations:{a_position:n.getAttribLocation(this.program,"a_position")},uniformLocations:{u_matrix:n.getUniformLocation(this.program,"u_matrix"),u_texture:n.getUniformLocation(this.program,"u_texture"),u_projectionMatrix:n.getUniformLocation(this.program,"u_projectionMatrix")}},this._createVAOs()}saveVaoState(){this.savedVaoState.vao=this.gl.getParameter(this.vaoGl.VERTEX_ARRAY_BINDING),this.savedVaoState.arrayBuffer=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING)}restoreVaoState(){this.vaoGl.bindVertexArray(this.savedVaoState.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.savedVaoState.arrayBuffer),this.savedVaoState.vao=this.savedVaoState.arrayBuffer=null}render(e,n){this.saveVaoState();let r=this.gl,i=e.getBaseLayer(),s=n.getViewerPose(e.getReferenceSpace());const a=r.getParameter(r.ACTIVE_TEXTURE);for(let o of s.views){let l=i.getViewport(o);r.viewport(l.x,l.y,l.width,l.height),r.activeTexture(r.TEXTURE0);const c=r.getParameter(r.TEXTURE_BINDING_CUBE_MAP);if(this.layer.layout===O.stereo){const f=o.eye==="right"?1:0;r.bindTexture(r.TEXTURE_CUBE_MAP,this.layer.colorTextures[f])}else r.bindTexture(r.TEXTURE_CUBE_MAP,this.layer.colorTextures[0]);this.layer.isStatic?(this.layer.needsRedraw===!0&&r.generateMipmap(r.TEXTURE_CUBE_MAP),this.hasMipmap=!0):this.hasMipmap=this.layer.mipLevels>0,r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,this.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),this._renderInternal(this.layer.orientation,o),r.activeTexture(a),r.bindTexture(r.TEXTURE_CUBE_MAP,c)}this.restoreVaoState()}createPositionPoints(){const n=[-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5];return new Float32Array(n)}_renderInternal(e,n){let r=this.gl;const i=r.getParameter(r.CURRENT_PROGRAM);r.useProgram(this.program),this.vaoGl.bindVertexArray(this.vao),dc(this.transformMatrix,[e.x,e.y,e.z,e.w]),this._poseOrientationMatrix||(this._poseOrientationMatrix=Ta()),dc(this._poseOrientationMatrix,[n.transform.inverse.orientation.x,n.transform.inverse.orientation.y,n.transform.inverse.orientation.z,n.transform.inverse.orientation.w]),_a(this.transformMatrix,this.transformMatrix,this._poseOrientationMatrix),r.uniformMatrix4fv(this.programInfo.uniformLocations.u_matrix,!1,this.transformMatrix),r.uniformMatrix4fv(this.programInfo.uniformLocations.u_projectionMatrix,!1,n.projectionMatrix),r.uniform1i(this.programInfo.uniformLocations.u_texture,0);var s=r.TRIANGLES,a=0,o=this.positionPoints.length/3;r.drawArrays(s,a,o),this.vaoGl.bindVertexArray(null),r.useProgram(i)}_recalculateVertices(){this.positionPoints=this.createPositionPoints()}_createVAOs(){this._recalculateVertices();let e=this.gl;this.vaoGl=ho(e),this.saveVaoState();let n=e.createBuffer();this.vao=this.vaoGl.createVertexArray(),this.vaoGl.bindVertexArray(this.vao),e.enableVertexAttribArray(this.programInfo.attribLocations.a_position),e.bindBuffer(e.ARRAY_BUFFER,n);const r=this.positionPoints;e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW);var i=3,s=e.FLOAT,a=!1,o=0,l=0;e.vertexAttribPointer(this.programInfo.attribLocations.a_position,i,s,a,o,l),this.restoreVaoState()}}class fi{constructor(){this.mode="inline",this.layers=[],this.views=[],this.initializedViews=!1,this.isPolyfillActive=!1,this.taskQueue=[]}requestAnimationFrame(e){this.injectedFrameCallback||(this.injectedFrameCallback=(n,r)=>{let i=this.context;if(!this.initializedViews&&this.referenceSpace){let s=r.getViewerPose(this.referenceSpace);s&&(this.views=s.views,this.initializedViews=!0)}if(this.isPolyfillActive&&this.initializedViews){this.tempFramebuffer||(this.tempFramebuffer=i.createFramebuffer()),i.bindFramebuffer(i.FRAMEBUFFER,this.tempFramebuffer);const s=i.getParameter(i.COLOR_CLEAR_VALUE),a=i.getParameter(i.FRAMEBUFFER_BINDING);i.clearColor(0,0,0,0);for(let o of this.layers)if(o instanceof Fi)for(let l=0;l<o.colorTextures.length;l++)o.colorTexturesMeta[l].type===V["texture-array"]||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,o.colorTextures[l],0),o.depthStencilTextures&&l<o.depthStencilTextures.length?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,o.depthStencilTextures[l],0):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,null,0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT));i.bindFramebuffer(i.FRAMEBUFFER,a),i.clearColor(s[0],s[1],s[2],s[3])}if(e(n,r),this.isPolyfillActive&&this.initializedViews){let s=i.isEnabled(i.BLEND),a=i.isEnabled(i.DEPTH_TEST),o=i.isEnabled(i.CULL_FACE);const l=i.getParameter(i.FRAMEBUFFER_BINDING),c=i.getParameter(i.COLOR_CLEAR_VALUE);i.bindFramebuffer(i.FRAMEBUFFER,this.getBaseLayer().framebuffer),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.clearColor(c[0],c[1],c[2],c[3]),i.enable(i.BLEND),i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE);let f=i.getParameter(i.BLEND_SRC_RGB),h=i.getParameter(i.BLEND_SRC_ALPHA),d=i.getParameter(i.BLEND_DST_RGB),m=i.getParameter(i.BLEND_DST_ALPHA);i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);for(let g of this.layers)if(this.renderers||(this.renderers=new WeakMap),g instanceof Fi)this.renderers.has(g)||this.renderers.set(g,k3(g,this.context)),this.renderers.get(g).render(this);else if(g instanceof fo)this.renderers.has(g)||this.renderers.set(g,new z3(g,this.context)),this.renderers.get(g).render(this,r);else if(g instanceof co)this.renderers.has(g)||this.renderers.set(g,new D3(g,this.context)),this.renderers.get(g).render(this,r);else if(g instanceof uo)this.renderers.has(g)||this.renderers.set(g,new B3(g,this.context)),this.renderers.get(g).render(this,r);else if(g instanceof Vu)this.renderers.has(g)||this.renderers.set(g,new V3(g,this.context)),this.renderers.get(g).render(this,r);else{const y=g;if(y.framebuffer===null)continue;i instanceof WebGL2RenderingContext?(i.bindFramebuffer(i.READ_FRAMEBUFFER,y.framebuffer),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,this.getBaseLayer().framebuffer),i.blitFramebuffer(0,0,y.framebufferWidth,y.framebufferHeight,0,0,this.getBaseLayer().framebufferWidth,this.getBaseLayer().framebufferHeight,i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT,i.LINEAR)):console.warn("GL blitFramebuffer is not supported on WebGL1, so XRWebGLLayers may not show up properly when polyfilled.")}for(s||i.disable(i.BLEND),a&&i.enable(i.DEPTH_TEST),o&&i.enable(i.CULL_FACE),i.blendFuncSeparate(f,d,h,m),i.bindFramebuffer(i.FRAMEBUFFER,l);this.taskQueue.length>0;)this.taskQueue.shift()()}}),this._requestAnimationFrame(this.injectedFrameCallback)}updateRenderState(e){if(this.existingBaseLayer=e.baseLayer,e.layers&&(this.layers=e.layers),this.activeRenderState||this.createActiveRenderState(),this.activeRenderState=Object.assign(Object.assign({},this.activeRenderState),e),!e.layers){this._updateRenderState(e);return}let n=Object.assign({},e);delete n.layers;let r;for(let i of this.layers)if(i instanceof rr){r=i.getContext();break}if(!r&&!this.context){let s=function(){r.canvas.width=r.canvas.clientWidth*window.devicePixelRatio,r.canvas.height=r.canvas.clientHeight*window.devicePixelRatio};console.log("No existing context! Have the session make one");const i=document.createElement("canvas");if(r=i.getContext("webgl2",{xrCompatible:!0}),r||(r=i.getContext("webgl",{xrCompatible:!0})),!r)throw new Error("No webGL support detected.");document.body.appendChild(r.canvas),window.addEventListener("resize",s),s()}this.createInternalLayer(r),this.isPolyfillActive=!0,this._updateRenderState(Object.assign(Object.assign({},n),{baseLayer:this.internalLayer}))}initializeSession(e){this.mode=e,this.requestReferenceSpace("local").then(n=>{this.referenceSpace=n}).catch(n=>{}),this.requestReferenceSpace("viewer").then(n=>{this.viewerSpace=n})}getBaseLayer(e){return!this.internalLayer&&!this.existingBaseLayer&&e&&this.createInternalLayer(e),this.internalLayer||this.existingBaseLayer}getReferenceSpace(){return this.referenceSpace?this.referenceSpace:this.viewerSpace}getViewerSpace(){return this.viewerSpace}queueTask(e){this.taskQueue.push(e)}get renderState(){return this.activeRenderState||this.createActiveRenderState(),this.activeRenderState}get internalViews(){return this.views}getViewIndex(e){for(let n=0;n<this.views.length;n++){let r=this.views[n];if(e.eye===r.eye&&e.recommendedViewportScale===r.recommendedViewportScale)return n}return-1}createInternalLayer(e){if(!e&&this.internalLayer)return this.internalLayer;if(e===this.context&&this.internalLayer)return this.internalLayer;const n=Kn();return this.internalLayer=new n.XRWebGLLayer(this,e),this.setContext(e),this.internalLayer}setContext(e){this.context=e,this.tempFramebuffer=e.createFramebuffer(),this.renderers=new WeakMap}createActiveRenderState(){const e=Kn();let n=Object.getOwnPropertyNames(e.XRRenderState.prototype);const r={};for(let i of n)r[i]=this._renderState[i];r.layers=[],this.activeRenderState=r}}class mc{constructor(){this.viewport={x:0,y:0,width:0,height:0}}}class H3{constructor(e,n){this.session=e,this.context=n,this.subImageCache=new G3}createProjectionLayer(e=Ea){const n=new Fi(e);if(this.session.ended)throw new Error("Session has ended");if(this.context.isContextLost())throw new Error("context is lost");return n.initialize(this.session,this.context),n}createQuadLayer(e=ju){if(this.session.ended)throw new Error("Session has ended");if(this.context.isContextLost())throw new Error("context is lost");if(e.layout===O.default)throw new TypeError("Trying to create a quad layer with default layout");const n=new fo(e);return n.initialize(this.session,this.context),n}createCylinderLayer(e=Du){if(this.session.ended)throw new Error("Session has ended");if(this.context.isContextLost())throw new Error("context is lost");if(e.layout===O.default)throw new TypeError("Cylinder Layer cannot have a default layout");const n=new co(e);return n.initialize(this.session,this.context),n}createEquirectLayer(e=Bu){if(this.session.ended)throw new Error("Session has ended");if(this.context.isContextLost())throw new Error("context is lost");if(e.layout===O.default)throw new TypeError("Equirect Layer cannot have a default layout");if(!Vr(e.space))throw new TypeError("Equirect layer requires an XRReferenceSpace");let n=new uo(e);return n.initialize(this.session,this.context),n}createCubeLayer(e){if(this.session.ended)throw new Error("Session has ended");if(this.context.isContextLost())throw new Error("context is lost");if(!(this.context instanceof WebGL2RenderingContext))throw new Error("XRCubeLayer only work on WebGL2");if(!Vr(e.space))throw new TypeError("XRCubeLayer requires a space of type XRReferenceSpace");let n=new Vu(e);return n.initialize(this.session,this.context),n}getSubImage(e,n,r="none"){if(e.isStatic&&e.needsRedraw===!1)throw new Error("Invalid state for subimage creation");let i=this.subImageCache.tryGetCachedSubImage(this.context,e,r);if(i)return i;let s=new mc;if(e instanceof Fi)throw new TypeError;if(e.layout===O.default)throw new TypeError;if(!this.validateStateofSubImageCreation(e,n))throw new Error("Invalid state for subimage creation");let a=0;if(e.layout===O.stereo){if(r==="none")throw new TypeError;r==="right"&&(a=1)}e.getTextureType()===V["texture-array"]?s.imageIndex=a:s.imageIndex=0;let o=0;e.getTextureType()===V.texture?(s.colorTexture=e.colorTextures[a],o=a):(s.colorTexture=e.colorTextures[0],o=0),!e.depthStencilTextures||!e.depthStencilTextures.length?s.depthStencilTexture=null:e.getTextureType()===V.texture?s.depthStencilTexture=e.depthStencilTextures[a]:s.depthStencilTexture=e.depthStencilTextures[0];const l=e.colorTexturesMeta[o];s.textureWidth=l.width,s.textureHeight=l.height;let c=1;return(e.layout===O["stereo-left-right"]||e.layout===O["stereo-top-bottom"])&&(c=2),Lt(s.viewport,l,e.layout,a,c),this.session.queueTask(()=>{e.needsRedraw=!1}),this.subImageCache.cacheSubImage(s,this.context,e,r),s}getViewSubImage(e,n){let r=this.subImageCache.tryGetCachedViewSubImage(this.context,e,n);if(r)return r;let i=new mc,s=this.session;if(!s.internalViews||!s.internalViews.length)return console.warn("Tried to get view sub image before we have any views"),i;let a=s.getViewIndex(n),o=0;return e.getTextureType()===V["texture-array"]?i.imageIndex=a:i.imageIndex=0,e.layout===O.default&&e.getTextureType()===V.texture?(i.colorTexture=e.colorTextures[a],o=a):(i.colorTexture=e.colorTextures[0],o=0),e.depthStencilTextures.length===0?i.depthStencilTexture=null:e.layout===O.default&&e.getTextureType()===V.texture?i.depthStencilTexture=e.depthStencilTextures[a]:i.depthStencilTexture=e.depthStencilTextures[0],i.textureWidth=e.colorTexturesMeta[o].width,i.textureHeight=e.colorTexturesMeta[o].height,Lt(i.viewport,e.colorTexturesMeta[o],e.layout,a,s.internalViews.length),e.needsRedraw=!1,this.subImageCache.cacheViewSubImage(i,this.context,e,n),i}validateStateofSubImageCreation(e,n){return!(n.session!==e.session||this.session!==e.session||this.context!==e.context||!e.colorTextures||!e.colorTextures.length||e.isStatic&&e.needsRedraw===!1)}}class G3{constructor(){this.cache=new Map,this.viewCache=new Map}cacheSubImage(e,n,r,i){let s=new Map;s.set(i,e);let a=new Map;a.set(r,s),this.cache.set(n,a)}tryGetCachedSubImage(e,n,r){var i,s;return(s=(i=this.cache.get(e))===null||i===void 0?void 0:i.get(n))===null||s===void 0?void 0:s.get(r)}cacheViewSubImage(e,n,r,i){let s=new Map;s.set(i,e);let a=new Map;a.set(r,s),this.viewCache.set(n,a)}tryGetCachedViewSubImage(e,n,r){var i,s;return(s=(i=this.viewCache.get(e))===null||i===void 0?void 0:i.get(n))===null||s===void 0?void 0:s.get(r)}}const $3=t=>t.navigator.xr?!!(t.XRMediaBinding&&t.XRWebGLBinding):!1;class W3{constructor(){this.injected=!1;const e=Kn();this._injectPolyfill(e)}_injectPolyfill(e){if(!("xr"in e.navigator))throw new Error("WebXR Layers polyfill requires WebXR support.");this.injected===!0&&console.warn("Polyfill has already been injected..."),!$3(e)&&(this._polyfillRequiredLayersFeature(e),this._polyfillXRSession(e),e.XRWebGLBinding=H3,e.XRMediaBinding=S3,this.injected=!0,console.log("Injected Layers Polyfill"))}_polyfillXRSession(e){e.XRSession.prototype._updateRenderState=e.XRSession.prototype.updateRenderState,e.XRSession.prototype._requestAnimationFrame=e.XRSession.prototype.requestAnimationFrame;let n=Object.getOwnPropertyDescriptor(e.XRSession.prototype,"renderState");Object.defineProperty(e.XRSession.prototype,"_renderState",n);let r=Object.getOwnPropertyDescriptor(fi.prototype,"renderState");Object.defineProperty(e.XRSession.prototype,"renderState",r);let i=Object.getOwnPropertyNames(fi.prototype);for(let s of i){let a=Object.getOwnPropertyDescriptor(fi.prototype,s);Object.defineProperty(e.XRSession.prototype,s,a)}}_polyfillRequiredLayersFeature(e){const n=e.navigator.xr.requestSession;Object.defineProperty(e.navigator.xr,"requestSessionInternal",{writable:!0}),e.navigator.xr.requestSessionInternal=n;const r=(i,s)=>{const a=(o,l)=>e.navigator.xr.requestSessionInternal(o,l).then(c=>{Object.assign(c,new fi);let f=c;return f.initializeSession(i),Promise.resolve(f)});if(i!=="immersive-vr"||!s)return a(i,s);if(s.requiredFeatures&&s.requiredFeatures.indexOf("layers")>-1){const o=Object.assign({},s),l=[...s.requiredFeatures],c=l.indexOf("layers");return l.splice(c,1),o.requiredFeatures=l,a(i,o)}return a(i,s)};Object.defineProperty(e.navigator.xr,"requestSession",{writable:!0}),e.navigator.xr.requestSession=r}}const br={ipd:.063,fovy:Math.PI/2,headsetPosition:new tn(0,1.6,0),headsetQuaternion:new Ir,stereoEnabled:!1},X3=1,q3=2,Y3=3,Z3=4;class Q3{constructor(e,n={}){var r,i,s,a,o,l;this.version=cc;const c=new Jp,f=new an(me.Viewer,c),h={[te.Left]:new le(f),[te.Right]:new le(f),[te.None]:new le(f)},d=e.controllerConfig,m={};d&&Object.values(Le).forEach(x=>{d.layout[x]&&(m[x]=new n3(d,x,c))});const g={[Le.Left]:new lc(Ql,Le.Left,c),[Le.Right]:new lc(Ql,Le.Right,c)},y=(r=n.canvasContainer)!==null&&r!==void 0?r:document.createElement("div");y.dataset.webxr_runtime=`Immersive Web Emulation Runtime v${cc}`,y.style.position="fixed",y.style.width="100%",y.style.height="100%",y.style.top="0",y.style.left="0",y.style.display="flex",y.style.justifyContent="center",y.style.alignItems="center",y.style.overflow="hidden",y.style.zIndex="999",this[b]={name:e.name,supportedSessionModes:e.supportedSessionModes,supportedFeatures:e.supportedFeatures,supportedFrameRates:e.supportedFrameRates,isSystemKeyboardSupported:e.isSystemKeyboardSupported,internalNominalFrameRate:e.internalNominalFrameRate,environmentBlendModes:e.environmentBlendModes,interactionMode:e.interactionMode,userAgent:e.userAgent,position:(i=n.headsetPosition)!==null&&i!==void 0?i:br.headsetPosition.clone(),quaternion:(s=n.headsetQuaternion)!==null&&s!==void 0?s:br.headsetQuaternion.clone(),stereoEnabled:(a=n.stereoEnabled)!==null&&a!==void 0?a:br.stereoEnabled,ipd:(o=n.ipd)!==null&&o!==void 0?o:br.ipd,fovy:(l=n.fovy)!==null&&l!==void 0?l:br.fovy,controllers:m,hands:g,primaryInputMode:"controller",pendingReferenceSpaceReset:!1,visibilityState:"visible",pendingVisibilityState:null,xrSystem:null,matrix:ye(),globalSpace:c,viewerSpace:f,viewSpaces:h,canvasContainer:y,getViewport:(x,v)=>{const A=x.context.canvas,{width:w,height:E}=A;switch(v.eye){case te.None:return new ui(0,0,w,E);case te.Left:return new ui(0,0,this[b].stereoEnabled?w/2:w,E);case te.Right:return new ui(w/2,0,this[b].stereoEnabled?w/2:0,E)}},updateViews:()=>{const x=this[b].viewerSpace;qr(x[he].offsetMatrix,this[b].quaternion.quat,this[b].position.vec3),Yn(this[b].viewSpaces[te.Left][he].offsetMatrix,qe(-this[b].ipd/2,0,0)),Yn(this[b].viewSpaces[te.Right][he].offsetMatrix,qe(this[b].ipd/2,0,0))},onBaseLayerSet:x=>{if(!x)return;const v=x.context.canvas;if(v.parentElement!==this[b].canvasContainer){const A=this[b].devui;if(A){const{devUICanvas:E,devUIContainer:T}=A;E.style.zIndex=Y3.toString(),T.style.zIndex=Z3.toString(),this[b].canvasContainer.appendChild(A.devUICanvas),this[b].canvasContainer.appendChild(A.devUIContainer)}const w=this[b].sem;w&&(w.environmentCanvas.style.zIndex=X3.toString(),this[b].canvasContainer.appendChild(w.environmentCanvas)),this[b].canvasData={canvas:v,parent:v.parentElement,width:v.width,height:v.height,zIndex:v.style.zIndex},v.style.zIndex=q3.toString(),this[b].canvasContainer.appendChild(v),document.body.appendChild(this[b].canvasContainer)}v.width=window.innerWidth,v.height=window.innerHeight},onSessionEnd:()=>{if(this[b].canvasData){const{canvas:x,parent:v,width:A,height:w,zIndex:E}=this[b].canvasData;x.width=A,x.height=w,x.style.zIndex=E,v?v.appendChild(x):this[b].canvasContainer.removeChild(x);const T=this[b].devui;T&&(this[b].canvasContainer.removeChild(T.devUICanvas),this[b].canvasContainer.removeChild(T.devUIContainer));const S=this[b].sem;S&&this[b].canvasContainer.removeChild(S.environmentCanvas),document.body.removeChild(this[b].canvasContainer),this[b].canvasData=void 0,window.dispatchEvent(new Event("resize"))}},onFrameStart:x=>{var v;if(!((v=this[b].actionPlayer)===null||v===void 0)&&v.playing)this[b].actionPlayer.playFrame();else{const A=x.session;this[b].updateViews(),this[b].pendingVisibilityState&&(this[b].visibilityState=this[b].pendingVisibilityState,this[b].pendingVisibilityState=null,A.dispatchEvent(new Ni("visibilitychange",{session:A}))),this[b].visibilityState==="visible"&&this.activeInputs.forEach(w=>{w.onFrameStart(x)}),this[b].pendingReferenceSpaceReset&&(A[p].referenceSpaces.forEach(w=>{switch(w[Ot].type){case me.Local:case me.LocalFloor:case me.BoundedFloor:case me.Unbounded:w.dispatchEvent(new uc("reset",{referenceSpace:w}));break}}),this[b].pendingReferenceSpaceReset=!1)}this[b].updateViews()}},this[b].updateViews()}installRuntime(e){var n;const r=(n=e?.globalObject)!==null&&n!==void 0?n:globalThis,i=e?.polyfillLayers;Object.defineProperty(WebGL2RenderingContext.prototype,"makeXRCompatible",{value:function(){return new Promise((s,a)=>{s(!0)})},configurable:!0}),this[b].xrSystem=new fc(this),Object.defineProperty(globalThis.navigator,"xr",{value:this[b].xrSystem,configurable:!0}),Object.defineProperty(navigator,"userAgent",{value:this[b].userAgent,writable:!1,configurable:!1,enumerable:!0}),r.XRSystem=fc,r.XRSession=ao,r.XRRenderState=wa,r.XRFrame=Fu,r.XRSpace=le,r.XRReferenceSpace=an,r.XRJointSpace=lo,r.XRView=Lu,r.XRViewport=ui,r.XRRigidTransform=on,r.XRPose=Ji,r.XRViewerPose=Nu,r.XRJointPose=Cu,r.XRInputSource=Ki,r.XRInputSourceArray=t3,r.XRHand=oo,r.XRLayer=zu,r.XRWebGLLayer=w3,r.XRSessionEvent=Ni,r.XRInputSourceEvent=Ei,r.XRInputSourcesChangeEvent=Iu,r.XRReferenceSpaceEvent=uc,i?new W3:(r.XRMediaBinding=void 0,r.XRWebGLBinding=void 0)}installDevUI(e){this[b].devui=new e(this)}installSEM(e){this[b].sem=new e(this)}get supportedSessionModes(){return this[b].supportedSessionModes}get supportedFeatures(){return this[b].supportedFeatures}get supportedFrameRates(){return this[b].supportedFrameRates}get isSystemKeyboardSupported(){return this[b].isSystemKeyboardSupported}get internalNominalFrameRate(){return this[b].internalNominalFrameRate}get stereoEnabled(){return this[b].stereoEnabled}set stereoEnabled(e){this[b].stereoEnabled=e}get ipd(){return this[b].ipd}set ipd(e){this[b].ipd=e}get fovy(){return this[b].fovy}set fovy(e){this[b].fovy=e}get position(){return this[b].position}get quaternion(){return this[b].quaternion}get viewerSpace(){var e;return!((e=this[b].actionPlayer)===null||e===void 0)&&e.playing?this[b].actionPlayer.viewerSpace:this[b].viewerSpace}get viewSpaces(){var e;return!((e=this[b].actionPlayer)===null||e===void 0)&&e.playing?this[b].actionPlayer.viewSpaces:this[b].viewSpaces}get controllers(){return this[b].controllers}get hands(){return this[b].hands}get primaryInputMode(){return this[b].primaryInputMode}set primaryInputMode(e){if(e!=="controller"&&e!=="hand"){console.warn('primary input mode can only be "controller" or "hand"');return}this[b].primaryInputMode=e}get activeInputs(){return this[b].visibilityState!=="visible"?[]:(this[b].primaryInputMode==="controller"?Object.values(this[b].controllers):Object.values(this[b].hands)).filter(n=>n.connected)}get inputSources(){var e;return!((e=this[b].actionPlayer)===null||e===void 0)&&e.playing?this[b].actionPlayer.inputSources:this.activeInputs.map(n=>n.inputSource)}get canvasContainer(){return this[b].canvasContainer}get canvasDimensions(){if(this[b].canvasData){const{width:e,height:n}=this[b].canvasData.canvas;return{width:e,height:n}}}get activeSession(){var e;return(e=this[b].xrSystem)===null||e===void 0?void 0:e[Ue].activeSession}get sessionOffered(){var e;return!!(!((e=this[b].xrSystem)===null||e===void 0)&&e[Ue].offeredSessionConfig)}get name(){return this[b].name}grantOfferedSession(){const e=this[b].xrSystem,n=e?.[Ue];if(n&&n.offeredSessionConfig){const{resolve:r,reject:i,mode:s,options:a}=n.offeredSessionConfig;n.offeredSessionConfig=void 0,e.requestSession(s,a).then(r).catch(i)}}recenter(){const e=new tn(-this.position.x,0,-this.position.z),n=new tn(0,0,-1).applyQuaternion(this.quaternion);n.y=0,n.normalize();const r=Math.atan2(n.x,-n.z),i=new Ir().setFromAxisAngle(new tn(0,1,0),r);this.position.add(e),this.quaternion.multiply(i),[...Object.values(this[b].controllers),...Object.values(this[b].hands)].forEach(s=>{s.position.add(e),s.quaternion.multiply(i),s.position.applyQuaternion(i)}),this[b].pendingReferenceSpaceReset=!0}get visibilityState(){return this[b].visibilityState}updateVisibilityState(e){if(!Object.values(["visible","visible-blurred","hidden"]).includes(e))throw new DOMException("Invalid XRVisibilityState value","NotSupportedError");e!==this[b].visibilityState&&(this[b].pendingVisibilityState=e)}createActionPlayer(e,n){return this[b].actionPlayer=new b3(e,n,this[b].ipd),this[b].actionPlayer}get devui(){return this[b].devui}get sem(){return this[b].sem}}const ns={mapping:jr.XRStandard,buttons:[{id:"trigger",type:"analog",eventTrigger:"select"},{id:"squeeze",type:"analog",eventTrigger:"squeeze"},null,{id:"thumbstick",type:"binary"},{id:"x-button",type:"binary"},{id:"y-button",type:"binary"},{id:"thumbrest",type:"binary"}],axes:[null,null,{id:"thumbstick",type:"x-axis"},{id:"thumbstick",type:"y-axis"}]},rs={mapping:jr.XRStandard,buttons:[{id:"trigger",type:"analog",eventTrigger:"select"},{id:"squeeze",type:"analog",eventTrigger:"squeeze"},null,{id:"thumbstick",type:"binary"},{id:"a-button",type:"binary"},{id:"b-button",type:"binary"},{id:"thumbrest",type:"binary"}],axes:[null,null,{id:"thumbstick",type:"x-axis"},{id:"thumbstick",type:"y-axis"}]},K3={profileId:"oculus-touch-v2",fallbackProfileIds:["oculus-touch","generic-trigger-squeeze-thumbstick"],layout:{left:{gamepad:ns,gripOffsetMatrix:[.9925461411476135,4673031295254759e-24,-.12186938524246216,0,.08617470413446426,.7071065306663513,.7018362283706665,0,.0861746296286583,-.70710688829422,.7018358707427979,0,-.003979847766458988,-.01585787907242775,.04964185878634453,1],numHapticActuators:1},right:{gamepad:rs,gripOffsetMatrix:[.9925461411476135,3688163374704345e-23,.12186937034130096,0,-.08617469668388367,.7071066498756409,.7018361687660217,0,-.0861746147274971,-.7071068286895752,.7018359899520874,0,.003979853354394436,-.01585787907242775,.04964182525873184,1],numHapticActuators:1}}},J3={profileId:"oculus-touch-v3",fallbackProfileIds:["oculus-touch","generic-trigger-squeeze-thumbstick"],layout:{left:{gamepad:ns,gripOffsetMatrix:[.9925461411476135,20823669899527886e-24,-.12186937034130096,0,.08617465198040009,.7071067094802856,.701836109161377,0,.08617466688156128,-.7071067690849304,.7018360495567322,0,-.003979838453233242,-.015857907012104988,.04964181408286095,1],numHapticActuators:1},right:{gamepad:rs,gripOffsetMatrix:[.9925461411476135,-8329467959811154e-23,.12186941504478455,0,-.08617465943098068,.7071066498756409,.7018361687660217,0,-.08617471158504486,-.7071068286895752,.7018359303474426,0,.003979798872023821,-.015857888385653496,.049641866236925125,1],numHapticActuators:1}}},e5={profileId:"meta-quest-touch-pro",fallbackProfileIds:["oculus-touch-v2","oculus-touch","generic-trigger-squeeze-thumbstick"],layout:{left:{gamepad:ns,gripOffsetMatrix:[.9925461411476135,-15779937356796836e-24,-.12186935544013977,0,.08617467433214188,.7071067094802856,.701836109161377,0,.0861746296286583,-.7071067690849304,.7018360495567322,0,-.003979836590588093,-.015857847407460213,.049641840159893036,1],numHapticActuators:3},right:{gamepad:rs,gripOffsetMatrix:[.9925461411476135,9267653311439972e-26,.12186937034130096,0,-.08617467433214188,.7071067094802856,.7018361687660217,0,-.08617464452981949,-.7071067690849304,.7018360495567322,0,.003979847766458988,-.01585782691836357,.04964186251163483,1],numHapticActuators:3}}},t5={profileId:"meta-quest-touch-plus",fallbackProfileIds:["oculus-touch-v3","oculus-touch","generic-trigger-squeeze-thumbstick"],layout:{left:{gamepad:ns,gripOffsetMatrix:[.9925461411476135,10736208366779465e-24,-.12186933308839798,0,.08617459982633591,.70710688829422,.7018360495567322,0,.08617466688156128,-.7071067094802856,.7018362283706665,0,-.003979803062975407,-.015857873484492302,.04964187368750572,1],numHapticActuators:1},right:{gamepad:rs,gripOffsetMatrix:[.9925461411476135,-26238110351073374e-24,.12186934053897858,0,-.0861746147274971,.7071067690849304,.7018360495567322,0,-.08617465943098068,-.7071067094802856,.701836109161377,0,.003979838453233242,-.015857869759202003,.04964182525873184,1],numHapticActuators:1}}},n5={name:"Oculus Quest 1",controllerConfig:K3,supportedSessionModes:["inline","immersive-vr","immersive-ar"],supportedFeatures:["viewer","local","local-floor","bounded-floor","unbounded","anchors","plane-detection","hand-tracking"],supportedFrameRates:[72,80,90],isSystemKeyboardSupported:!0,internalNominalFrameRate:72,environmentBlendModes:{"immersive-vr":Ke.Opaque,"immersive-ar":Ke.AlphaBlend},interactionMode:Qn.WorldSpace,userAgent:"Mozilla/5.0 (X11; Linux x86_64; Quest 1) AppleWebKit/537.36 (KHTML, like Gecko) OculusBrowser/33.0.0.x.x.x Chrome/126.0.6478.122 VR Safari/537.36"},r5={name:"Meta Quest 2",controllerConfig:J3,supportedSessionModes:["inline","immersive-vr","immersive-ar"],supportedFeatures:["viewer","local","local-floor","bounded-floor","unbounded","anchors","plane-detection","mesh-detection","hit-test","hand-tracking"],supportedFrameRates:[72,80,90,120],isSystemKeyboardSupported:!0,internalNominalFrameRate:72,environmentBlendModes:{"immersive-vr":Ke.Opaque,"immersive-ar":Ke.AlphaBlend},interactionMode:Qn.WorldSpace,userAgent:"Mozilla/5.0 (X11; Linux x86_64; Quest 2) AppleWebKit/537.36 (KHTML, like Gecko) OculusBrowser/33.0.0.x.x.x Chrome/126.0.6478.122 VR Safari/537.36"},i5={name:"Meta Quest Pro",controllerConfig:e5,supportedSessionModes:["inline","immersive-vr","immersive-ar"],supportedFeatures:["viewer","local","local-floor","bounded-floor","unbounded","anchors","plane-detection","mesh-detection","hit-test","hand-tracking"],supportedFrameRates:[72,80,90,120],isSystemKeyboardSupported:!0,internalNominalFrameRate:90,environmentBlendModes:{"immersive-vr":Ke.Opaque,"immersive-ar":Ke.AlphaBlend},interactionMode:Qn.WorldSpace,userAgent:"Mozilla/5.0 (X11; Linux x86_64; Quest Pro) AppleWebKit/537.36 (KHTML, like Gecko) OculusBrowser/33.0.0.x.x.x Chrome/126.0.6478.122 VR Safari/537.36"},s5={name:"Meta Quest 3",controllerConfig:t5,supportedSessionModes:["inline","immersive-vr","immersive-ar"],supportedFeatures:["viewer","local","local-floor","bounded-floor","unbounded","anchors","plane-detection","mesh-detection","hit-test","hand-tracking","depth-sensing"],supportedFrameRates:[72,80,90,120],isSystemKeyboardSupported:!0,internalNominalFrameRate:90,environmentBlendModes:{"immersive-vr":Ke.Opaque,"immersive-ar":Ke.AlphaBlend},interactionMode:Qn.WorldSpace,userAgent:"Mozilla/5.0 (X11; Linux x86_64; Quest 3) AppleWebKit/537.36 (KHTML, like Gecko) OculusBrowser/33.0.0.x.x.x Chrome/126.0.6478.122 VR Safari/537.36"};function a5(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function js(t,e,n){for(let s=0;s<28;s=s+7){const a=t>>>s,o=!(!(a>>>7)&&e==0),l=(o?a|128:a)&255;if(n.push(l),!o)return}const r=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const a=e>>>s,o=!!(a>>>7),l=(o?a|128:a)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const Ti=4294967296;function gc(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(a,o){const l=Number(t.slice(a,o));i*=n,r=r*n+l,r>=Ti&&(i=i+(r/Ti|0),r=r%Ti)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?$u(r,i):mo(r,i)}function o5(t,e){let n=mo(t,e);const r=n.hi&2147483648;r&&(n=$u(n.lo,n.hi));const i=Gu(n.lo,n.hi);return r?"-"+i:i}function Gu(t,e){if({lo:t,hi:e}=l5(t,e),e<=2097151)return String(Ti*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,a=r+i*8147497,o=i*2;const l=1e7;return s>=l&&(a+=Math.floor(s/l),s%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+xc(a)+xc(s)}function l5(t,e){return{lo:t>>>0,hi:e>>>0}}function mo(t,e){return{lo:t|0,hi:e|0}}function $u(t,e){return e=~e,t?t=~t+1:e+=1,mo(t,e)}const xc=t=>{const e=String(t);return"0000000".slice(e.length)+e};function yc(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function c5(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var vc={};const rt=u5();function u5(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof vc!="object"||vc.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),i=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>r||o<n)throw new Error(`invalid int64: ${a}`);return o},uParse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>s||o<i)throw new Error(`invalid uint64: ${a}`);return o},enc(a){return t.setBigInt64(0,this.parse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(a){return t.setBigInt64(0,this.uParse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigInt64(0,!0)},uDec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),wc(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),bc(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),wc(n),gc(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),bc(n),gc(n)},dec(n,r){return o5(n,r)},uDec(n,r){return Gu(n,r)}}}function wc(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function bc(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}const Us=Symbol.for("@bufbuild/protobuf/text-encoding");function Wu(){if(globalThis[Us]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Us]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[Us]}var It;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(It||(It={}));const f5=34028234663852886e22,h5=-34028234663852886e22,d5=4294967295,p5=2147483647,m5=-2147483648;class Re{constructor(e=Wu().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Ec(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Vs(e),yc(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){g5(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){Ec(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){Vs(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return Vs(e),e=(e<<1^e>>31)>>>0,yc(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=rt.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=rt.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=rt.enc(e);return js(n.lo,n.hi,this.buf),this}sint64(e){const n=rt.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return js(i,s,this.buf),this}uint64(e){const n=rt.uEnc(e);return js(n.lo,n.hi,this.buf),this}}class Z{constructor(e,n=Wu().decodeUtf8){this.decodeUtf8=n,this.varint64=a5,this.uint32=c5,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case It.Varint:for(;this.buf[this.pos++]&128;);break;case It.Bit64:this.pos+=4;case It.Bit32:this.pos+=4;break;case It.LengthDelimited:let i=this.uint32();this.pos+=i;break;case It.StartGroup:for(;;){const[s,a]=this.tag();if(a===It.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return rt.dec(...this.varint64())}uint64(){return rt.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,rt.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return rt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return rt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function Vs(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>p5||t<m5)throw new Error("invalid int32: "+t)}function Ec(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>d5||t<0)throw new Error("invalid uint32: "+t)}function g5(t){if(typeof t=="string"){const e=t;if(t=Number(t),Number.isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>f5||t<h5))throw new Error("invalid float32: "+t)}function Tc(){return{x:0,y:0}}const En={encode(t,e=new Re){return t.x!==0&&e.uint32(13).float(t.x),t.y!==0&&e.uint32(21).float(t.y),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Tc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==13)break;i.x=n.float();continue}case 2:{if(s!==21)break;i.y=n.float();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{x:de(t.x)?globalThis.Number(t.x):0,y:de(t.y)?globalThis.Number(t.y):0}},toJSON(t){const e={};return t.x!==0&&(e.x=t.x),t.y!==0&&(e.y=t.y),e},create(t){return En.fromPartial(t??{})},fromPartial(t){var e,n;const r=Tc();return r.x=(e=t.x)!==null&&e!==void 0?e:0,r.y=(n=t.y)!==null&&n!==void 0?n:0,r}};function _c(){return{width:0,height:0}}const Tn={encode(t,e=new Re){return t.width!==0&&e.uint32(13).float(t.width),t.height!==0&&e.uint32(21).float(t.height),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=_c();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==13)break;i.width=n.float();continue}case 2:{if(s!==21)break;i.height=n.float();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{width:de(t.width)?globalThis.Number(t.width):0,height:de(t.height)?globalThis.Number(t.height):0}},toJSON(t){const e={};return t.width!==0&&(e.width=t.width),t.height!==0&&(e.height=t.height),e},create(t){return Tn.fromPartial(t??{})},fromPartial(t){var e,n;const r=_c();return r.width=(e=t.width)!==null&&e!==void 0?e:0,r.height=(n=t.height)!==null&&n!==void 0?n:0,r}};function Sc(){return{x:0,y:0,z:0}}const Xe={encode(t,e=new Re){return t.x!==0&&e.uint32(13).float(t.x),t.y!==0&&e.uint32(21).float(t.y),t.z!==0&&e.uint32(29).float(t.z),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Sc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==13)break;i.x=n.float();continue}case 2:{if(s!==21)break;i.y=n.float();continue}case 3:{if(s!==29)break;i.z=n.float();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{x:de(t.x)?globalThis.Number(t.x):0,y:de(t.y)?globalThis.Number(t.y):0,z:de(t.z)?globalThis.Number(t.z):0}},toJSON(t){const e={};return t.x!==0&&(e.x=t.x),t.y!==0&&(e.y=t.y),t.z!==0&&(e.z=t.z),e},create(t){return Xe.fromPartial(t??{})},fromPartial(t){var e,n,r;const i=Sc();return i.x=(e=t.x)!==null&&e!==void 0?e:0,i.y=(n=t.y)!==null&&n!==void 0?n:0,i.z=(r=t.z)!==null&&r!==void 0?r:0,i}};function Ac(){return{width:0,height:0,depth:0}}const _n={encode(t,e=new Re){return t.width!==0&&e.uint32(13).float(t.width),t.height!==0&&e.uint32(21).float(t.height),t.depth!==0&&e.uint32(29).float(t.depth),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Ac();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==13)break;i.width=n.float();continue}case 2:{if(s!==21)break;i.height=n.float();continue}case 3:{if(s!==29)break;i.depth=n.float();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{width:de(t.width)?globalThis.Number(t.width):0,height:de(t.height)?globalThis.Number(t.height):0,depth:de(t.depth)?globalThis.Number(t.depth):0}},toJSON(t){const e={};return t.width!==0&&(e.width=t.width),t.height!==0&&(e.height=t.height),t.depth!==0&&(e.depth=t.depth),e},create(t){return _n.fromPartial(t??{})},fromPartial(t){var e,n,r;const i=Ac();return i.width=(e=t.width)!==null&&e!==void 0?e:0,i.height=(n=t.height)!==null&&n!==void 0?n:0,i.depth=(r=t.depth)!==null&&r!==void 0?r:0,i}};function Mc(){return{x:0,y:0,z:0,w:0}}const Sn={encode(t,e=new Re){return t.x!==0&&e.uint32(13).float(t.x),t.y!==0&&e.uint32(21).float(t.y),t.z!==0&&e.uint32(29).float(t.z),t.w!==0&&e.uint32(37).float(t.w),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Mc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==13)break;i.x=n.float();continue}case 2:{if(s!==21)break;i.y=n.float();continue}case 3:{if(s!==29)break;i.z=n.float();continue}case 4:{if(s!==37)break;i.w=n.float();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{x:de(t.x)?globalThis.Number(t.x):0,y:de(t.y)?globalThis.Number(t.y):0,z:de(t.z)?globalThis.Number(t.z):0,w:de(t.w)?globalThis.Number(t.w):0}},toJSON(t){const e={};return t.x!==0&&(e.x=t.x),t.y!==0&&(e.y=t.y),t.z!==0&&(e.z=t.z),t.w!==0&&(e.w=t.w),e},create(t){return Sn.fromPartial(t??{})},fromPartial(t){var e,n,r,i;const s=Mc();return s.x=(e=t.x)!==null&&e!==void 0?e:0,s.y=(n=t.y)!==null&&n!==void 0?n:0,s.z=(r=t.z)!==null&&r!==void 0?r:0,s.w=(i=t.w)!==null&&i!==void 0?i:0,s}};function Rc(){return{offset:void 0,extent:void 0}}const An={encode(t,e=new Re){return t.offset!==void 0&&En.encode(t.offset,e.uint32(10).fork()).join(),t.extent!==void 0&&Tn.encode(t.extent,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Rc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.offset=En.decode(n,n.uint32());continue}case 2:{if(s!==18)break;i.extent=Tn.decode(n,n.uint32());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{offset:de(t.offset)?En.fromJSON(t.offset):void 0,extent:de(t.extent)?Tn.fromJSON(t.extent):void 0}},toJSON(t){const e={};return t.offset!==void 0&&(e.offset=En.toJSON(t.offset)),t.extent!==void 0&&(e.extent=Tn.toJSON(t.extent)),e},create(t){return An.fromPartial(t??{})},fromPartial(t){const e=Rc();return e.offset=t.offset!==void 0&&t.offset!==null?En.fromPartial(t.offset):void 0,e.extent=t.extent!==void 0&&t.extent!==null?Tn.fromPartial(t.extent):void 0,e}};function Pc(){return{offset:void 0,extent:void 0}}const Mn={encode(t,e=new Re){return t.offset!==void 0&&Xe.encode(t.offset,e.uint32(10).fork()).join(),t.extent!==void 0&&_n.encode(t.extent,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Pc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.offset=Xe.decode(n,n.uint32());continue}case 2:{if(s!==18)break;i.extent=_n.decode(n,n.uint32());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{offset:de(t.offset)?Xe.fromJSON(t.offset):void 0,extent:de(t.extent)?_n.fromJSON(t.extent):void 0}},toJSON(t){const e={};return t.offset!==void 0&&(e.offset=Xe.toJSON(t.offset)),t.extent!==void 0&&(e.extent=_n.toJSON(t.extent)),e},create(t){return Mn.fromPartial(t??{})},fromPartial(t){const e=Pc();return e.offset=t.offset!==void 0&&t.offset!==null?Xe.fromPartial(t.offset):void 0,e.extent=t.extent!==void 0&&t.extent!==null?_n.fromPartial(t.extent):void 0,e}};function Oc(){return{orientation:void 0,position:void 0}}const Rn={encode(t,e=new Re){return t.orientation!==void 0&&Sn.encode(t.orientation,e.uint32(10).fork()).join(),t.position!==void 0&&Xe.encode(t.position,e.uint32(18).fork()).join(),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Oc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.orientation=Sn.decode(n,n.uint32());continue}case 2:{if(s!==18)break;i.position=Xe.decode(n,n.uint32());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{orientation:de(t.orientation)?Sn.fromJSON(t.orientation):void 0,position:de(t.position)?Xe.fromJSON(t.position):void 0}},toJSON(t){const e={};return t.orientation!==void 0&&(e.orientation=Sn.toJSON(t.orientation)),t.position!==void 0&&(e.position=Xe.toJSON(t.position)),e},create(t){return Rn.fromPartial(t??{})},fromPartial(t){const e=Oc();return e.orientation=t.orientation!==void 0&&t.orientation!==null?Sn.fromPartial(t.orientation):void 0,e.position=t.position!==void 0&&t.position!==null?Xe.fromPartial(t.position):void 0,e}};function de(t){return t!=null}var Jn;(function(t){t[t.Keyboard=0]="Keyboard",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Jn||(Jn={}));function x5(t){switch(t){case 0:case"Keyboard":return Jn.Keyboard;case-1:case"UNRECOGNIZED":default:return Jn.UNRECOGNIZED}}function y5(t){switch(t){case Jn.Keyboard:return"Keyboard";case Jn.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var R;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.FLOOR=1]="FLOOR",t[t.CEILING=2]="CEILING",t[t.WALL_FACE=3]="WALL_FACE",t[t.TABLE=4]="TABLE",t[t.COUCH=5]="COUCH",t[t.DOOR_FRAME=6]="DOOR_FRAME",t[t.WINDOW_FRAME=7]="WINDOW_FRAME",t[t.OTHER=8]="OTHER",t[t.STORAGE=9]="STORAGE",t[t.BED=10]="BED",t[t.SCREEN=11]="SCREEN",t[t.LAMP=12]="LAMP",t[t.PLANT=13]="PLANT",t[t.WALL_ART=14]="WALL_ART",t[t.GLOBAL_MESH=15]="GLOBAL_MESH",t[t.INVISIBLE_WALL_FACE=16]="INVISIBLE_WALL_FACE",t[t.CHAIR=17]="CHAIR",t[t.INNER_WALL_FACE=18]="INNER_WALL_FACE",t[t.OTHER_ROOM_FACE=19]="OTHER_ROOM_FACE",t[t.OPENING=20]="OPENING",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(R||(R={}));function v5(t){switch(t){case 0:case"UNKNOWN":return R.UNKNOWN;case 1:case"FLOOR":return R.FLOOR;case 2:case"CEILING":return R.CEILING;case 3:case"WALL_FACE":return R.WALL_FACE;case 4:case"TABLE":return R.TABLE;case 5:case"COUCH":return R.COUCH;case 6:case"DOOR_FRAME":return R.DOOR_FRAME;case 7:case"WINDOW_FRAME":return R.WINDOW_FRAME;case 8:case"OTHER":return R.OTHER;case 9:case"STORAGE":return R.STORAGE;case 10:case"BED":return R.BED;case 11:case"SCREEN":return R.SCREEN;case 12:case"LAMP":return R.LAMP;case 13:case"PLANT":return R.PLANT;case 14:case"WALL_ART":return R.WALL_ART;case 15:case"GLOBAL_MESH":return R.GLOBAL_MESH;case 16:case"INVISIBLE_WALL_FACE":return R.INVISIBLE_WALL_FACE;case 17:case"CHAIR":return R.CHAIR;case 18:case"INNER_WALL_FACE":return R.INNER_WALL_FACE;case 19:case"OTHER_ROOM_FACE":return R.OTHER_ROOM_FACE;case 20:case"OPENING":return R.OPENING;case-1:case"UNRECOGNIZED":default:return R.UNRECOGNIZED}}function Aa(t){switch(t){case R.UNKNOWN:return"UNKNOWN";case R.FLOOR:return"FLOOR";case R.CEILING:return"CEILING";case R.WALL_FACE:return"WALL_FACE";case R.TABLE:return"TABLE";case R.COUCH:return"COUCH";case R.DOOR_FRAME:return"DOOR_FRAME";case R.WINDOW_FRAME:return"WINDOW_FRAME";case R.OTHER:return"OTHER";case R.STORAGE:return"STORAGE";case R.BED:return"BED";case R.SCREEN:return"SCREEN";case R.LAMP:return"LAMP";case R.PLANT:return"PLANT";case R.WALL_ART:return"WALL_ART";case R.GLOBAL_MESH:return"GLOBAL_MESH";case R.INVISIBLE_WALL_FACE:return"INVISIBLE_WALL_FACE";case R.CHAIR:return"CHAIR";case R.INNER_WALL_FACE:return"INNER_WALL_FACE";case R.OTHER_ROOM_FACE:return"OTHER_ROOM_FACE";case R.OPENING:return"OPENING";case R.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function Ic(){return{floorUuid:"",ceilingUuid:"",wallUuids:[]}}const Pn={encode(t,e=new Re){t.floorUuid!==""&&e.uint32(10).string(t.floorUuid),t.ceilingUuid!==""&&e.uint32(18).string(t.ceilingUuid);for(const n of t.wallUuids)e.uint32(26).string(n);return e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Ic();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.floorUuid=n.string();continue}case 2:{if(s!==18)break;i.ceilingUuid=n.string();continue}case 3:{if(s!==26)break;i.wallUuids.push(n.string());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{floorUuid:we(t.floorUuid)?globalThis.String(t.floorUuid):"",ceilingUuid:we(t.ceilingUuid)?globalThis.String(t.ceilingUuid):"",wallUuids:globalThis.Array.isArray(t?.wallUuids)?t.wallUuids.map(e=>globalThis.String(e)):[]}},toJSON(t){var e;const n={};return t.floorUuid!==""&&(n.floorUuid=t.floorUuid),t.ceilingUuid!==""&&(n.ceilingUuid=t.ceilingUuid),!((e=t.wallUuids)===null||e===void 0)&&e.length&&(n.wallUuids=t.wallUuids),n},create(t){return Pn.fromPartial(t??{})},fromPartial(t){var e,n,r;const i=Ic();return i.floorUuid=(e=t.floorUuid)!==null&&e!==void 0?e:"",i.ceilingUuid=(n=t.ceilingUuid)!==null&&n!==void 0?n:"",i.wallUuids=((r=t.wallUuids)===null||r===void 0?void 0:r.map(s=>s))||[],i}};function kc(){return{uuids:[]}}const On={encode(t,e=new Re){for(const n of t.uuids)e.uint32(10).string(n);return e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=kc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.uuids.push(n.string());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{uuids:globalThis.Array.isArray(t?.uuids)?t.uuids.map(e=>globalThis.String(e)):[]}},toJSON(t){var e;const n={};return!((e=t.uuids)===null||e===void 0)&&e.length&&(n.uuids=t.uuids),n},create(t){return On.fromPartial(t??{})},fromPartial(t){var e;const n=kc();return n.uuids=((e=t.uuids)===null||e===void 0?void 0:e.map(r=>r))||[],n}};function Lc(){return{vertices:new Uint8Array(0)}}const In={encode(t,e=new Re){return t.vertices.length!==0&&e.uint32(10).bytes(t.vertices),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Lc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.vertices=n.bytes();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{vertices:we(t.vertices)?Ma(t.vertices):new Uint8Array(0)}},toJSON(t){const e={};return t.vertices.length!==0&&(e.vertices=Ra(t.vertices)),e},create(t){return In.fromPartial(t??{})},fromPartial(t){var e;const n=Lc();return n.vertices=(e=t.vertices)!==null&&e!==void 0?e:new Uint8Array(0),n}};function Cc(){return{vertices:new Uint8Array(0),indices:new Uint8Array(0)}}const kn={encode(t,e=new Re){return t.vertices.length!==0&&e.uint32(10).bytes(t.vertices),t.indices.length!==0&&e.uint32(18).bytes(t.indices),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Cc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.vertices=n.bytes();continue}case 2:{if(s!==18)break;i.indices=n.bytes();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{vertices:we(t.vertices)?Ma(t.vertices):new Uint8Array(0),indices:we(t.indices)?Ma(t.indices):new Uint8Array(0)}},toJSON(t){const e={};return t.vertices.length!==0&&(e.vertices=Ra(t.vertices)),t.indices.length!==0&&(e.indices=Ra(t.indices)),e},create(t){return kn.fromPartial(t??{})},fromPartial(t){var e,n;const r=Cc();return r.vertices=(e=t.vertices)!==null&&e!==void 0?e:new Uint8Array(0),r.indices=(n=t.indices)!==null&&n!==void 0?n:new Uint8Array(0),r}};function Nc(){return{classType:0}}const Ln={encode(t,e=new Re){return t.classType!==0&&e.uint32(8).int32(t.classType),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Nc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==8)break;i.classType=n.int32();continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{classType:we(t.classType)?x5(t.classType):0}},toJSON(t){const e={};return t.classType!==0&&(e.classType=y5(t.classType)),e},create(t){return Ln.fromPartial(t??{})},fromPartial(t){var e;const n=Nc();return n.classType=(e=t.classType)!==null&&e!==void 0?e:0,n}};function Fc(){return{uuid:"",semanticLabel_META:void 0,locatable_META:void 0,boundary2D_META:void 0,bounded2D_META:void 0,bounded3D_META:void 0,roomLayout_META:void 0,spaceContainer_META:void 0,triangleMesh_META:void 0,dynamicObject_META:void 0}}const Xu={encode(t,e=new Re){return t.uuid!==""&&e.uint32(10).string(t.uuid),t.semanticLabel_META!==void 0&&e.uint32(16).int32(t.semanticLabel_META),t.locatable_META!==void 0&&Rn.encode(t.locatable_META,e.uint32(26).fork()).join(),t.boundary2D_META!==void 0&&In.encode(t.boundary2D_META,e.uint32(34).fork()).join(),t.bounded2D_META!==void 0&&An.encode(t.bounded2D_META,e.uint32(42).fork()).join(),t.bounded3D_META!==void 0&&Mn.encode(t.bounded3D_META,e.uint32(50).fork()).join(),t.roomLayout_META!==void 0&&Pn.encode(t.roomLayout_META,e.uint32(58).fork()).join(),t.spaceContainer_META!==void 0&&On.encode(t.spaceContainer_META,e.uint32(66).fork()).join(),t.triangleMesh_META!==void 0&&kn.encode(t.triangleMesh_META,e.uint32(74).fork()).join(),t.dynamicObject_META!==void 0&&Ln.encode(t.dynamicObject_META,e.uint32(82).fork()).join(),e},decode(t,e){const n=t instanceof Z?t:new Z(t);let r=e===void 0?n.len:n.pos+e;const i=Fc();for(;n.pos<r;){const s=n.uint32();switch(s>>>3){case 1:{if(s!==10)break;i.uuid=n.string();continue}case 2:{if(s!==16)break;i.semanticLabel_META=n.int32();continue}case 3:{if(s!==26)break;i.locatable_META=Rn.decode(n,n.uint32());continue}case 4:{if(s!==34)break;i.boundary2D_META=In.decode(n,n.uint32());continue}case 5:{if(s!==42)break;i.bounded2D_META=An.decode(n,n.uint32());continue}case 6:{if(s!==50)break;i.bounded3D_META=Mn.decode(n,n.uint32());continue}case 7:{if(s!==58)break;i.roomLayout_META=Pn.decode(n,n.uint32());continue}case 8:{if(s!==66)break;i.spaceContainer_META=On.decode(n,n.uint32());continue}case 9:{if(s!==74)break;i.triangleMesh_META=kn.decode(n,n.uint32());continue}case 10:{if(s!==82)break;i.dynamicObject_META=Ln.decode(n,n.uint32());continue}}if((s&7)===4||s===0)break;n.skip(s&7)}return i},fromJSON(t){return{uuid:we(t.uuid)?globalThis.String(t.uuid):"",semanticLabel_META:we(t.semanticLabel_META)?v5(t.semanticLabel_META):void 0,locatable_META:we(t.locatable_META)?Rn.fromJSON(t.locatable_META):void 0,boundary2D_META:we(t.boundary2D_META)?In.fromJSON(t.boundary2D_META):void 0,bounded2D_META:we(t.bounded2D_META)?An.fromJSON(t.bounded2D_META):void 0,bounded3D_META:we(t.bounded3D_META)?Mn.fromJSON(t.bounded3D_META):void 0,roomLayout_META:we(t.roomLayout_META)?Pn.fromJSON(t.roomLayout_META):void 0,spaceContainer_META:we(t.spaceContainer_META)?On.fromJSON(t.spaceContainer_META):void 0,triangleMesh_META:we(t.triangleMesh_META)?kn.fromJSON(t.triangleMesh_META):void 0,dynamicObject_META:we(t.dynamicObject_META)?Ln.fromJSON(t.dynamicObject_META):void 0}},toJSON(t){const e={};return t.uuid!==""&&(e.uuid=t.uuid),t.semanticLabel_META!==void 0&&(e.semanticLabel_META=Aa(t.semanticLabel_META)),t.locatable_META!==void 0&&(e.locatable_META=Rn.toJSON(t.locatable_META)),t.boundary2D_META!==void 0&&(e.boundary2D_META=In.toJSON(t.boundary2D_META)),t.bounded2D_META!==void 0&&(e.bounded2D_META=An.toJSON(t.bounded2D_META)),t.bounded3D_META!==void 0&&(e.bounded3D_META=Mn.toJSON(t.bounded3D_META)),t.roomLayout_META!==void 0&&(e.roomLayout_META=Pn.toJSON(t.roomLayout_META)),t.spaceContainer_META!==void 0&&(e.spaceContainer_META=On.toJSON(t.spaceContainer_META)),t.triangleMesh_META!==void 0&&(e.triangleMesh_META=kn.toJSON(t.triangleMesh_META)),t.dynamicObject_META!==void 0&&(e.dynamicObject_META=Ln.toJSON(t.dynamicObject_META)),e},create(t){return Xu.fromPartial(t??{})},fromPartial(t){var e,n;const r=Fc();return r.uuid=(e=t.uuid)!==null&&e!==void 0?e:"",r.semanticLabel_META=(n=t.semanticLabel_META)!==null&&n!==void 0?n:void 0,r.locatable_META=t.locatable_META!==void 0&&t.locatable_META!==null?Rn.fromPartial(t.locatable_META):void 0,r.boundary2D_META=t.boundary2D_META!==void 0&&t.boundary2D_META!==null?In.fromPartial(t.boundary2D_META):void 0,r.bounded2D_META=t.bounded2D_META!==void 0&&t.bounded2D_META!==null?An.fromPartial(t.bounded2D_META):void 0,r.bounded3D_META=t.bounded3D_META!==void 0&&t.bounded3D_META!==null?Mn.fromPartial(t.bounded3D_META):void 0,r.roomLayout_META=t.roomLayout_META!==void 0&&t.roomLayout_META!==null?Pn.fromPartial(t.roomLayout_META):void 0,r.spaceContainer_META=t.spaceContainer_META!==void 0&&t.spaceContainer_META!==null?On.fromPartial(t.spaceContainer_META):void 0,r.triangleMesh_META=t.triangleMesh_META!==void 0&&t.triangleMesh_META!==null?kn.fromPartial(t.triangleMesh_META):void 0,r.dynamicObject_META=t.dynamicObject_META!==void 0&&t.dynamicObject_META!==null?Ln.fromPartial(t.dynamicObject_META):void 0,r}};function Ma(t){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(t,"base64"));{const e=globalThis.atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}}function Ra(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{const e=[];return t.forEach(n=>{e.push(globalThis.String.fromCharCode(n))}),globalThis.btoa(e.join(""))}}function we(t){return t!=null}var Q;(function(t){t.Locatable="locatable",t.Bounded3D="bounded3D",t.Bounded2D="bounded2D",t.TriangleMesh="triangleMesh",t.SemanticLabel="semanticLabel"})(Q||(Q={}));class Yr extends EventTarget{constructor(e){super(),this._spatialEntity=e}}class w5 extends Yr{constructor(e,n){super(e),this._offset=new ht,this._extent=new ht,this.type=Q.Bounded2D;const{offset:r,extent:i}=n;this._offset.set(r.x,r.y),this._extent.set(i.width,i.height),this.buildGeometry()}buildGeometry(){var e;const n=new af(this._extent.x,this._extent.y);n.translate(this._offset.x+this._extent.x/2,this._offset.y+this._extent.y/2,0),n.rotateX(Math.PI/2),(e=this._spatialEntity.geometry)===null||e===void 0||e.dispose(),this._spatialEntity.geometry=n}get offset(){return this._offset}get extent(){return this._extent}get initData(){return{offset:this.offset,extent:this.extent}}get pbData(){return{offset:{x:this._offset.x,y:this._offset.y},extent:{width:this._extent.x,height:this._extent.y}}}}class b5 extends Yr{constructor(e,n){super(e),this._offset=new _,this._extent=new _,this.type=Q.Bounded3D;const{offset:r,extent:i}=n;this._offset.set(r.x,r.y,r.z),this._extent.set(i.width,i.height,i.depth),this.buildGeometry()}buildGeometry(){var e;const n=new jn(this._extent.x,this._extent.y,this._extent.z);n.translate(this._offset.x+this._extent.x/2,this._offset.y+this._extent.y/2,this._offset.z+this._extent.z/2),(e=this._spatialEntity.geometry)===null||e===void 0||e.dispose(),this._spatialEntity.geometry=n}get offset(){return this._offset}get extent(){return this._extent}get initData(){return{offset:this.offset,extent:this.extent}}get pbData(){return{offset:{x:this._offset.x,y:this._offset.y,z:this._offset.z},extent:{width:this._extent.x,height:this._extent.y,depth:this._extent.z}}}}class E5 extends Yr{constructor(e,n){super(e),this.type=Q.Locatable,n.position&&this.position.copy(n.position),n.orientation&&this.orientation.copy(n.orientation)}get position(){return this._spatialEntity.position}get rotation(){return this._spatialEntity.rotation}get orientation(){return this._spatialEntity.quaternion}get initData(){return{position:{x:this.position.x,y:this.position.y,z:this.position.z},orientation:{x:this.orientation.x,y:this.orientation.y,z:this.orientation.z,w:this.orientation.w}}}get pbData(){return{position:{x:this._spatialEntity.position.x,y:this._spatialEntity.position.y,z:this._spatialEntity.position.z},orientation:{x:this._spatialEntity.quaternion.x,y:this._spatialEntity.quaternion.y,z:this._spatialEntity.quaternion.z,w:this._spatialEntity.quaternion.w}}}}function zc(t){return t.toLowerCase().replace(/_/g," ").trim()}class T5 extends Yr{constructor(e,n){super(e),this._semanticLabel=n,this.type=Q.SemanticLabel,this._spatialEntity.name=zc(Aa(n))}get semanticLabel(){return this._semanticLabel}set semanticLabel(e){Object.values(R).includes(e)?this._semanticLabel=e:this._semanticLabel=R.UNRECOGNIZED,this._spatialEntity.name=zc(Aa(this._semanticLabel))}get initData(){return this._semanticLabel}get pbData(){return this._semanticLabel}}function Dc(t){const e=new Float32Array(t.length*3);let n=0;for(const r of t)e[n++]=r.x,e[n++]=r.y,e[n++]=r.z;return e}class _5 extends Yr{constructor(e,n){super(e),this._polygonCount=0,this._vertexCount=0,this._dimensions={x:0,y:0,z:0},this.type=Q.TriangleMesh;const{vertices:r,indices:i}=n,s=new Float32Array(r.buffer),a=new Uint32Array(i.buffer),o=[];for(let c=0;c<s.length/3;c++)o.push({x:s[3*c],y:s[3*c+1],z:s[3*c+2]});this._vertices=o,this._indices=[...a],this.buildGeometry();const l=e.material;l.polygonOffset=!0,l.polygonOffsetFactor=1,l.polygonOffsetUnits=.005,l.color.setHex(13948116),e.renderOrder=999}buildGeometry(){var e;const n=new Ia,r=Dc(this._vertices);n.setAttribute("position",new yo(r,3)),n.setIndex(new yo(new Uint16Array(this._indices),1)),(e=this._spatialEntity.geometry)===null||e===void 0||e.dispose(),this._spatialEntity.geometry=n,n.computeVertexNormals(),this._vertexCount=n.attributes.position.count,this._polygonCount=n.index?n.index.count/3:this._vertexCount/3,n.computeBoundingBox();const i=n.boundingBox;this._dimensions={x:i.max.x-i.min.x,y:i.max.y-i.min.y,z:i.max.z-i.min.z}}get vertexCount(){return this._vertexCount}get polygonCount(){return this._polygonCount}get dimensions(){return this._dimensions}get initData(){return{vertices:this._vertices,indices:this._indices}}get pbData(){const e=Dc(this._vertices),n=new Uint32Array(this._indices);return{vertices:new Uint8Array(e.buffer),indices:new Uint8Array(n.buffer)}}}var $e;(function(t){t.Plane="plane",t.Box="box",t.Mesh="mesh"})($e||($e={}));const S5={[R.OTHER]:j.Other,[R.TABLE]:j.Table,[R.COUCH]:j.Couch,[R.FLOOR]:j.Floor,[R.CEILING]:j.Ceiling,[R.WALL_FACE]:j.Wall,[R.INVISIBLE_WALL_FACE]:j.Window,[R.INNER_WALL_FACE]:j.Wall,[R.DOOR_FRAME]:j.Door,[R.WINDOW_FRAME]:j.Window,[R.WALL_ART]:j.WallArt,[R.STORAGE]:j.Shelf,[R.BED]:j.Bed,[R.LAMP]:j.Lamp,[R.SCREEN]:j.Screen,[R.PLANT]:j.Plant,[R.GLOBAL_MESH]:j.GlobalMesh,[R.CHAIR]:j.Couch,[R.UNKNOWN]:j.Other,[R.OTHER_ROOM_FACE]:j.Other,[R.OPENING]:j.Other,[R.UNRECOGNIZED]:j.Other};class Di extends ue{constructor(e=of()){super(void 0,new lf({color:16777215*Math.random(),flatShading:!0})),this.name="generic spatial entity",this.isSpatialEntity=!0,this._componentMap=new Map,this._spatialUUID=e}get spatialUUID(){return this._spatialUUID}updateMatrixWorld(e){super.updateMatrixWorld(e)}addComponent(e,n){let r=null;switch(e){case Q.Locatable:r=new E5(this,n);break;case Q.Bounded3D:r=new b5(this,n);break;case Q.Bounded2D:r=new w5(this,n);break;case Q.TriangleMesh:r=new _5(this,n);break;case Q.SemanticLabel:r=new T5(this,n);break}r&&this._componentMap.set(e,r)}getComponent(e){return this._componentMap.get(e)}duplicate(){const e=new Di;return this._componentMap.forEach((n,r,i)=>{e.addComponent(n.type,n.initData)}),e}get nativeEntity(){if(!this._nativeEntity){const e=new on({x:this.position.x,y:this.position.y,z:this.position.z,w:1},{x:this.quaternion.x,y:this.quaternion.y,z:this.quaternion.z,w:this.quaternion.w}),n=S5[this.getComponent(Q.SemanticLabel).semanticLabel];if(this.entityType===$e.Plane){const{offset:r,extent:i}=this.getComponent(Q.Bounded2D),s=[new DOMPointReadOnly(r.x,0,r.y),new DOMPointReadOnly(r.x+i.x,0,r.y),new DOMPointReadOnly(r.x+i.x,0,r.y+i.y),new DOMPointReadOnly(r.x,0,r.y+i.y),new DOMPointReadOnly(r.x,0,r.y)];this._nativeEntity=new c3(e,s,n)}else if(this.entityType===$e.Box||this.entityType===$e.Mesh){const r=this.geometry.getAttribute("position").array,i=new Uint32Array(this.geometry.index.array);this._nativeEntity=new s3(e,r,i,n)}}return this._nativeEntity}static fromPBJSON(e){const n=Xu.fromJSON(e);if(n.locatable_META){const r=new Di(n.uuid);return r.addComponent(Q.Locatable,n.locatable_META),n.semanticLabel_META&&r.addComponent(Q.SemanticLabel,n.semanticLabel_META),n.bounded2D_META?r.addComponent(Q.Bounded2D,n.bounded2D_META):n.bounded3D_META?r.addComponent(Q.Bounded3D,n.bounded3D_META):n.triangleMesh_META&&r.addComponent(Q.TriangleMesh,n.triangleMesh_META),r}}get entityType(){if(this.getComponent(Q.Bounded2D))return $e.Plane;if(this.getComponent(Q.Bounded3D))return $e.Box;if(this.getComponent(Q.TriangleMesh))return $e.Mesh}static toPBJSON(e){var n,r,i,s,a;return{uuid:e.spatialUUID,locatable_META:(n=e.getComponent(Q.Locatable))===null||n===void 0?void 0:n.pbData,boundary2D_META:void 0,bounded2D_META:(r=e.getComponent(Q.Bounded2D))===null||r===void 0?void 0:r.pbData,bounded3D_META:(i=e.getComponent(Q.Bounded3D))===null||i===void 0?void 0:i.pbData,semanticLabel_META:(s=e.getComponent(Q.SemanticLabel))===null||s===void 0?void 0:s.pbData,roomLayout_META:void 0,spaceContainer_META:void 0,triangleMesh_META:(a=e.getComponent(Q.TriangleMesh))===null||a===void 0?void 0:a.pbData,dynamicObject_META:void 0}}}const A5={living_room:()=>cr(()=>import("./living_room-CVCYIB7e.js"),[]),meeting_room:()=>cr(()=>import("./meeting_room-COtFIOij.js"),[]),music_room:()=>cr(()=>import("./music_room-DAOruTFO.js"),[]),office_large:()=>cr(()=>import("./office_large-DoJFWIAy.js"),[]),office_small:()=>cr(()=>import("./office_small-BStFvcdU.js"),[])},Bc="0.2.4",M5=new _(0,0,-1);class R5 extends EventTarget{constructor(e){super(),this.xrDevice=e,this.trackedPlanes=new Set,this.trackedMeshes=new Set,this.version=Bc,this.objectMap=new Map,this.planes=new be,this.boxes=new be,this.meshes=new be,this.tempPosition=new _,this.tempQuaternion=new q,this.tempDirection=new _,this.tempScale=new _,this.tempMatrix=new mt,this.raycaster=new cf,this.hitTestTarget=new be,this.hitTestMarker=new Oa,this.worldNormal=new _,this.normalMatrix=new uf,this.scene=new Zc,this.scene.background=new Wc(4079166),this.camera=new Qc(50,window.innerWidth/window.innerHeight,.1,40),this.camera.position.set(0,1.6,5);const n=new ff(50,50);this.scene.add(n),this.scene.add(this.planes,this.boxes,this.meshes),this.planes.renderOrder=1,this.boxes.renderOrder=2,this.meshes.renderOrder=3,this.planes.visible=!1,this.boxes.visible=!1,this.renderer=new Kc({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="fixed",this.renderer.domElement.style.top="50vh",this.renderer.domElement.style.left="50vw",this.renderer.domElement.style.transform="translate(-50%, -50%)",this.hitTestTarget.add(this.hitTestMarker),this.hitTestMarker.rotateX(Math.PI/2)}get environmentCanvas(){return this.renderer.domElement}get planesVisible(){return this.planes.visible}set planesVisible(e){this.planes.visible=e}get boundingBoxesVisible(){return this.boxes.visible}set boundingBoxesVisible(e){this.boxes.visible=e}get meshesVisible(){return this.meshes.visible}set meshesVisible(e){this.meshes.visible=e}render(){this.camera.position.copy(this.xrDevice.position),this.camera.quaternion.copy(this.xrDevice.quaternion);const e=this.xrDevice.fovy/Math.PI*180;let n=!1;this.camera.fov!==e&&(this.camera.fov=e,n=!0);const r=this.xrDevice.canvasDimensions;if(r){const i=this.renderer.domElement;(i.width!==r.width||i.height!==r.height)&&(this.camera.aspect=r.width/r.height,this.renderer.setSize(r.width,r.height),n=!0)}n&&this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera)}deleteAll(){[...this.objectMap.values()].forEach(e=>{e.removeFromParent()}),this.objectMap.clear(),this.trackedMeshes.clear(),this.trackedPlanes.clear()}loadEnvironment(e){this.deleteAll(),e.spatialEntities.forEach(n=>{const r=Di.fromPBJSON(n);if(r){switch(r.entityType){case $e.Box:this.boxes.add(r),this.trackedMeshes.add(r.nativeEntity);break;case $e.Plane:this.planes.add(r),this.trackedPlanes.add(r.nativeEntity);break;case $e.Mesh:this.meshes.add(r),this.trackedMeshes.add(r.nativeEntity);break}const i=this.objectMap.get(n.uuid);i&&i.removeFromParent(),this.objectMap.set(n.uuid,r)}})}loadDefaultEnvironment(e){if(typeof __IS_UMD__<"u"&&__IS_UMD__){const n=`https://www.unpkg.com/@iwer/sem@${Bc}/captures/${e}.json`;fetch(n).then(r=>{if(!r.ok)throw new Error(`Network response was not ok: ${r.statusText}`);return r.json()}).then(r=>{this.loadEnvironment(r)}).catch(r=>{console.error(`Error loading environment ${e} from CDN`,r)})}else{const n=A5[e];if(!n){console.error(`Requested environment ${e} does not exist`);return}n().then(r=>{const i=r.default;this.loadEnvironment(i)}).catch(r=>{console.error(`Error loading environment ${e} locally`,r)})}}computeHitTestResults(e){return this.tempMatrix.fromArray(e),this.tempMatrix.decompose(this.tempPosition,this.tempQuaternion,this.tempScale),this.tempDirection.copy(M5).applyQuaternion(this.tempQuaternion).normalize(),this.raycaster.set(this.tempPosition,this.tempDirection),this.raycaster.intersectObject(this.meshes,!0).map(i=>{var s;const a=i.point;if(this.hitTestTarget.position.copy(a),!((s=i.face)===null||s===void 0)&&s.normal){this.worldNormal.copy(i.face.normal);const o=i.object;this.worldNormal.applyMatrix3(this.normalMatrix.getNormalMatrix(o.matrixWorld)).normalize(),this.hitTestTarget.lookAt(this.tempPosition.addVectors(a,this.worldNormal))}else this.hitTestTarget.quaternion.set(0,0,0,1);return this.hitTestTarget.updateMatrixWorld(!0),this.hitTestMarker.matrixWorld.toArray()})}}const P5={metaQuest3:s5,metaQuest2:r5,metaQuestPro:i5,oculusQuest1:n5},jc=["office_small","meeting_room","living_room","music_room","office_large"],O5=["left","none","right"];function C5(t){const e=typeof t=="string"?t:t.type??"metaQuest3",n=new Q3(P5[e],typeof t=="string"?void 0:t);typeof t!="string"&&(qu(n,t.headset),Vc(n.hands,t.hand),Vc(n.controllers,t.controller),n.primaryInputMode=t.primaryInputMode??"controller"),n.ipd=typeof t=="string"?0:t.ipd??0,n.installRuntime(),n.installDevUI(Np);const r=typeof t=="string"?!0:t.syntheticEnvironment;return r===!1||(n.installSEM(R5),r===null)?n:typeof r=="string"&&jc.includes(r)?(n.sem?.loadDefaultEnvironment(r),n):r===!0||r===void 0?(n.sem?.loadDefaultEnvironment(jc[0]),n):typeof r=="object"?(n.sem?.loadEnvironment(r),n):(fetch(r).then(i=>i.json()).then(i=>n.sem?.loadEnvironment(i)).catch(console.error),n)}const Uc=new re,I5=new q;function Vc(t,e){if(e!=null)for(const n of O5)qu(t[n],e[n])}function qu(t,e){t==null||e==null||(Hc(t.position,e.position),Hc(Uc,e.rotation),Gc(t.quaternion,I5.setFromEuler(Uc)),Gc(t.quaternion,e.quaternion))}function Hc(t,e){if(e!=null){if(e instanceof re&&t instanceof re&&t.copy(e),Array.isArray(e)){t.x=e[0],t.y=e[1],t.z=e[2];return}t.x=e.x,t.y=e.y,t.z=e.z}}function Gc(t,e){if(e!=null){if(Array.isArray(e)){t.x=e[0],t.y=e[1],t.z=e[2],t.w=e[3];return}t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w}}export{C5 as emulate};
